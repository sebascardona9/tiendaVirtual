function kA(i,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in i)){const u=Object.getOwnPropertyDescriptor(s,o);u&&Object.defineProperty(i,o,u.get?u:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function MA(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var ym={exports:{}},Hl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jv;function VA(){if(jv)return Hl;jv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Hl.Fragment=e,Hl.jsx=n,Hl.jsxs=n,Hl}var zv;function PA(){return zv||(zv=1,ym.exports=VA()),ym.exports}var T=PA(),_m={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bv;function UA(){if(Bv)return Ie;Bv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function R(k){return k===null||typeof k!="object"?null:(k=S&&k[S]||k["@@iterator"],typeof k=="function"?k:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,Y={};function U(k,te,de){this.props=k,this.context=te,this.refs=Y,this.updater=de||L}U.prototype.isReactComponent={},U.prototype.setState=function(k,te){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,te,"setState")},U.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function ie(){}ie.prototype=U.prototype;function ne(k,te,de){this.props=k,this.context=te,this.refs=Y,this.updater=de||L}var ee=ne.prototype=new ie;ee.constructor=ne,j(ee,U.prototype),ee.isPureReactComponent=!0;var le=Array.isArray,se={H:null,A:null,T:null,S:null,V:null},ae=Object.prototype.hasOwnProperty;function C(k,te,de,ue,ye,Me){return de=Me.ref,{$$typeof:i,type:k,key:te,ref:de!==void 0?de:null,props:Me}}function w(k,te){return C(k.type,te,void 0,void 0,void 0,k.props)}function x(k){return typeof k=="object"&&k!==null&&k.$$typeof===i}function O(k){var te={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(de){return te[de]})}var N=/\/+/g;function V(k,te){return typeof k=="object"&&k!==null&&k.key!=null?O(""+k.key):te.toString(36)}function I(){}function fe(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(I,I):(k.status="pending",k.then(function(te){k.status==="pending"&&(k.status="fulfilled",k.value=te)},function(te){k.status==="pending"&&(k.status="rejected",k.reason=te)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function ve(k,te,de,ue,ye){var Me=typeof k;(Me==="undefined"||Me==="boolean")&&(k=null);var Ae=!1;if(k===null)Ae=!0;else switch(Me){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(k.$$typeof){case i:case e:Ae=!0;break;case E:return Ae=k._init,ve(Ae(k._payload),te,de,ue,ye)}}if(Ae)return ye=ye(k),Ae=ue===""?"."+V(k,0):ue,le(ye)?(de="",Ae!=null&&(de=Ae.replace(N,"$&/")+"/"),ve(ye,te,de,"",function(zn){return zn})):ye!=null&&(x(ye)&&(ye=w(ye,de+(ye.key==null||k&&k.key===ye.key?"":(""+ye.key).replace(N,"$&/")+"/")+Ae)),te.push(ye)),1;Ae=0;var Lt=ue===""?".":ue+":";if(le(k))for(var Qe=0;Qe<k.length;Qe++)ue=k[Qe],Me=Lt+V(ue,Qe),Ae+=ve(ue,te,de,Me,ye);else if(Qe=R(k),typeof Qe=="function")for(k=Qe.call(k),Qe=0;!(ue=k.next()).done;)ue=ue.value,Me=Lt+V(ue,Qe++),Ae+=ve(ue,te,de,Me,ye);else if(Me==="object"){if(typeof k.then=="function")return ve(fe(k),te,de,ue,ye);throw te=String(k),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function K(k,te,de){if(k==null)return k;var ue=[],ye=0;return ve(k,ue,"","",function(Me){return te.call(de,Me,ye++)}),ue}function re(k){if(k._status===-1){var te=k._result;te=te(),te.then(function(de){(k._status===0||k._status===-1)&&(k._status=1,k._result=de)},function(de){(k._status===0||k._status===-1)&&(k._status=2,k._result=de)}),k._status===-1&&(k._status=0,k._result=te)}if(k._status===1)return k._result.default;throw k._result}var he=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function ze(){}return Ie.Children={map:K,forEach:function(k,te,de){K(k,function(){te.apply(this,arguments)},de)},count:function(k){var te=0;return K(k,function(){te++}),te},toArray:function(k){return K(k,function(te){return te})||[]},only:function(k){if(!x(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Ie.Component=U,Ie.Fragment=n,Ie.Profiler=o,Ie.PureComponent=ne,Ie.StrictMode=s,Ie.Suspense=p,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=se,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(k){return se.H.useMemoCache(k)}},Ie.cache=function(k){return function(){return k.apply(null,arguments)}},Ie.cloneElement=function(k,te,de){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ue=j({},k.props),ye=k.key,Me=void 0;if(te!=null)for(Ae in te.ref!==void 0&&(Me=void 0),te.key!==void 0&&(ye=""+te.key),te)!ae.call(te,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&te.ref===void 0||(ue[Ae]=te[Ae]);var Ae=arguments.length-2;if(Ae===1)ue.children=de;else if(1<Ae){for(var Lt=Array(Ae),Qe=0;Qe<Ae;Qe++)Lt[Qe]=arguments[Qe+2];ue.children=Lt}return C(k.type,ye,void 0,void 0,Me,ue)},Ie.createContext=function(k){return k={$$typeof:f,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},Ie.createElement=function(k,te,de){var ue,ye={},Me=null;if(te!=null)for(ue in te.key!==void 0&&(Me=""+te.key),te)ae.call(te,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(ye[ue]=te[ue]);var Ae=arguments.length-2;if(Ae===1)ye.children=de;else if(1<Ae){for(var Lt=Array(Ae),Qe=0;Qe<Ae;Qe++)Lt[Qe]=arguments[Qe+2];ye.children=Lt}if(k&&k.defaultProps)for(ue in Ae=k.defaultProps,Ae)ye[ue]===void 0&&(ye[ue]=Ae[ue]);return C(k,Me,void 0,void 0,null,ye)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(k){return{$$typeof:m,render:k}},Ie.isValidElement=x,Ie.lazy=function(k){return{$$typeof:E,_payload:{_status:-1,_result:k},_init:re}},Ie.memo=function(k,te){return{$$typeof:g,type:k,compare:te===void 0?null:te}},Ie.startTransition=function(k){var te=se.T,de={};se.T=de;try{var ue=k(),ye=se.S;ye!==null&&ye(de,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(ze,he)}catch(Me){he(Me)}finally{se.T=te}},Ie.unstable_useCacheRefresh=function(){return se.H.useCacheRefresh()},Ie.use=function(k){return se.H.use(k)},Ie.useActionState=function(k,te,de){return se.H.useActionState(k,te,de)},Ie.useCallback=function(k,te){return se.H.useCallback(k,te)},Ie.useContext=function(k){return se.H.useContext(k)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(k,te){return se.H.useDeferredValue(k,te)},Ie.useEffect=function(k,te,de){var ue=se.H;if(typeof de=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ue.useEffect(k,te)},Ie.useId=function(){return se.H.useId()},Ie.useImperativeHandle=function(k,te,de){return se.H.useImperativeHandle(k,te,de)},Ie.useInsertionEffect=function(k,te){return se.H.useInsertionEffect(k,te)},Ie.useLayoutEffect=function(k,te){return se.H.useLayoutEffect(k,te)},Ie.useMemo=function(k,te){return se.H.useMemo(k,te)},Ie.useOptimistic=function(k,te){return se.H.useOptimistic(k,te)},Ie.useReducer=function(k,te,de){return se.H.useReducer(k,te,de)},Ie.useRef=function(k){return se.H.useRef(k)},Ie.useState=function(k){return se.H.useState(k)},Ie.useSyncExternalStore=function(k,te,de){return se.H.useSyncExternalStore(k,te,de)},Ie.useTransition=function(){return se.H.useTransition()},Ie.version="19.1.0",Ie}var qv;function _p(){return qv||(qv=1,_m.exports=UA()),_m.exports}var Q=_p();const $n=MA(Q),LA=kA({__proto__:null,default:$n},[Q]);var vm={exports:{}},Gl={},Em={exports:{}},Tm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fv;function jA(){return Fv||(Fv=1,function(i){function e(K,re){var he=K.length;K.push(re);e:for(;0<he;){var ze=he-1>>>1,k=K[ze];if(0<o(k,re))K[ze]=re,K[he]=k,he=ze;else break e}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var re=K[0],he=K.pop();if(he!==re){K[0]=he;e:for(var ze=0,k=K.length,te=k>>>1;ze<te;){var de=2*(ze+1)-1,ue=K[de],ye=de+1,Me=K[ye];if(0>o(ue,he))ye<k&&0>o(Me,ue)?(K[ze]=Me,K[ye]=he,ze=ye):(K[ze]=ue,K[de]=he,ze=de);else if(ye<k&&0>o(Me,he))K[ze]=Me,K[ye]=he,ze=ye;else break e}}return re}function o(K,re){var he=K.sortIndex-re.sortIndex;return he!==0?he:K.id-re.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,S=null,R=3,L=!1,j=!1,Y=!1,U=!1,ie=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;function le(K){for(var re=n(g);re!==null;){if(re.callback===null)s(g);else if(re.startTime<=K)s(g),re.sortIndex=re.expirationTime,e(p,re);else break;re=n(g)}}function se(K){if(Y=!1,le(K),!j)if(n(p)!==null)j=!0,ae||(ae=!0,V());else{var re=n(g);re!==null&&ve(se,re.startTime-K)}}var ae=!1,C=-1,w=5,x=-1;function O(){return U?!0:!(i.unstable_now()-x<w)}function N(){if(U=!1,ae){var K=i.unstable_now();x=K;var re=!0;try{e:{j=!1,Y&&(Y=!1,ne(C),C=-1),L=!0;var he=R;try{t:{for(le(K),S=n(p);S!==null&&!(S.expirationTime>K&&O());){var ze=S.callback;if(typeof ze=="function"){S.callback=null,R=S.priorityLevel;var k=ze(S.expirationTime<=K);if(K=i.unstable_now(),typeof k=="function"){S.callback=k,le(K),re=!0;break t}S===n(p)&&s(p),le(K)}else s(p);S=n(p)}if(S!==null)re=!0;else{var te=n(g);te!==null&&ve(se,te.startTime-K),re=!1}}break e}finally{S=null,R=he,L=!1}re=void 0}}finally{re?V():ae=!1}}}var V;if(typeof ee=="function")V=function(){ee(N)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,fe=I.port2;I.port1.onmessage=N,V=function(){fe.postMessage(null)}}else V=function(){ie(N,0)};function ve(K,re){C=ie(function(){K(i.unstable_now())},re)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(K){K.callback=null},i.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<K?Math.floor(1e3/K):5},i.unstable_getCurrentPriorityLevel=function(){return R},i.unstable_next=function(K){switch(R){case 1:case 2:case 3:var re=3;break;default:re=R}var he=R;R=re;try{return K()}finally{R=he}},i.unstable_requestPaint=function(){U=!0},i.unstable_runWithPriority=function(K,re){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var he=R;R=K;try{return re()}finally{R=he}},i.unstable_scheduleCallback=function(K,re,he){var ze=i.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?ze+he:ze):he=ze,K){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=he+k,K={id:E++,callback:re,priorityLevel:K,startTime:he,expirationTime:k,sortIndex:-1},he>ze?(K.sortIndex=he,e(g,K),n(p)===null&&K===n(g)&&(Y?(ne(C),C=-1):Y=!0,ve(se,he-ze))):(K.sortIndex=k,e(p,K),j||L||(j=!0,ae||(ae=!0,V()))),K},i.unstable_shouldYield=O,i.unstable_wrapCallback=function(K){var re=R;return function(){var he=R;R=re;try{return K.apply(this,arguments)}finally{R=he}}}}(Tm)),Tm}var Hv;function zA(){return Hv||(Hv=1,Em.exports=jA()),Em.exports}var bm={exports:{}},Wt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gv;function BA(){if(Gv)return Wt;Gv=1;var i=_p();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:g,implementation:E}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Wt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Wt.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},Wt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Wt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Wt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,S=m(E,g.crossOrigin),R=typeof g.integrity=="string"?g.integrity:void 0,L=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:R,fetchPriority:L}):E==="script"&&s.d.X(p,{crossOrigin:S,integrity:R,fetchPriority:L,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Wt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Wt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,S=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Wt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Wt.requestFormReset=function(p){s.d.r(p)},Wt.unstable_batchedUpdates=function(p,g){return p(g)},Wt.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},Wt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Wt.version="19.1.0",Wt}var Kv;function WE(){if(Kv)return bm.exports;Kv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),bm.exports=BA(),bm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qv;function qA(){if(Qv)return Gl;Qv=1;var i=zA(),e=_p(),n=WE();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function f(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,b=h.child;b;){if(b===a){v=!0,a=h,l=d;break}if(b===l){v=!0,l=h,a=d;break}b=b.sibling}if(!v){for(b=d.child;b;){if(b===a){v=!0,a=d,l=h;break}if(b===l){v=!0,l=d,a=h;break}b=b.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function g(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=g(t),r!==null)return r;t=t.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),ie=Symbol.for("react.provider"),ne=Symbol.for("react.consumer"),ee=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function fe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case j:return"Fragment";case U:return"Profiler";case Y:return"StrictMode";case se:return"Suspense";case ae:return"SuspenseList";case x:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case L:return"Portal";case ee:return(t.displayName||"Context")+".Provider";case ne:return(t._context.displayName||"Context")+".Consumer";case le:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return r=t.displayName||null,r!==null?r:fe(t.type)||"Memo";case w:r=t._payload,t=t._init;try{return fe(t(r))}catch{}}return null}var ve=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},ze=[],k=-1;function te(t){return{current:t}}function de(t){0>k||(t.current=ze[k],ze[k]=null,k--)}function ue(t,r){k++,ze[k]=t.current,t.current=r}var ye=te(null),Me=te(null),Ae=te(null),Lt=te(null);function Qe(t,r){switch(ue(Ae,r),ue(Me,t),ue(ye,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?dv(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=dv(r),t=mv(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}de(ye),ue(ye,t)}function zn(){de(ye),de(Me),de(Ae)}function Lo(t){t.memoizedState!==null&&ue(Lt,t);var r=ye.current,a=mv(r,t.type);r!==a&&(ue(Me,t),ue(ye,a))}function ya(t){Me.current===t&&(de(ye),de(Me)),Lt.current===t&&(de(Lt),jl._currentValue=he)}var _a=Object.prototype.hasOwnProperty,gs=i.unstable_scheduleCallback,va=i.unstable_cancelCallback,_f=i.unstable_shouldYield,jo=i.unstable_requestPaint,on=i.unstable_now,Vu=i.unstable_getCurrentPriorityLevel,xt=i.unstable_ImmediatePriority,Ot=i.unstable_UserBlockingPriority,xi=i.unstable_NormalPriority,vf=i.unstable_LowPriority,zo=i.unstable_IdlePriority,Ef=i.log,ys=i.unstable_setDisableYieldValue,or=null,Kt=null;function Rn(t){if(typeof Ef=="function"&&ys(t),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(or,t)}catch{}}var en=Math.clz32?Math.clz32:Uu,Tf=Math.log,Pu=Math.LN2;function Uu(t){return t>>>=0,t===0?32:31-(Tf(t)/Pu|0)|0}var ni=256,lr=4194304;function Bn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function xn(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?h=Bn(l):(v&=b,v!==0?h=Bn(v):a||(a=b&~t,a!==0&&(h=Bn(a))))):(b=l&~d,b!==0?h=Bn(b):v!==0?h=Bn(v):a||(a=l&~t,a!==0&&(h=Bn(a)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:h}function ur(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Ea(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bo(){var t=ni;return ni<<=1,(ni&4194048)===0&&(ni=256),t}function cr(){var t=lr;return lr<<=1,(lr&62914560)===0&&(lr=4194304),t}function Ta(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function pt(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Lu(t,r,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,D=t.expirationTimes,q=t.hiddenUpdates;for(a=v&~a;0<a;){var W=31-en(a),Z=1<<W;b[W]=0,D[W]=-1;var F=q[W];if(F!==null)for(q[W]=null,W=0;W<F.length;W++){var H=F[W];H!==null&&(H.lane&=-536870913)}a&=~Z}l!==0&&hr(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~r))}function hr(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-en(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function fr(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-en(a),h=1<<l;h&r|t[l]&r&&(t[l]|=r),a&=~h}}function qo(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Fo(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ci(){var t=re.p;return t!==0?t:(t=window.event,t===void 0?32:kv(t.type))}function bf(t,r){var a=re.p;try{return re.p=t,r()}finally{re.p=a}}var ii=Math.random().toString(36).slice(2),gt="__reactFiber$"+ii,jt="__reactProps$"+ii,Ii="__reactContainer$"+ii,_s="__reactEvents$"+ii,vs="__reactListeners$"+ii,Sf="__reactHandles$"+ii,qn="__reactResources$"+ii,dr="__reactMarker$"+ii;function ba(t){delete t[gt],delete t[jt],delete t[_s],delete t[vs],delete t[Sf]}function ri(t){var r=t[gt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Ii]||a[gt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=_v(t);t!==null;){if(a=t[gt])return a;t=_v(t)}return r}t=a,a=t.parentNode}return null}function si(t){if(t=t[gt]||t[Ii]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function mr(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function pr(t){var r=t[qn];return r||(r=t[qn]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function yt(t){t[dr]=!0}var ju=new Set,Es={};function ai(t,r){oi(t,r),oi(t+"Capture",r)}function oi(t,r){for(Es[t]=r,t=0;t<r.length;t++)ju.add(r[t])}var Ts=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),li={},Sa={};function Af(t){return _a.call(Sa,t)?!0:_a.call(li,t)?!1:Ts.test(t)?Sa[t]=!0:(li[t]=!0,!1)}function bs(t,r,a){if(Af(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function Ss(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Cn(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}var As,Aa;function Di(t){if(As===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);As=r&&r[1]||"",Aa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+As+t+Aa}var wa=!1;function Ra(t,r){if(!t||wa)return"";wa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(H){var F=H}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(H){F=H}t.call(Z.prototype)}}else{try{throw Error()}catch(H){F=H}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(H){if(H&&F&&typeof H.stack=="string")return[H.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],b=d[1];if(v&&b){var D=v.split(`
`),q=b.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===q.length)for(l=D.length-1,h=q.length-1;1<=l&&0<=h&&D[l]!==q[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==q[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==q[h]){var W=`
`+D[l].replace(" at new "," at ");return t.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",t.displayName)),W}while(1<=l&&0<=h);break}}}finally{wa=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Di(a):""}function wf(t){switch(t.tag){case 26:case 27:case 5:return Di(t.type);case 16:return Di("Lazy");case 13:return Di("Suspense");case 19:return Di("SuspenseList");case 0:case 15:return Ra(t.type,!1);case 11:return Ra(t.type.render,!1);case 1:return Ra(t.type,!0);case 31:return Di("Activity");default:return""}}function Fn(t){try{var r="";do r+=wf(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function at(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function gr(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ws(t){var r=gr(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function yr(t){t._valueTracker||(t._valueTracker=ws(t))}function Ye(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=gr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function Ni(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Rs=/[\n"\\]/g;function kt(t){return t.replace(Rs,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ho(t,r,a,l,h,d,v,b){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),r!=null?v==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+at(r)):t.value!==""+at(r)&&(t.value=""+at(r)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),r!=null?Ko(t,v,at(r)):a!=null?Ko(t,v,at(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+at(b):t.removeAttribute("name")}function Go(t,r,a,l,h,d,v,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+at(a):"",r=r!=null?""+at(r):a,b||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function Ko(t,r,a){r==="number"&&Ni(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function _r(t,r,a,l){if(t=t.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=r.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+at(a),r=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function zu(t,r,a){if(r!=null&&(r=""+at(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+at(a):""}function Bu(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(ve(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=at(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function In(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var Oi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qo(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||Oi.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function Yo(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&Qo(t,h,l)}else for(var d in r)r.hasOwnProperty(d)&&Qo(t,d,r[d])}function xa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hn(t){return Fu.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Wo=null;function Xo(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vr=null,tn=null;function Hu(t){var r=si(t);if(r&&(t=r.stateNode)){var a=t[jt]||null;e:switch(t=r.stateNode,r.type){case"input":if(Ho(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+kt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var h=l[jt]||null;if(!h)throw Error(s(90));Ho(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Ye(l)}break e;case"textarea":zu(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&_r(t,!!a.multiple,r,!1)}}}var xs=!1;function Cs(t,r,a){if(xs)return t(r,a);xs=!0;try{var l=t(r);return l}finally{if(xs=!1,(vr!==null||tn!==null)&&(kc(),vr&&(r=vr,t=tn,tn=vr=null,Hu(r),t)))for(r=0;r<t.length;r++)Hu(t[r])}}function Er(t,r){var a=t.stateNode;if(a===null)return null;var l=a[jt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ki=!1;if(nn)try{var Tr={};Object.defineProperty(Tr,"passive",{get:function(){ki=!0}}),window.addEventListener("test",Tr,Tr),window.removeEventListener("test",Tr,Tr)}catch{ki=!1}var Dn=null,Je=null,Ca=null;function Gu(){if(Ca)return Ca;var t,r=Je,a=r.length,l,h="value"in Dn?Dn.value:Dn.textContent,d=h.length;for(t=0;t<a&&r[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&r[a-l]===h[d-l];l++);return Ca=h.slice(t,1<l?1-l:void 0)}function Is(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Ds(){return!0}function $o(){return!1}function Ct(t){function r(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ds:$o,this.isPropagationStopped=$o,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ds)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ds)},persist:function(){},isPersistent:Ds}),r}var Qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ns=Ct(Qt),Os=E({},Qt,{view:0,detail:0}),ks=Ct(Os),Ia,Ms,ui,Vs=E({},Os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ui&&(ui&&t.type==="mousemove"?(Ia=t.screenX-ui.screenX,Ms=t.screenY-ui.screenY):Ms=Ia=0,ui=t),Ia)},movementY:function(t){return"movementY"in t?t.movementY:Ms}}),Ps=Ct(Vs),Rf=E({},Vs,{dataTransfer:0}),Ku=Ct(Rf),Us=E({},Os,{relatedTarget:0}),Da=Ct(Us),Qu=E({},Qt,{animationName:0,elapsedTime:0,pseudoElement:0}),Zo=Ct(Qu),Jo=E({},Qt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Yu=Ct(Jo),Na=E({},Qt,{data:0}),el=Ct(Na),Wu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $u(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Xu[t])?!!r[t]:!1}function Oa(){return $u}var Zu=E({},Os,{key:function(t){if(t.key){var r=Wu[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Is(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Mi[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oa,charCode:function(t){return t.type==="keypress"?Is(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Is(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ka=Ct(Zu),rn=E({},Vs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tl=Ct(rn),Ju=E({},Os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oa}),br=Ct(Ju),c=E({},Qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),y=Ct(c),_=E({},Vs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),A=Ct(_),B=E({},Qt,{newState:0,oldState:0}),G=Ct(B),oe=[9,13,27,32],xe=nn&&"CompositionEvent"in window,nt=null;nn&&"documentMode"in document&&(nt=document.documentMode);var He=nn&&"TextEvent"in window&&!nt,_t=nn&&(!xe||nt&&8<nt&&11>=nt),mn=" ",ci=!1;function Gn(t,r){switch(t){case"keyup":return oe.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kn(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qn=!1;function nl(t,r){switch(t){case"compositionend":return Kn(r);case"keypress":return r.which!==32?null:(ci=!0,mn);case"textInput":return t=r.data,t===mn&&ci?null:t;default:return null}}function a1(t,r){if(Qn)return t==="compositionend"||!xe&&Gn(t,r)?(t=Gu(),Ca=Je=Dn=null,Qn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _t&&r.locale!=="ko"?null:r.data;default:return null}}var o1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xg(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!o1[t.type]:r==="textarea"}function Cg(t,r,a,l){vr?tn?tn.push(l):tn=[l]:vr=l,r=jc(r,"onChange"),0<r.length&&(a=new Ns("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var il=null,rl=null;function l1(t){lv(t,0)}function ec(t){var r=mr(t);if(Ye(r))return t}function Ig(t,r){if(t==="change")return r}var Dg=!1;if(nn){var xf;if(nn){var Cf="oninput"in document;if(!Cf){var Ng=document.createElement("div");Ng.setAttribute("oninput","return;"),Cf=typeof Ng.oninput=="function"}xf=Cf}else xf=!1;Dg=xf&&(!document.documentMode||9<document.documentMode)}function Og(){il&&(il.detachEvent("onpropertychange",kg),rl=il=null)}function kg(t){if(t.propertyName==="value"&&ec(rl)){var r=[];Cg(r,rl,t,Xo(t)),Cs(l1,r)}}function u1(t,r,a){t==="focusin"?(Og(),il=r,rl=a,il.attachEvent("onpropertychange",kg)):t==="focusout"&&Og()}function c1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ec(rl)}function h1(t,r){if(t==="click")return ec(r)}function f1(t,r){if(t==="input"||t==="change")return ec(r)}function d1(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var pn=typeof Object.is=="function"?Object.is:d1;function sl(t,r){if(pn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!_a.call(r,h)||!pn(t[h],r[h]))return!1}return!0}function Mg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Vg(t,r){var a=Mg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Mg(a)}}function Pg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Pg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Ug(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Ni(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Ni(t.document)}return r}function If(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var m1=nn&&"documentMode"in document&&11>=document.documentMode,Ma=null,Df=null,al=null,Nf=!1;function Lg(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Nf||Ma==null||Ma!==Ni(l)||(l=Ma,"selectionStart"in l&&If(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),al&&sl(al,l)||(al=l,l=jc(Df,"onSelect"),0<l.length&&(r=new Ns("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Ma)))}function Ls(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Va={animationend:Ls("Animation","AnimationEnd"),animationiteration:Ls("Animation","AnimationIteration"),animationstart:Ls("Animation","AnimationStart"),transitionrun:Ls("Transition","TransitionRun"),transitionstart:Ls("Transition","TransitionStart"),transitioncancel:Ls("Transition","TransitionCancel"),transitionend:Ls("Transition","TransitionEnd")},Of={},jg={};nn&&(jg=document.createElement("div").style,"AnimationEvent"in window||(delete Va.animationend.animation,delete Va.animationiteration.animation,delete Va.animationstart.animation),"TransitionEvent"in window||delete Va.transitionend.transition);function js(t){if(Of[t])return Of[t];if(!Va[t])return t;var r=Va[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in jg)return Of[t]=r[a];return t}var zg=js("animationend"),Bg=js("animationiteration"),qg=js("animationstart"),p1=js("transitionrun"),g1=js("transitionstart"),y1=js("transitioncancel"),Fg=js("transitionend"),Hg=new Map,kf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kf.push("scrollEnd");function Yn(t,r){Hg.set(t,r),ai(r,[t])}var Gg=new WeakMap;function Nn(t,r){if(typeof t=="object"&&t!==null){var a=Gg.get(t);return a!==void 0?a:(r={value:t,source:r,stack:Fn(r)},Gg.set(t,r),r)}return{value:t,source:r,stack:Fn(r)}}var On=[],Pa=0,Mf=0;function tc(){for(var t=Pa,r=Mf=Pa=0;r<t;){var a=On[r];On[r++]=null;var l=On[r];On[r++]=null;var h=On[r];On[r++]=null;var d=On[r];if(On[r++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Kg(a,h,d)}}function nc(t,r,a,l){On[Pa++]=t,On[Pa++]=r,On[Pa++]=a,On[Pa++]=l,Mf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Vf(t,r,a,l){return nc(t,r,a,l),ic(t)}function Ua(t,r){return nc(t,null,null,r),ic(t)}function Kg(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&r!==null&&(h=31-en(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[r]:l.push(r),r.lane=a|536870912),d):null}function ic(t){if(50<Nl)throw Nl=0,Bd=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var La={};function _1(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(t,r,a,l){return new _1(t,r,a,l)}function Pf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Vi(t,r){var a=t.alternate;return a===null?(a=gn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Qg(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function rc(t,r,a,l,h,d){var v=0;if(l=t,typeof t=="function")Pf(t)&&(v=1);else if(typeof t=="string")v=EA(t,a,ye.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case x:return t=gn(31,a,r,h),t.elementType=x,t.lanes=d,t;case j:return zs(a.children,h,d,r);case Y:v=8,h|=24;break;case U:return t=gn(12,a,r,h|2),t.elementType=U,t.lanes=d,t;case se:return t=gn(13,a,r,h),t.elementType=se,t.lanes=d,t;case ae:return t=gn(19,a,r,h),t.elementType=ae,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ie:case ee:v=10;break e;case ne:v=9;break e;case le:v=11;break e;case C:v=14;break e;case w:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=gn(v,a,r,h),r.elementType=t,r.type=l,r.lanes=d,r}function zs(t,r,a,l){return t=gn(7,t,l,r),t.lanes=a,t}function Uf(t,r,a){return t=gn(6,t,null,r),t.lanes=a,t}function Lf(t,r,a){return r=gn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var ja=[],za=0,sc=null,ac=0,kn=[],Mn=0,Bs=null,Pi=1,Ui="";function qs(t,r){ja[za++]=ac,ja[za++]=sc,sc=t,ac=r}function Yg(t,r,a){kn[Mn++]=Pi,kn[Mn++]=Ui,kn[Mn++]=Bs,Bs=t;var l=Pi;t=Ui;var h=32-en(l)-1;l&=~(1<<h),a+=1;var d=32-en(r)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Pi=1<<32-en(r)+h|a<<h|l,Ui=d+t}else Pi=1<<d|a<<h|l,Ui=t}function jf(t){t.return!==null&&(qs(t,1),Yg(t,1,0))}function zf(t){for(;t===sc;)sc=ja[--za],ja[za]=null,ac=ja[--za],ja[za]=null;for(;t===Bs;)Bs=kn[--Mn],kn[Mn]=null,Ui=kn[--Mn],kn[Mn]=null,Pi=kn[--Mn],kn[Mn]=null}var sn=null,ct=null,qe=!1,Fs=null,hi=!1,Bf=Error(s(519));function Hs(t){var r=Error(s(418,""));throw ul(Nn(r,t)),Bf}function Wg(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[gt]=t,r[jt]=l,a){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(a=0;a<kl.length;a++)ke(kl[a],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":ke("invalid",r),Go(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),yr(r);break;case"select":ke("invalid",r);break;case"textarea":ke("invalid",r),Bu(r,l.value,l.defaultValue,l.children),yr(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||fv(r.textContent,a)?(l.popover!=null&&(ke("beforetoggle",r),ke("toggle",r)),l.onScroll!=null&&ke("scroll",r),l.onScrollEnd!=null&&ke("scrollend",r),l.onClick!=null&&(r.onclick=zc),r=!0):r=!1,r||Hs(t)}function Xg(t){for(sn=t.return;sn;)switch(sn.tag){case 5:case 13:hi=!1;return;case 27:case 3:hi=!0;return;default:sn=sn.return}}function ol(t){if(t!==sn)return!1;if(!qe)return Xg(t),qe=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||im(t.type,t.memoizedProps)),a=!a),a&&ct&&Hs(t),Xg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){ct=Xn(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}ct=null}}else r===27?(r=ct,Lr(t.type)?(t=om,om=null,ct=t):ct=r):ct=sn?Xn(t.stateNode.nextSibling):null;return!0}function ll(){ct=sn=null,qe=!1}function $g(){var t=Fs;return t!==null&&(cn===null?cn=t:cn.push.apply(cn,t),Fs=null),t}function ul(t){Fs===null?Fs=[t]:Fs.push(t)}var qf=te(null),Gs=null,Li=null;function Sr(t,r,a){ue(qf,r._currentValue),r._currentValue=a}function ji(t){t._currentValue=qf.current,de(qf)}function Ff(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function Hf(t,r,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=h;for(var D=0;D<r.length;D++)if(b.context===r[D]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),Ff(d.return,a,t),l||(v=null);break e}d=b.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Ff(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function cl(t,r,a,l){t=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var b=h.type;pn(h.pendingProps.value,v.value)||(t!==null?t.push(b):t=[b])}}else if(h===Lt.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(jl):t=[jl])}h=h.return}t!==null&&Hf(r,t,a,l),r.flags|=262144}function oc(t){for(t=t.firstContext;t!==null;){if(!pn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ks(t){Gs=t,Li=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Yt(t){return Zg(Gs,t)}function lc(t,r){return Gs===null&&Ks(t),Zg(t,r)}function Zg(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Li===null){if(t===null)throw Error(s(308));Li=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Li=Li.next=r;return a}var v1=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},E1=i.unstable_scheduleCallback,T1=i.unstable_NormalPriority,It={$$typeof:ee,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gf(){return{controller:new v1,data:new Map,refCount:0}}function hl(t){t.refCount--,t.refCount===0&&E1(T1,function(){t.controller.abort()})}var fl=null,Kf=0,Ba=0,qa=null;function b1(t,r){if(fl===null){var a=fl=[];Kf=0,Ba=Yd(),qa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Kf++,r.then(Jg,Jg),r}function Jg(){if(--Kf===0&&fl!==null){qa!==null&&(qa.status="fulfilled");var t=fl;fl=null,Ba=0,qa=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function S1(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var ey=K.S;K.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&b1(t,r),ey!==null&&ey(t,r)};var Qs=te(null);function Qf(){var t=Qs.current;return t!==null?t:et.pooledCache}function uc(t,r){r===null?ue(Qs,Qs.current):ue(Qs,r.pool)}function ty(){var t=Qf();return t===null?null:{parent:It._currentValue,pool:t}}var dl=Error(s(460)),ny=Error(s(474)),cc=Error(s(542)),Yf={then:function(){}};function iy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function hc(){}function ry(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(hc,hc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,ay(t),t;default:if(typeof r.status=="string")r.then(hc,hc);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,ay(t),t}throw ml=r,dl}}var ml=null;function sy(){if(ml===null)throw Error(s(459));var t=ml;return ml=null,t}function ay(t){if(t===dl||t===cc)throw Error(s(483))}var Ar=!1;function Wf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function wr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Rr(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=ic(t),Kg(t,null,a),r}return nc(t,l,r,a),ic(t)}function pl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,fr(t,a)}}function $f(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=r:d=d.next=r}else h=d=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var Zf=!1;function gl(){if(Zf){var t=qa;if(t!==null)throw t}}function yl(t,r,a,l){Zf=!1;var h=t.updateQueue;Ar=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var D=b,q=D.next;D.next=null,v===null?d=q:v.next=q,v=D;var W=t.alternate;W!==null&&(W=W.updateQueue,b=W.lastBaseUpdate,b!==v&&(b===null?W.firstBaseUpdate=q:b.next=q,W.lastBaseUpdate=D))}if(d!==null){var Z=h.baseState;v=0,W=q=D=null,b=d;do{var F=b.lane&-536870913,H=F!==b.lane;if(H?(Le&F)===F:(l&F)===F){F!==0&&F===Ba&&(Zf=!0),W!==null&&(W=W.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var we=t,Ee=b;F=r;var $e=a;switch(Ee.tag){case 1:if(we=Ee.payload,typeof we=="function"){Z=we.call($e,Z,F);break e}Z=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=Ee.payload,F=typeof we=="function"?we.call($e,Z,F):we,F==null)break e;Z=E({},Z,F);break e;case 2:Ar=!0}}F=b.callback,F!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[F]:H.push(F))}else H={lane:F,tag:b.tag,payload:b.payload,callback:b.callback,next:null},W===null?(q=W=H,D=Z):W=W.next=H,v|=F;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;H=b,b=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);W===null&&(D=Z),h.baseState=D,h.firstBaseUpdate=q,h.lastBaseUpdate=W,d===null&&(h.shared.lanes=0),Mr|=v,t.lanes=v,t.memoizedState=Z}}function oy(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function ly(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)oy(a[t],r)}var Fa=te(null),fc=te(0);function uy(t,r){t=Ki,ue(fc,t),ue(Fa,r),Ki=t|r.baseLanes}function Jf(){ue(fc,Ki),ue(Fa,Fa.current)}function ed(){Ki=fc.current,de(Fa),de(fc)}var xr=0,De=null,We=null,bt=null,dc=!1,Ha=!1,Ys=!1,mc=0,_l=0,Ga=null,A1=0;function vt(){throw Error(s(321))}function td(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!pn(t[a],r[a]))return!1;return!0}function nd(t,r,a,l,h,d){return xr=d,De=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,K.H=t===null||t.memoizedState===null?Ky:Qy,Ys=!1,d=a(l,h),Ys=!1,Ha&&(d=hy(r,a,l,h)),cy(t),d}function cy(t){K.H=Ec;var r=We!==null&&We.next!==null;if(xr=0,bt=We=De=null,dc=!1,_l=0,Ga=null,r)throw Error(s(300));t===null||Mt||(t=t.dependencies,t!==null&&oc(t)&&(Mt=!0))}function hy(t,r,a,l){De=t;var h=0;do{if(Ha&&(Ga=null),_l=0,Ha=!1,25<=h)throw Error(s(301));if(h+=1,bt=We=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=N1,d=r(a,l)}while(Ha);return d}function w1(){var t=K.H,r=t.useState()[0];return r=typeof r.then=="function"?vl(r):r,t=t.useState()[0],(We!==null?We.memoizedState:null)!==t&&(De.flags|=1024),r}function id(){var t=mc!==0;return mc=0,t}function rd(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function sd(t){if(dc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}dc=!1}xr=0,bt=We=De=null,Ha=!1,_l=mc=0,Ga=null}function ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?De.memoizedState=bt=t:bt=bt.next=t,bt}function St(){if(We===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var r=bt===null?De.memoizedState:bt.next;if(r!==null)bt=r,We=t;else{if(t===null)throw De.alternate===null?Error(s(467)):Error(s(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},bt===null?De.memoizedState=bt=t:bt=bt.next=t}return bt}function ad(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vl(t){var r=_l;return _l+=1,Ga===null&&(Ga=[]),t=ry(Ga,t,r),r=De,(bt===null?r.memoizedState:bt.next)===null&&(r=r.alternate,K.H=r===null||r.memoizedState===null?Ky:Qy),t}function pc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return vl(t);if(t.$$typeof===ee)return Yt(t)}throw Error(s(438,String(t)))}function od(t){var r=null,a=De.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=De.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=ad(),De.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=O;return r.index++,a}function zi(t,r){return typeof r=="function"?r(t):r}function gc(t){var r=St();return ld(r,We,t)}function ld(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}r.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{r=h.next;var b=v=null,D=null,q=r,W=!1;do{var Z=q.lane&-536870913;if(Z!==q.lane?(Le&Z)===Z:(xr&Z)===Z){var F=q.revertLane;if(F===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),Z===Ba&&(W=!0);else if((xr&F)===F){q=q.next,F===Ba&&(W=!0);continue}else Z={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},D===null?(b=D=Z,v=d):D=D.next=Z,De.lanes|=F,Mr|=F;Z=q.action,Ys&&a(d,Z),d=q.hasEagerState?q.eagerState:a(d,Z)}else F={lane:Z,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},D===null?(b=D=F,v=d):D=D.next=F,De.lanes|=Z,Mr|=Z;q=q.next}while(q!==null&&q!==r);if(D===null?v=d:D.next=b,!pn(d,t.memoizedState)&&(Mt=!0,W&&(a=qa,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=D,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ud(t){var r=St(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=r.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);pn(d,r.memoizedState)||(Mt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function fy(t,r,a){var l=De,h=St(),d=qe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!pn((We||h).memoizedState,a);v&&(h.memoizedState=a,Mt=!0),h=h.queue;var b=py.bind(null,l,h,t);if(El(2048,8,b,[t]),h.getSnapshot!==r||v||bt!==null&&bt.memoizedState.tag&1){if(l.flags|=2048,Ka(9,yc(),my.bind(null,l,h,a,r),null),et===null)throw Error(s(349));d||(xr&124)!==0||dy(l,r,a)}return a}function dy(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=De.updateQueue,r===null?(r=ad(),De.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function my(t,r,a,l){r.value=a,r.getSnapshot=l,gy(r)&&yy(t)}function py(t,r,a){return a(function(){gy(r)&&yy(t)})}function gy(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!pn(t,a)}catch{return!0}}function yy(t){var r=Ua(t,2);r!==null&&Tn(r,t,2)}function cd(t){var r=ln();if(typeof t=="function"){var a=t;if(t=a(),Ys){Rn(!0);try{a()}finally{Rn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:t},r}function _y(t,r,a,l){return t.baseState=a,ld(t,We,typeof l=="function"?l:zi)}function R1(t,r,a,l,h){if(vc(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};K.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,vy(r,d)):(d.next=a.next,r.pending=a.next=d)}}function vy(t,r){var a=r.action,l=r.payload,h=t.state;if(r.isTransition){var d=K.T,v={};K.T=v;try{var b=a(h,l),D=K.S;D!==null&&D(v,b),Ey(t,r,b)}catch(q){hd(t,r,q)}finally{K.T=d}}else try{d=a(h,l),Ey(t,r,d)}catch(q){hd(t,r,q)}}function Ey(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Ty(t,r,l)},function(l){return hd(t,r,l)}):Ty(t,r,a)}function Ty(t,r,a){r.status="fulfilled",r.value=a,by(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,vy(t,a)))}function hd(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,by(r),r=r.next;while(r!==l)}t.action=null}function by(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Sy(t,r){return r}function Ay(t,r){if(qe){var a=et.formState;if(a!==null){e:{var l=De;if(qe){if(ct){t:{for(var h=ct,d=hi;h.nodeType!==8;){if(!d){h=null;break t}if(h=Xn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ct=Xn(h.nextSibling),l=h.data==="F!";break e}}Hs(l)}l=!1}l&&(r=a[0])}}return a=ln(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sy,lastRenderedState:r},a.queue=l,a=Fy.bind(null,De,l),l.dispatch=a,l=cd(!1),d=gd.bind(null,De,!1,l.queue),l=ln(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,a=R1.bind(null,De,h,d,a),h.dispatch=a,l.memoizedState=t,[r,a,!1]}function wy(t){var r=St();return Ry(r,We,t)}function Ry(t,r,a){if(r=ld(t,r,Sy)[0],t=gc(zi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=vl(r)}catch(v){throw v===dl?cc:v}else l=r;r=St();var h=r.queue,d=h.dispatch;return a!==r.memoizedState&&(De.flags|=2048,Ka(9,yc(),x1.bind(null,h,a),null)),[l,d,t]}function x1(t,r){t.action=r}function xy(t){var r=St(),a=We;if(a!==null)return Ry(r,a,t);St(),r=r.memoizedState,a=St();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function Ka(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=De.updateQueue,r===null&&(r=ad(),De.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function yc(){return{destroy:void 0,resource:void 0}}function Cy(){return St().memoizedState}function _c(t,r,a,l){var h=ln();l=l===void 0?null:l,De.flags|=t,h.memoizedState=Ka(1|r,yc(),a,l)}function El(t,r,a,l){var h=St();l=l===void 0?null:l;var d=h.memoizedState.inst;We!==null&&l!==null&&td(l,We.memoizedState.deps)?h.memoizedState=Ka(r,d,a,l):(De.flags|=t,h.memoizedState=Ka(1|r,d,a,l))}function Iy(t,r){_c(8390656,8,t,r)}function Dy(t,r){El(2048,8,t,r)}function Ny(t,r){return El(4,2,t,r)}function Oy(t,r){return El(4,4,t,r)}function ky(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function My(t,r,a){a=a!=null?a.concat([t]):null,El(4,4,ky.bind(null,r,t),a)}function fd(){}function Vy(t,r){var a=St();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&td(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function Py(t,r){var a=St();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&td(r,l[1]))return l[0];if(l=t(),Ys){Rn(!0);try{t()}finally{Rn(!1)}}return a.memoizedState=[l,r],l}function dd(t,r,a){return a===void 0||(xr&1073741824)!==0?t.memoizedState=r:(t.memoizedState=a,t=j_(),De.lanes|=t,Mr|=t,a)}function Uy(t,r,a,l){return pn(a,r)?a:Fa.current!==null?(t=dd(t,a,l),pn(t,r)||(Mt=!0),t):(xr&42)===0?(Mt=!0,t.memoizedState=a):(t=j_(),De.lanes|=t,Mr|=t,r)}function Ly(t,r,a,l,h){var d=re.p;re.p=d!==0&&8>d?d:8;var v=K.T,b={};K.T=b,gd(t,!1,r,a);try{var D=h(),q=K.S;if(q!==null&&q(b,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var W=S1(D,l);Tl(t,r,W,En(t))}else Tl(t,r,l,En(t))}catch(Z){Tl(t,r,{then:function(){},status:"rejected",reason:Z},En())}finally{re.p=d,K.T=v}}function C1(){}function md(t,r,a,l){if(t.tag!==5)throw Error(s(476));var h=jy(t).queue;Ly(t,h,r,he,a===null?C1:function(){return zy(t),a(l)})}function jy(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:he},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function zy(t){var r=jy(t).next.queue;Tl(t,r,{},En())}function pd(){return Yt(jl)}function By(){return St().memoizedState}function qy(){return St().memoizedState}function I1(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=En();t=wr(a);var l=Rr(r,t,a);l!==null&&(Tn(l,r,a),pl(l,r,a)),r={cache:Gf()},t.payload=r;return}r=r.return}}function D1(t,r,a){var l=En();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},vc(t)?Hy(r,a):(a=Vf(t,r,a,l),a!==null&&(Tn(a,t,l),Gy(a,r,l)))}function Fy(t,r,a){var l=En();Tl(t,r,a,l)}function Tl(t,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(vc(t))Hy(r,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var v=r.lastRenderedState,b=d(v,a);if(h.hasEagerState=!0,h.eagerState=b,pn(b,v))return nc(t,r,h,0),et===null&&tc(),!1}catch{}finally{}if(a=Vf(t,r,h,l),a!==null)return Tn(a,t,l),Gy(a,r,l),!0}return!1}function gd(t,r,a,l){if(l={lane:2,revertLane:Yd(),action:l,hasEagerState:!1,eagerState:null,next:null},vc(t)){if(r)throw Error(s(479))}else r=Vf(t,a,l,2),r!==null&&Tn(r,t,2)}function vc(t){var r=t.alternate;return t===De||r!==null&&r===De}function Hy(t,r){Ha=dc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function Gy(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,fr(t,a)}}var Ec={readContext:Yt,use:pc,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useLayoutEffect:vt,useInsertionEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useSyncExternalStore:vt,useId:vt,useHostTransitionStatus:vt,useFormState:vt,useActionState:vt,useOptimistic:vt,useMemoCache:vt,useCacheRefresh:vt},Ky={readContext:Yt,use:pc,useCallback:function(t,r){return ln().memoizedState=[t,r===void 0?null:r],t},useContext:Yt,useEffect:Iy,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,_c(4194308,4,ky.bind(null,r,t),a)},useLayoutEffect:function(t,r){return _c(4194308,4,t,r)},useInsertionEffect:function(t,r){_c(4,2,t,r)},useMemo:function(t,r){var a=ln();r=r===void 0?null:r;var l=t();if(Ys){Rn(!0);try{t()}finally{Rn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=ln();if(a!==void 0){var h=a(r);if(Ys){Rn(!0);try{a(r)}finally{Rn(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=D1.bind(null,De,t),[l.memoizedState,t]},useRef:function(t){var r=ln();return t={current:t},r.memoizedState=t},useState:function(t){t=cd(t);var r=t.queue,a=Fy.bind(null,De,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:fd,useDeferredValue:function(t,r){var a=ln();return dd(a,t,r)},useTransition:function(){var t=cd(!1);return t=Ly.bind(null,De,t.queue,!0,!1),ln().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=De,h=ln();if(qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),et===null)throw Error(s(349));(Le&124)!==0||dy(l,r,a)}h.memoizedState=a;var d={value:a,getSnapshot:r};return h.queue=d,Iy(py.bind(null,l,d,t),[t]),l.flags|=2048,Ka(9,yc(),my.bind(null,l,d,a,r),null),a},useId:function(){var t=ln(),r=et.identifierPrefix;if(qe){var a=Ui,l=Pi;a=(l&~(1<<32-en(l)-1)).toString(32)+a,r=""+r+"R"+a,a=mc++,0<a&&(r+="H"+a.toString(32)),r+=""}else a=A1++,r=""+r+"r"+a.toString(32)+"";return t.memoizedState=r},useHostTransitionStatus:pd,useFormState:Ay,useActionState:Ay,useOptimistic:function(t){var r=ln();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=gd.bind(null,De,!0,a),a.dispatch=r,[t,r]},useMemoCache:od,useCacheRefresh:function(){return ln().memoizedState=I1.bind(null,De)}},Qy={readContext:Yt,use:pc,useCallback:Vy,useContext:Yt,useEffect:Dy,useImperativeHandle:My,useInsertionEffect:Ny,useLayoutEffect:Oy,useMemo:Py,useReducer:gc,useRef:Cy,useState:function(){return gc(zi)},useDebugValue:fd,useDeferredValue:function(t,r){var a=St();return Uy(a,We.memoizedState,t,r)},useTransition:function(){var t=gc(zi)[0],r=St().memoizedState;return[typeof t=="boolean"?t:vl(t),r]},useSyncExternalStore:fy,useId:By,useHostTransitionStatus:pd,useFormState:wy,useActionState:wy,useOptimistic:function(t,r){var a=St();return _y(a,We,t,r)},useMemoCache:od,useCacheRefresh:qy},N1={readContext:Yt,use:pc,useCallback:Vy,useContext:Yt,useEffect:Dy,useImperativeHandle:My,useInsertionEffect:Ny,useLayoutEffect:Oy,useMemo:Py,useReducer:ud,useRef:Cy,useState:function(){return ud(zi)},useDebugValue:fd,useDeferredValue:function(t,r){var a=St();return We===null?dd(a,t,r):Uy(a,We.memoizedState,t,r)},useTransition:function(){var t=ud(zi)[0],r=St().memoizedState;return[typeof t=="boolean"?t:vl(t),r]},useSyncExternalStore:fy,useId:By,useHostTransitionStatus:pd,useFormState:xy,useActionState:xy,useOptimistic:function(t,r){var a=St();return We!==null?_y(a,We,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:od,useCacheRefresh:qy},Qa=null,bl=0;function Tc(t){var r=bl;return bl+=1,Qa===null&&(Qa=[]),ry(Qa,t,r)}function Sl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function bc(t,r){throw r.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Yy(t){var r=t._init;return r(t._payload)}function Wy(t){function r(P,M){if(t){var z=P.deletions;z===null?(P.deletions=[M],P.flags|=16):z.push(M)}}function a(P,M){if(!t)return null;for(;M!==null;)r(P,M),M=M.sibling;return null}function l(P){for(var M=new Map;P!==null;)P.key!==null?M.set(P.key,P):M.set(P.index,P),P=P.sibling;return M}function h(P,M){return P=Vi(P,M),P.index=0,P.sibling=null,P}function d(P,M,z){return P.index=z,t?(z=P.alternate,z!==null?(z=z.index,z<M?(P.flags|=67108866,M):z):(P.flags|=67108866,M)):(P.flags|=1048576,M)}function v(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function b(P,M,z,X){return M===null||M.tag!==6?(M=Uf(z,P.mode,X),M.return=P,M):(M=h(M,z),M.return=P,M)}function D(P,M,z,X){var pe=z.type;return pe===j?W(P,M,z.props.children,X,z.key):M!==null&&(M.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===w&&Yy(pe)===M.type)?(M=h(M,z.props),Sl(M,z),M.return=P,M):(M=rc(z.type,z.key,z.props,null,P.mode,X),Sl(M,z),M.return=P,M)}function q(P,M,z,X){return M===null||M.tag!==4||M.stateNode.containerInfo!==z.containerInfo||M.stateNode.implementation!==z.implementation?(M=Lf(z,P.mode,X),M.return=P,M):(M=h(M,z.children||[]),M.return=P,M)}function W(P,M,z,X,pe){return M===null||M.tag!==7?(M=zs(z,P.mode,X,pe),M.return=P,M):(M=h(M,z),M.return=P,M)}function Z(P,M,z){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Uf(""+M,P.mode,z),M.return=P,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case R:return z=rc(M.type,M.key,M.props,null,P.mode,z),Sl(z,M),z.return=P,z;case L:return M=Lf(M,P.mode,z),M.return=P,M;case w:var X=M._init;return M=X(M._payload),Z(P,M,z)}if(ve(M)||V(M))return M=zs(M,P.mode,z,null),M.return=P,M;if(typeof M.then=="function")return Z(P,Tc(M),z);if(M.$$typeof===ee)return Z(P,lc(P,M),z);bc(P,M)}return null}function F(P,M,z,X){var pe=M!==null?M.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return pe!==null?null:b(P,M,""+z,X);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case R:return z.key===pe?D(P,M,z,X):null;case L:return z.key===pe?q(P,M,z,X):null;case w:return pe=z._init,z=pe(z._payload),F(P,M,z,X)}if(ve(z)||V(z))return pe!==null?null:W(P,M,z,X,null);if(typeof z.then=="function")return F(P,M,Tc(z),X);if(z.$$typeof===ee)return F(P,M,lc(P,z),X);bc(P,z)}return null}function H(P,M,z,X,pe){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return P=P.get(z)||null,b(M,P,""+X,pe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case R:return P=P.get(X.key===null?z:X.key)||null,D(M,P,X,pe);case L:return P=P.get(X.key===null?z:X.key)||null,q(M,P,X,pe);case w:var Ne=X._init;return X=Ne(X._payload),H(P,M,z,X,pe)}if(ve(X)||V(X))return P=P.get(z)||null,W(M,P,X,pe,null);if(typeof X.then=="function")return H(P,M,z,Tc(X),pe);if(X.$$typeof===ee)return H(P,M,z,lc(M,X),pe);bc(M,X)}return null}function we(P,M,z,X){for(var pe=null,Ne=null,ge=M,Te=M=0,Pt=null;ge!==null&&Te<z.length;Te++){ge.index>Te?(Pt=ge,ge=null):Pt=ge.sibling;var Be=F(P,ge,z[Te],X);if(Be===null){ge===null&&(ge=Pt);break}t&&ge&&Be.alternate===null&&r(P,ge),M=d(Be,M,Te),Ne===null?pe=Be:Ne.sibling=Be,Ne=Be,ge=Pt}if(Te===z.length)return a(P,ge),qe&&qs(P,Te),pe;if(ge===null){for(;Te<z.length;Te++)ge=Z(P,z[Te],X),ge!==null&&(M=d(ge,M,Te),Ne===null?pe=ge:Ne.sibling=ge,Ne=ge);return qe&&qs(P,Te),pe}for(ge=l(ge);Te<z.length;Te++)Pt=H(ge,P,Te,z[Te],X),Pt!==null&&(t&&Pt.alternate!==null&&ge.delete(Pt.key===null?Te:Pt.key),M=d(Pt,M,Te),Ne===null?pe=Pt:Ne.sibling=Pt,Ne=Pt);return t&&ge.forEach(function(Fr){return r(P,Fr)}),qe&&qs(P,Te),pe}function Ee(P,M,z,X){if(z==null)throw Error(s(151));for(var pe=null,Ne=null,ge=M,Te=M=0,Pt=null,Be=z.next();ge!==null&&!Be.done;Te++,Be=z.next()){ge.index>Te?(Pt=ge,ge=null):Pt=ge.sibling;var Fr=F(P,ge,Be.value,X);if(Fr===null){ge===null&&(ge=Pt);break}t&&ge&&Fr.alternate===null&&r(P,ge),M=d(Fr,M,Te),Ne===null?pe=Fr:Ne.sibling=Fr,Ne=Fr,ge=Pt}if(Be.done)return a(P,ge),qe&&qs(P,Te),pe;if(ge===null){for(;!Be.done;Te++,Be=z.next())Be=Z(P,Be.value,X),Be!==null&&(M=d(Be,M,Te),Ne===null?pe=Be:Ne.sibling=Be,Ne=Be);return qe&&qs(P,Te),pe}for(ge=l(ge);!Be.done;Te++,Be=z.next())Be=H(ge,P,Te,Be.value,X),Be!==null&&(t&&Be.alternate!==null&&ge.delete(Be.key===null?Te:Be.key),M=d(Be,M,Te),Ne===null?pe=Be:Ne.sibling=Be,Ne=Be);return t&&ge.forEach(function(OA){return r(P,OA)}),qe&&qs(P,Te),pe}function $e(P,M,z,X){if(typeof z=="object"&&z!==null&&z.type===j&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case R:e:{for(var pe=z.key;M!==null;){if(M.key===pe){if(pe=z.type,pe===j){if(M.tag===7){a(P,M.sibling),X=h(M,z.props.children),X.return=P,P=X;break e}}else if(M.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===w&&Yy(pe)===M.type){a(P,M.sibling),X=h(M,z.props),Sl(X,z),X.return=P,P=X;break e}a(P,M);break}else r(P,M);M=M.sibling}z.type===j?(X=zs(z.props.children,P.mode,X,z.key),X.return=P,P=X):(X=rc(z.type,z.key,z.props,null,P.mode,X),Sl(X,z),X.return=P,P=X)}return v(P);case L:e:{for(pe=z.key;M!==null;){if(M.key===pe)if(M.tag===4&&M.stateNode.containerInfo===z.containerInfo&&M.stateNode.implementation===z.implementation){a(P,M.sibling),X=h(M,z.children||[]),X.return=P,P=X;break e}else{a(P,M);break}else r(P,M);M=M.sibling}X=Lf(z,P.mode,X),X.return=P,P=X}return v(P);case w:return pe=z._init,z=pe(z._payload),$e(P,M,z,X)}if(ve(z))return we(P,M,z,X);if(V(z)){if(pe=V(z),typeof pe!="function")throw Error(s(150));return z=pe.call(z),Ee(P,M,z,X)}if(typeof z.then=="function")return $e(P,M,Tc(z),X);if(z.$$typeof===ee)return $e(P,M,lc(P,z),X);bc(P,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,M!==null&&M.tag===6?(a(P,M.sibling),X=h(M,z),X.return=P,P=X):(a(P,M),X=Uf(z,P.mode,X),X.return=P,P=X),v(P)):a(P,M)}return function(P,M,z,X){try{bl=0;var pe=$e(P,M,z,X);return Qa=null,pe}catch(ge){if(ge===dl||ge===cc)throw ge;var Ne=gn(29,ge,null,P.mode);return Ne.lanes=X,Ne.return=P,Ne}finally{}}}var Ya=Wy(!0),Xy=Wy(!1),Vn=te(null),fi=null;function Cr(t){var r=t.alternate;ue(Dt,Dt.current&1),ue(Vn,t),fi===null&&(r===null||Fa.current!==null||r.memoizedState!==null)&&(fi=t)}function $y(t){if(t.tag===22){if(ue(Dt,Dt.current),ue(Vn,t),fi===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(fi=t)}}else Ir()}function Ir(){ue(Dt,Dt.current),ue(Vn,Vn.current)}function Bi(t){de(Vn),fi===t&&(fi=null),de(Dt)}var Dt=te(0);function Sc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||am(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function yd(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:E({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var _d={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=En(),h=wr(l);h.payload=r,a!=null&&(h.callback=a),r=Rr(t,h,l),r!==null&&(Tn(r,t,l),pl(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=En(),h=wr(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=Rr(t,h,l),r!==null&&(Tn(r,t,l),pl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=En(),l=wr(a);l.tag=2,r!=null&&(l.callback=r),r=Rr(t,l,a),r!==null&&(Tn(r,t,a),pl(r,t,a))}};function Zy(t,r,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):r.prototype&&r.prototype.isPureReactComponent?!sl(a,l)||!sl(h,d):!0}function Jy(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&_d.enqueueReplaceState(r,r.state,null)}function Ws(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var Ac=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function e_(t){Ac(t)}function t_(t){console.error(t)}function n_(t){Ac(t)}function wc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function i_(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function vd(t,r,a){return a=wr(a),a.tag=3,a.payload={element:null},a.callback=function(){wc(t,r)},a}function r_(t){return t=wr(t),t.tag=3,t}function s_(t,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){i_(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){i_(r,a,l),typeof h!="function"&&(Vr===null?Vr=new Set([this]):Vr.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function O1(t,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&cl(r,a,h,!0),a=Vn.current,a!==null){switch(a.tag){case 13:return fi===null?Fd():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Yf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Gd(t,l,h)),!1;case 22:return a.flags|=65536,l===Yf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Gd(t,l,h)),!1}throw Error(s(435,a.tag))}return Gd(t,l,h),Fd(),!1}if(qe)return r=Vn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==Bf&&(t=Error(s(422),{cause:l}),ul(Nn(t,a)))):(l!==Bf&&(r=Error(s(423),{cause:l}),ul(Nn(r,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Nn(l,a),h=vd(t.stateNode,l,h),$f(t,h),ht!==4&&(ht=2)),!1;var d=Error(s(520),{cause:l});if(d=Nn(d,a),Dl===null?Dl=[d]:Dl.push(d),ht!==4&&(ht=2),r===null)return!0;l=Nn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=vd(a.stateNode,l,t),$f(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Vr===null||!Vr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=r_(h),s_(h,t,a,l),$f(a,h),!1}a=a.return}while(a!==null);return!1}var a_=Error(s(461)),Mt=!1;function zt(t,r,a,l){r.child=t===null?Xy(r,null,a,l):Ya(r,t.child,a,l)}function o_(t,r,a,l,h){a=a.render;var d=r.ref;if("ref"in l){var v={};for(var b in l)b!=="ref"&&(v[b]=l[b])}else v=l;return Ks(r),l=nd(t,r,a,v,d,h),b=id(),t!==null&&!Mt?(rd(t,r,h),qi(t,r,h)):(qe&&b&&jf(r),r.flags|=1,zt(t,r,l,h),r.child)}function l_(t,r,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Pf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,u_(t,r,d,l,h)):(t=rc(a.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!xd(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:sl,a(v,l)&&t.ref===r.ref)return qi(t,r,h)}return r.flags|=1,t=Vi(d,l),t.ref=r.ref,t.return=r,r.child=t}function u_(t,r,a,l,h){if(t!==null){var d=t.memoizedProps;if(sl(d,l)&&t.ref===r.ref)if(Mt=!1,r.pendingProps=l=d,xd(t,h))(t.flags&131072)!==0&&(Mt=!0);else return r.lanes=t.lanes,qi(t,r,h)}return Ed(t,r,a,l,h)}function c_(t,r,a){var l=r.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=r.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return h_(t,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&uc(r,d!==null?d.cachePool:null),d!==null?uy(r,d):Jf(),$y(r);else return r.lanes=r.childLanes=536870912,h_(t,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(uc(r,d.cachePool),uy(r,d),Ir(),r.memoizedState=null):(t!==null&&uc(r,null),Jf(),Ir());return zt(t,r,h,a),r.child}function h_(t,r,a,l){var h=Qf();return h=h===null?null:{parent:It._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},t!==null&&uc(r,null),Jf(),$y(r),t!==null&&cl(t,r,l,!0),null}function Rc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function Ed(t,r,a,l,h){return Ks(r),a=nd(t,r,a,l,void 0,h),l=id(),t!==null&&!Mt?(rd(t,r,h),qi(t,r,h)):(qe&&l&&jf(r),r.flags|=1,zt(t,r,a,h),r.child)}function f_(t,r,a,l,h,d){return Ks(r),r.updateQueue=null,a=hy(r,l,a,h),cy(t),l=id(),t!==null&&!Mt?(rd(t,r,d),qi(t,r,d)):(qe&&l&&jf(r),r.flags|=1,zt(t,r,a,d),r.child)}function d_(t,r,a,l,h){if(Ks(r),r.stateNode===null){var d=La,v=a.contextType;typeof v=="object"&&v!==null&&(d=Yt(v)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=_d,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Wf(r),v=a.contextType,d.context=typeof v=="object"&&v!==null?Yt(v):La,d.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(yd(r,a,v,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&_d.enqueueReplaceState(d,d.state,null),yl(r,l,d,h),gl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var b=r.memoizedProps,D=Ws(a,b);d.props=D;var q=d.context,W=a.contextType;v=La,typeof W=="object"&&W!==null&&(v=Yt(W));var Z=a.getDerivedStateFromProps;W=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=r.pendingProps!==b,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||q!==v)&&Jy(r,d,l,v),Ar=!1;var F=r.memoizedState;d.state=F,yl(r,l,d,h),gl(),q=r.memoizedState,b||F!==q||Ar?(typeof Z=="function"&&(yd(r,a,Z,l),q=r.memoizedState),(D=Ar||Zy(r,a,D,l,F,q,v))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=q),d.props=l,d.state=q,d.context=v,l=D):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Xf(t,r),v=r.memoizedProps,W=Ws(a,v),d.props=W,Z=r.pendingProps,F=d.context,q=a.contextType,D=La,typeof q=="object"&&q!==null&&(D=Yt(q)),b=a.getDerivedStateFromProps,(q=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==Z||F!==D)&&Jy(r,d,l,D),Ar=!1,F=r.memoizedState,d.state=F,yl(r,l,d,h),gl();var H=r.memoizedState;v!==Z||F!==H||Ar||t!==null&&t.dependencies!==null&&oc(t.dependencies)?(typeof b=="function"&&(yd(r,a,b,l),H=r.memoizedState),(W=Ar||Zy(r,a,W,l,F,H,D)||t!==null&&t.dependencies!==null&&oc(t.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,H,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,H,D)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=H),d.props=l,d.state=H,d.context=D,l=W):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,Rc(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=Ya(r,t.child,null,h),r.child=Ya(r,null,a,h)):zt(t,r,a,h),r.memoizedState=d.state,t=r.child):t=qi(t,r,h),t}function m_(t,r,a,l){return ll(),r.flags|=256,zt(t,r,a,l),r.child}var Td={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bd(t){return{baseLanes:t,cachePool:ty()}}function Sd(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Pn),t}function p_(t,r,a){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(Dt.current&2)!==0),v&&(h=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,t===null){if(qe){if(h?Cr(r):Ir(),qe){var b=ct,D;if(D=b){e:{for(D=b,b=hi;D.nodeType!==8;){if(!b){b=null;break e}if(D=Xn(D.nextSibling),D===null){b=null;break e}}b=D}b!==null?(r.memoizedState={dehydrated:b,treeContext:Bs!==null?{id:Pi,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},D=gn(18,null,null,0),D.stateNode=b,D.return=r,r.child=D,sn=r,ct=null,D=!0):D=!1}D||Hs(r)}if(b=r.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return am(b)?r.lanes=32:r.lanes=536870912,null;Bi(r)}return b=l.children,l=l.fallback,h?(Ir(),h=r.mode,b=xc({mode:"hidden",children:b},h),l=zs(l,h,a,null),b.return=r,l.return=r,b.sibling=l,r.child=b,h=r.child,h.memoizedState=bd(a),h.childLanes=Sd(t,v,a),r.memoizedState=Td,l):(Cr(r),Ad(r,b))}if(D=t.memoizedState,D!==null&&(b=D.dehydrated,b!==null)){if(d)r.flags&256?(Cr(r),r.flags&=-257,r=wd(t,r,a)):r.memoizedState!==null?(Ir(),r.child=t.child,r.flags|=128,r=null):(Ir(),h=l.fallback,b=r.mode,l=xc({mode:"visible",children:l.children},b),h=zs(h,b,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,Ya(r,t.child,null,a),l=r.child,l.memoizedState=bd(a),l.childLanes=Sd(t,v,a),r.memoizedState=Td,r=h);else if(Cr(r),am(b)){if(v=b.nextSibling&&b.nextSibling.dataset,v)var q=v.dgst;v=q,l=Error(s(419)),l.stack="",l.digest=v,ul({value:l,source:null,stack:null}),r=wd(t,r,a)}else if(Mt||cl(t,r,a,!1),v=(a&t.childLanes)!==0,Mt||v){if(v=et,v!==null&&(l=a&-a,l=(l&42)!==0?1:qo(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==D.retryLane))throw D.retryLane=l,Ua(t,l),Tn(v,t,l),a_;b.data==="$?"||Fd(),r=wd(t,r,a)}else b.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=D.treeContext,ct=Xn(b.nextSibling),sn=r,qe=!0,Fs=null,hi=!1,t!==null&&(kn[Mn++]=Pi,kn[Mn++]=Ui,kn[Mn++]=Bs,Pi=t.id,Ui=t.overflow,Bs=r),r=Ad(r,l.children),r.flags|=4096);return r}return h?(Ir(),h=l.fallback,b=r.mode,D=t.child,q=D.sibling,l=Vi(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,q!==null?h=Vi(q,h):(h=zs(h,b,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,b=t.child.memoizedState,b===null?b=bd(a):(D=b.cachePool,D!==null?(q=It._currentValue,D=D.parent!==q?{parent:q,pool:q}:D):D=ty(),b={baseLanes:b.baseLanes|a,cachePool:D}),h.memoizedState=b,h.childLanes=Sd(t,v,a),r.memoizedState=Td,l):(Cr(r),a=t.child,t=a.sibling,a=Vi(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(v=r.deletions,v===null?(r.deletions=[t],r.flags|=16):v.push(t)),r.child=a,r.memoizedState=null,a)}function Ad(t,r){return r=xc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function xc(t,r){return t=gn(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function wd(t,r,a){return Ya(r,t.child,null,a),t=Ad(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function g_(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),Ff(t.return,r,a)}function Rd(t,r,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function y_(t,r,a){var l=r.pendingProps,h=l.revealOrder,d=l.tail;if(zt(t,r,l.children,a),l=Dt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&g_(t,a,r);else if(t.tag===19)g_(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ue(Dt,l),h){case"forwards":for(a=r.child,h=null;a!==null;)t=a.alternate,t!==null&&Sc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),Rd(r,!1,h,a,d);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&Sc(t)===null){r.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Rd(r,!0,a,null,d);break;case"together":Rd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function qi(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Mr|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(cl(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Vi(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Vi(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function xd(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&oc(t)))}function k1(t,r,a){switch(r.tag){case 3:Qe(r,r.stateNode.containerInfo),Sr(r,It,t.memoizedState.cache),ll();break;case 27:case 5:Lo(r);break;case 4:Qe(r,r.stateNode.containerInfo);break;case 10:Sr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Cr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?p_(t,r,a):(Cr(r),t=qi(t,r,a),t!==null?t.sibling:null);Cr(r);break;case 19:var h=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(cl(t,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return y_(t,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ue(Dt,Dt.current),l)break;return null;case 22:case 23:return r.lanes=0,c_(t,r,a);case 24:Sr(r,It,t.memoizedState.cache)}return qi(t,r,a)}function __(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Mt=!0;else{if(!xd(t,a)&&(r.flags&128)===0)return Mt=!1,k1(t,r,a);Mt=(t.flags&131072)!==0}else Mt=!1,qe&&(r.flags&1048576)!==0&&Yg(r,ac,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")Pf(l)?(t=Ws(l,t),r.tag=1,r=d_(null,r,l,t,a)):(r.tag=0,r=Ed(null,r,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===le){r.tag=11,r=o_(null,r,l,t,a);break e}else if(h===C){r.tag=14,r=l_(null,r,l,t,a);break e}}throw r=fe(l)||l,Error(s(306,r,""))}}return r;case 0:return Ed(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=Ws(l,r.pendingProps),d_(t,r,l,h,a);case 3:e:{if(Qe(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;h=d.element,Xf(t,r),yl(r,l,null,a);var v=r.memoizedState;if(l=v.cache,Sr(r,It,l),l!==d.cache&&Hf(r,[It],a,!0),gl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=m_(t,r,l,a);break e}else if(l!==h){h=Nn(Error(s(424)),r),ul(h),r=m_(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ct=Xn(t.firstChild),sn=r,qe=!0,Fs=null,hi=!0,a=Xy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ll(),l===h){r=qi(t,r,a);break e}zt(t,r,l,a)}r=r.child}return r;case 26:return Rc(t,r),t===null?(a=bv(r.type,null,r.pendingProps,null))?r.memoizedState=a:qe||(a=r.type,t=r.pendingProps,l=Bc(Ae.current).createElement(a),l[gt]=r,l[jt]=t,qt(l,a,t),yt(l),r.stateNode=l):r.memoizedState=bv(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Lo(r),t===null&&qe&&(l=r.stateNode=vv(r.type,r.pendingProps,Ae.current),sn=r,hi=!0,h=ct,Lr(r.type)?(om=h,ct=Xn(l.firstChild)):ct=h),zt(t,r,r.pendingProps.children,a),Rc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&qe&&((h=l=ct)&&(l=oA(l,r.type,r.pendingProps,hi),l!==null?(r.stateNode=l,sn=r,ct=Xn(l.firstChild),hi=!1,h=!0):h=!1),h||Hs(r)),Lo(r),h=r.type,d=r.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,im(h,d)?l=null:v!==null&&im(h,v)&&(r.flags|=32),r.memoizedState!==null&&(h=nd(t,r,w1,null,null,a),jl._currentValue=h),Rc(t,r),zt(t,r,l,a),r.child;case 6:return t===null&&qe&&((t=a=ct)&&(a=lA(a,r.pendingProps,hi),a!==null?(r.stateNode=a,sn=r,ct=null,t=!0):t=!1),t||Hs(r)),null;case 13:return p_(t,r,a);case 4:return Qe(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Ya(r,null,l,a):zt(t,r,l,a),r.child;case 11:return o_(t,r,r.type,r.pendingProps,a);case 7:return zt(t,r,r.pendingProps,a),r.child;case 8:return zt(t,r,r.pendingProps.children,a),r.child;case 12:return zt(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Sr(r,r.type,l.value),zt(t,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,Ks(r),h=Yt(h),l=l(h),r.flags|=1,zt(t,r,l,a),r.child;case 14:return l_(t,r,r.type,r.pendingProps,a);case 15:return u_(t,r,r.type,r.pendingProps,a);case 19:return y_(t,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},t===null?(a=xc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Vi(t.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return c_(t,r,a);case 24:return Ks(r),l=Yt(It),t===null?(h=Qf(),h===null&&(h=et,d=Gf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),r.memoizedState={parent:l,cache:h},Wf(r),Sr(r,It,h)):((t.lanes&a)!==0&&(Xf(t,r),yl(r,null,null,a),gl()),h=t.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Sr(r,It,l)):(l=d.cache,Sr(r,It,l),l!==h.cache&&Hf(r,[It],a,!0))),zt(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Fi(t){t.flags|=4}function v_(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!xv(r)){if(r=Vn.current,r!==null&&((Le&4194048)===Le?fi!==null:(Le&62914560)!==Le&&(Le&536870912)===0||r!==fi))throw ml=Yf,ny;t.flags|=8192}}function Cc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?cr():536870912,t.lanes|=r,Za|=r)}function Al(t,r){if(!qe)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ot(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function M1(t,r,a){var l=r.pendingProps;switch(zf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(r),null;case 1:return ot(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),ji(It),zn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ol(r)?Fi(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,$g())),ot(r),null;case 26:return a=r.memoizedState,t===null?(Fi(r),a!==null?(ot(r),v_(r,a)):(ot(r),r.flags&=-16777217)):a?a!==t.memoizedState?(Fi(r),ot(r),v_(r,a)):(ot(r),r.flags&=-16777217):(t.memoizedProps!==l&&Fi(r),ot(r),r.flags&=-16777217),null;case 27:ya(r),a=Ae.current;var h=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Fi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ot(r),null}t=ye.current,ol(r)?Wg(r):(t=vv(h,l,a),r.stateNode=t,Fi(r))}return ot(r),null;case 5:if(ya(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Fi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ot(r),null}if(t=ye.current,ol(r))Wg(r);else{switch(h=Bc(Ae.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[gt]=r,t[jt]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=t;e:switch(qt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Fi(r)}}return ot(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&Fi(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=Ae.current,ol(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,h=sn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[gt]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||fv(t.nodeValue,a)),t||Hs(r)}else t=Bc(t).createTextNode(l),t[gt]=r,r.stateNode=t}return ot(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ol(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[gt]=r}else ll(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ot(r),h=!1}else h=$g(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(Bi(r),r):(Bi(r),null)}if(Bi(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),Cc(r,r.updateQueue),ot(r),null;case 4:return zn(),t===null&&Zd(r.stateNode.containerInfo),ot(r),null;case 10:return ji(r.type),ot(r),null;case 19:if(de(Dt),h=r.memoizedState,h===null)return ot(r),null;if(l=(r.flags&128)!==0,d=h.rendering,d===null)if(l)Al(h,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=Sc(t),d!==null){for(r.flags|=128,Al(h,!1),t=d.updateQueue,r.updateQueue=t,Cc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)Qg(a,t),a=a.sibling;return ue(Dt,Dt.current&1|2),r.child}t=t.sibling}h.tail!==null&&on()>Nc&&(r.flags|=128,l=!0,Al(h,!1),r.lanes=4194304)}else{if(!l)if(t=Sc(d),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,Cc(r,t),Al(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!qe)return ot(r),null}else 2*on()-h.renderingStartTime>Nc&&a!==536870912&&(r.flags|=128,l=!0,Al(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(t=h.last,t!==null?t.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=on(),r.sibling=null,t=Dt.current,ue(Dt,l?t&1|2:t&1),r):(ot(r),null);case 22:case 23:return Bi(r),ed(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ot(r),r.subtreeFlags&6&&(r.flags|=8192)):ot(r),a=r.updateQueue,a!==null&&Cc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&de(Qs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),ji(It),ot(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function V1(t,r){switch(zf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return ji(It),zn(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return ya(r),null;case 13:if(Bi(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ll()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return de(Dt),null;case 4:return zn(),null;case 10:return ji(r.type),null;case 22:case 23:return Bi(r),ed(),t!==null&&de(Qs),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return ji(It),null;case 25:return null;default:return null}}function E_(t,r){switch(zf(r),r.tag){case 3:ji(It),zn();break;case 26:case 27:case 5:ya(r);break;case 4:zn();break;case 13:Bi(r);break;case 19:de(Dt);break;case 10:ji(r.type);break;case 22:case 23:Bi(r),ed(),t!==null&&de(Qs);break;case 24:ji(It)}}function wl(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(b){Ze(r,r.return,b)}}function Dr(t,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,b=v.destroy;if(b!==void 0){v.destroy=void 0,h=r;var D=a,q=b;try{q()}catch(W){Ze(h,D,W)}}}l=l.next}while(l!==d)}}catch(W){Ze(r,r.return,W)}}function T_(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{ly(r,a)}catch(l){Ze(t,t.return,l)}}}function b_(t,r,a){a.props=Ws(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ze(t,r,l)}}function Rl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Ze(t,r,h)}}function di(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Ze(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ze(t,r,h)}else a.current=null}function S_(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Ze(t,t.return,h)}}function Cd(t,r,a){try{var l=t.stateNode;nA(l,t.type,a,r),l[jt]=r}catch(h){Ze(t,t.return,h)}}function A_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Lr(t.type)||t.tag===4}function Id(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||A_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Lr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Dd(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=zc));else if(l!==4&&(l===27&&Lr(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(Dd(t,r,a),t=t.sibling;t!==null;)Dd(t,r,a),t=t.sibling}function Ic(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&Lr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Ic(t,r,a),t=t.sibling;t!==null;)Ic(t,r,a),t=t.sibling}function w_(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);qt(r,l,a),r[gt]=t,r[jt]=a}catch(d){Ze(t,t.return,d)}}var Hi=!1,Et=!1,Nd=!1,R_=typeof WeakSet=="function"?WeakSet:Set,Vt=null;function P1(t,r){if(t=t.containerInfo,tm=Qc,t=Ug(t),If(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,b=-1,D=-1,q=0,W=0,Z=t,F=null;t:for(;;){for(var H;Z!==a||h!==0&&Z.nodeType!==3||(b=v+h),Z!==d||l!==0&&Z.nodeType!==3||(D=v+l),Z.nodeType===3&&(v+=Z.nodeValue.length),(H=Z.firstChild)!==null;)F=Z,Z=H;for(;;){if(Z===t)break t;if(F===a&&++q===h&&(b=v),F===d&&++W===l&&(D=v),(H=Z.nextSibling)!==null)break;Z=F,F=Z.parentNode}Z=H}a=b===-1||D===-1?null:{start:b,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(nm={focusedElem:t,selectionRange:a},Qc=!1,Vt=r;Vt!==null;)if(r=Vt,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,Vt=t;else for(;Vt!==null;){switch(r=Vt,d=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var we=Ws(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(we,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ee){Ze(a,a.return,Ee)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)sm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":sm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Vt=t;break}Vt=r.return}}function x_(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Nr(t,a),l&4&&wl(5,a);break;case 1:if(Nr(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(v){Ze(a,a.return,v)}else{var h=Ws(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Ze(a,a.return,v)}}l&64&&T_(a),l&512&&Rl(a,a.return);break;case 3:if(Nr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{ly(t,r)}catch(v){Ze(a,a.return,v)}}break;case 27:r===null&&l&4&&w_(a);case 26:case 5:Nr(t,a),r===null&&l&4&&S_(a),l&512&&Rl(a,a.return);break;case 12:Nr(t,a);break;case 13:Nr(t,a),l&4&&D_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=G1.bind(null,a),uA(t,a))));break;case 22:if(l=a.memoizedState!==null||Hi,!l){r=r!==null&&r.memoizedState!==null||Et,h=Hi;var d=Et;Hi=l,(Et=r)&&!d?Or(t,a,(a.subtreeFlags&8772)!==0):Nr(t,a),Hi=h,Et=d}break;case 30:break;default:Nr(t,a)}}function C_(t){var r=t.alternate;r!==null&&(t.alternate=null,C_(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&ba(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var rt=null,un=!1;function Gi(t,r,a){for(a=a.child;a!==null;)I_(t,r,a),a=a.sibling}function I_(t,r,a){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(or,a)}catch{}switch(a.tag){case 26:Et||di(a,r),Gi(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Et||di(a,r);var l=rt,h=un;Lr(a.type)&&(rt=a.stateNode,un=!1),Gi(t,r,a),Vl(a.stateNode),rt=l,un=h;break;case 5:Et||di(a,r);case 6:if(l=rt,h=un,rt=null,Gi(t,r,a),rt=l,un=h,rt!==null)if(un)try{(rt.nodeType===9?rt.body:rt.nodeName==="HTML"?rt.ownerDocument.body:rt).removeChild(a.stateNode)}catch(d){Ze(a,r,d)}else try{rt.removeChild(a.stateNode)}catch(d){Ze(a,r,d)}break;case 18:rt!==null&&(un?(t=rt,yv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Fl(t)):yv(rt,a.stateNode));break;case 4:l=rt,h=un,rt=a.stateNode.containerInfo,un=!0,Gi(t,r,a),rt=l,un=h;break;case 0:case 11:case 14:case 15:Et||Dr(2,a,r),Et||Dr(4,a,r),Gi(t,r,a);break;case 1:Et||(di(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&b_(a,r,l)),Gi(t,r,a);break;case 21:Gi(t,r,a);break;case 22:Et=(l=Et)||a.memoizedState!==null,Gi(t,r,a),Et=l;break;default:Gi(t,r,a)}}function D_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Fl(t)}catch(a){Ze(r,r.return,a)}}function U1(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new R_),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new R_),r;default:throw Error(s(435,t.tag))}}function Od(t,r){var a=U1(t);r.forEach(function(l){var h=K1.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function yn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=r,b=v;e:for(;b!==null;){switch(b.tag){case 27:if(Lr(b.type)){rt=b.stateNode,un=!1;break e}break;case 5:rt=b.stateNode,un=!1;break e;case 3:case 4:rt=b.stateNode.containerInfo,un=!0;break e}b=b.return}if(rt===null)throw Error(s(160));I_(d,v,h),rt=null,un=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)N_(r,t),r=r.sibling}var Wn=null;function N_(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:yn(r,t),_n(t),l&4&&(Dr(3,t,t.return),wl(3,t),Dr(5,t,t.return));break;case 1:yn(r,t),_n(t),l&512&&(Et||a===null||di(a,a.return)),l&64&&Hi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Wn;if(yn(r,t),_n(t),l&512&&(Et||a===null||di(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[dr]||d[gt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),qt(d,l,a),d[gt]=t,yt(d),l=d;break e;case"link":var v=wv("link","href",h).get(l+(a.href||""));if(v){for(var b=0;b<v.length;b++)if(d=v[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(b,1);break t}}d=h.createElement(l),qt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=wv("meta","content",h).get(l+(a.content||""))){for(b=0;b<v.length;b++)if(d=v[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(b,1);break t}}d=h.createElement(l),qt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[gt]=t,yt(d),l=d}t.stateNode=l}else Rv(h,t.type,t.stateNode);else t.stateNode=Av(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Rv(h,t.type,t.stateNode):Av(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Cd(t,t.memoizedProps,a.memoizedProps)}break;case 27:yn(r,t),_n(t),l&512&&(Et||a===null||di(a,a.return)),a!==null&&l&4&&Cd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(yn(r,t),_n(t),l&512&&(Et||a===null||di(a,a.return)),t.flags&32){h=t.stateNode;try{In(h,"")}catch(H){Ze(t,t.return,H)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Cd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Nd=!0);break;case 6:if(yn(r,t),_n(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(H){Ze(t,t.return,H)}}break;case 3:if(Hc=null,h=Wn,Wn=qc(r.containerInfo),yn(r,t),Wn=h,_n(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Fl(r.containerInfo)}catch(H){Ze(t,t.return,H)}Nd&&(Nd=!1,O_(t));break;case 4:l=Wn,Wn=qc(t.stateNode.containerInfo),yn(r,t),_n(t),Wn=l;break;case 12:yn(r,t),_n(t);break;case 13:yn(r,t),_n(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ld=on()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Od(t,l)));break;case 22:h=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,q=Hi,W=Et;if(Hi=q||h,Et=W||D,yn(r,t),Et=W,Hi=q,_n(t),l&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||D||Hi||Et||Xs(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){D=a=r;try{if(d=D.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{b=D.stateNode;var Z=D.memoizedProps.style,F=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;b.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(H){Ze(D,D.return,H)}}}else if(r.tag===6){if(a===null){D=r;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(H){Ze(D,D.return,H)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Od(t,a))));break;case 19:yn(r,t),_n(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Od(t,l)));break;case 30:break;case 21:break;default:yn(r,t),_n(t)}}function _n(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(A_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Id(t);Ic(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(In(v,""),a.flags&=-33);var b=Id(t);Ic(t,b,v);break;case 3:case 4:var D=a.stateNode.containerInfo,q=Id(t);Dd(t,q,D);break;default:throw Error(s(161))}}catch(W){Ze(t,t.return,W)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function O_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;O_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Nr(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)x_(t,r.alternate,r),r=r.sibling}function Xs(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Dr(4,r,r.return),Xs(r);break;case 1:di(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&b_(r,r.return,a),Xs(r);break;case 27:Vl(r.stateNode);case 26:case 5:di(r,r.return),Xs(r);break;case 22:r.memoizedState===null&&Xs(r);break;case 30:Xs(r);break;default:Xs(r)}t=t.sibling}}function Or(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,d=r,v=d.flags;switch(d.tag){case 0:case 11:case 15:Or(h,d,a),wl(4,d);break;case 1:if(Or(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){Ze(l,l.return,q)}if(l=d,h=l.updateQueue,h!==null){var b=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)oy(D[h],b)}catch(q){Ze(l,l.return,q)}}a&&v&64&&T_(d),Rl(d,d.return);break;case 27:w_(d);case 26:case 5:Or(h,d,a),a&&l===null&&v&4&&S_(d),Rl(d,d.return);break;case 12:Or(h,d,a);break;case 13:Or(h,d,a),a&&v&4&&D_(h,d);break;case 22:d.memoizedState===null&&Or(h,d,a),Rl(d,d.return);break;case 30:break;default:Or(h,d,a)}r=r.sibling}}function kd(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&hl(a))}function Md(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&hl(t))}function mi(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)k_(t,r,a,l),r=r.sibling}function k_(t,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:mi(t,r,a,l),h&2048&&wl(9,r);break;case 1:mi(t,r,a,l);break;case 3:mi(t,r,a,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&hl(t)));break;case 12:if(h&2048){mi(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,v=d.id,b=d.onPostCommit;typeof b=="function"&&b(v,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Ze(r,r.return,D)}}else mi(t,r,a,l);break;case 13:mi(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,v=r.alternate,r.memoizedState!==null?d._visibility&2?mi(t,r,a,l):xl(t,r):d._visibility&2?mi(t,r,a,l):(d._visibility|=2,Wa(t,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&kd(v,r);break;case 24:mi(t,r,a,l),h&2048&&Md(r.alternate,r);break;default:mi(t,r,a,l)}}function Wa(t,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=t,v=r,b=a,D=l,q=v.flags;switch(v.tag){case 0:case 11:case 15:Wa(d,v,b,D,h),wl(8,v);break;case 23:break;case 22:var W=v.stateNode;v.memoizedState!==null?W._visibility&2?Wa(d,v,b,D,h):xl(d,v):(W._visibility|=2,Wa(d,v,b,D,h)),h&&q&2048&&kd(v.alternate,v);break;case 24:Wa(d,v,b,D,h),h&&q&2048&&Md(v.alternate,v);break;default:Wa(d,v,b,D,h)}r=r.sibling}}function xl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,h=l.flags;switch(l.tag){case 22:xl(a,l),h&2048&&kd(l.alternate,l);break;case 24:xl(a,l),h&2048&&Md(l.alternate,l);break;default:xl(a,l)}r=r.sibling}}var Cl=8192;function Xa(t){if(t.subtreeFlags&Cl)for(t=t.child;t!==null;)M_(t),t=t.sibling}function M_(t){switch(t.tag){case 26:Xa(t),t.flags&Cl&&t.memoizedState!==null&&bA(Wn,t.memoizedState,t.memoizedProps);break;case 5:Xa(t);break;case 3:case 4:var r=Wn;Wn=qc(t.stateNode.containerInfo),Xa(t),Wn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=Cl,Cl=16777216,Xa(t),Cl=r):Xa(t));break;default:Xa(t)}}function V_(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Il(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Vt=l,U_(l,t)}V_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)P_(t),t=t.sibling}function P_(t){switch(t.tag){case 0:case 11:case 15:Il(t),t.flags&2048&&Dr(9,t,t.return);break;case 3:Il(t);break;case 12:Il(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Dc(t)):Il(t);break;default:Il(t)}}function Dc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Vt=l,U_(l,t)}V_(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Dr(8,r,r.return),Dc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Dc(r));break;default:Dc(r)}t=t.sibling}}function U_(t,r){for(;Vt!==null;){var a=Vt;switch(a.tag){case 0:case 11:case 15:Dr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:hl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Vt=l;else e:for(a=t;Vt!==null;){l=Vt;var h=l.sibling,d=l.return;if(C_(l),l===a){Vt=null;break e}if(h!==null){h.return=d,Vt=h;break e}Vt=d}}}var L1={getCacheForType:function(t){var r=Yt(It),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},j1=typeof WeakMap=="function"?WeakMap:Map,Ge=0,et=null,Oe=null,Le=0,Ke=0,vn=null,kr=!1,$a=!1,Vd=!1,Ki=0,ht=0,Mr=0,$s=0,Pd=0,Pn=0,Za=0,Dl=null,cn=null,Ud=!1,Ld=0,Nc=1/0,Oc=null,Vr=null,Bt=0,Pr=null,Ja=null,eo=0,jd=0,zd=null,L_=null,Nl=0,Bd=null;function En(){if((Ge&2)!==0&&Le!==0)return Le&-Le;if(K.T!==null){var t=Ba;return t!==0?t:Yd()}return Ci()}function j_(){Pn===0&&(Pn=(Le&536870912)===0||qe?Bo():536870912);var t=Vn.current;return t!==null&&(t.flags|=32),Pn}function Tn(t,r,a){(t===et&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(to(t,0),Ur(t,Le,Pn,!1)),pt(t,a),((Ge&2)===0||t!==et)&&(t===et&&((Ge&2)===0&&($s|=a),ht===4&&Ur(t,Le,Pn,!1)),pi(t))}function z_(t,r,a){if((Ge&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&t.expiredLanes)===0||ur(t,r),h=l?q1(t,r):Hd(t,r,!0),d=l;do{if(h===0){$a&&!l&&Ur(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!z1(a)){h=Hd(t,r,!1),d=!1;continue}if(h===2){if(d=r,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var b=t;h=Dl;var D=b.current.memoizedState.isDehydrated;if(D&&(to(b,v).flags|=256),v=Hd(b,v,!1),v!==2){if(Vd&&!D){b.errorRecoveryDisabledLanes|=d,$s|=d,h=4;break e}d=cn,cn=h,d!==null&&(cn===null?cn=d:cn.push.apply(cn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){to(t,0),Ur(t,r,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Ur(l,r,Pn,!kr);break e;case 2:cn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=Ld+300-on(),10<h)){if(Ur(l,r,Pn,!kr),xn(l,0,!0)!==0)break e;l.timeoutHandle=pv(B_.bind(null,l,a,cn,Oc,Ud,r,Pn,$s,Za,kr,d,2,-0,0),h);break e}B_(l,a,cn,Oc,Ud,r,Pn,$s,Za,kr,d,0,-0,0)}}break}while(!0);pi(t)}function B_(t,r,a,l,h,d,v,b,D,q,W,Z,F,H){if(t.timeoutHandle=-1,Z=r.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(Ll={stylesheets:null,count:0,unsuspend:TA},M_(r),Z=SA(),Z!==null)){t.cancelPendingCommit=Z(Y_.bind(null,t,r,d,a,l,h,v,b,D,W,1,F,H)),Ur(t,d,v,!q);return}Y_(t,r,d,a,l,h,v,b,D)}function z1(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!pn(d(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ur(t,r,a,l){r&=~Pd,r&=~$s,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var d=31-en(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&hr(t,a,r)}function kc(){return(Ge&6)===0?(Ol(0),!1):!0}function qd(){if(Oe!==null){if(Ke===0)var t=Oe.return;else t=Oe,Li=Gs=null,sd(t),Qa=null,bl=0,t=Oe;for(;t!==null;)E_(t.alternate,t),t=t.return;Oe=null}}function to(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,rA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),qd(),et=t,Oe=a=Vi(t.current,null),Le=r,Ke=0,vn=null,kr=!1,$a=ur(t,r),Vd=!1,Za=Pn=Pd=$s=Mr=ht=0,cn=Dl=null,Ud=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-en(l),d=1<<h;r|=t[h],l&=~d}return Ki=r,tc(),a}function q_(t,r){De=null,K.H=Ec,r===dl||r===cc?(r=sy(),Ke=3):r===ny?(r=sy(),Ke=4):Ke=r===a_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,vn=r,Oe===null&&(ht=1,wc(t,Nn(r,t.current)))}function F_(){var t=K.H;return K.H=Ec,t===null?Ec:t}function H_(){var t=K.A;return K.A=L1,t}function Fd(){ht=4,kr||(Le&4194048)!==Le&&Vn.current!==null||($a=!0),(Mr&134217727)===0&&($s&134217727)===0||et===null||Ur(et,Le,Pn,!1)}function Hd(t,r,a){var l=Ge;Ge|=2;var h=F_(),d=H_();(et!==t||Le!==r)&&(Oc=null,to(t,r)),r=!1;var v=ht;e:do try{if(Ke!==0&&Oe!==null){var b=Oe,D=vn;switch(Ke){case 8:qd(),v=6;break e;case 3:case 2:case 9:case 6:Vn.current===null&&(r=!0);var q=Ke;if(Ke=0,vn=null,no(t,b,D,q),a&&$a){v=0;break e}break;default:q=Ke,Ke=0,vn=null,no(t,b,D,q)}}B1(),v=ht;break}catch(W){q_(t,W)}while(!0);return r&&t.shellSuspendCounter++,Li=Gs=null,Ge=l,K.H=h,K.A=d,Oe===null&&(et=null,Le=0,tc()),v}function B1(){for(;Oe!==null;)G_(Oe)}function q1(t,r){var a=Ge;Ge|=2;var l=F_(),h=H_();et!==t||Le!==r?(Oc=null,Nc=on()+500,to(t,r)):$a=ur(t,r);e:do try{if(Ke!==0&&Oe!==null){r=Oe;var d=vn;t:switch(Ke){case 1:Ke=0,vn=null,no(t,r,d,1);break;case 2:case 9:if(iy(d)){Ke=0,vn=null,K_(r);break}r=function(){Ke!==2&&Ke!==9||et!==t||(Ke=7),pi(t)},d.then(r,r);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:iy(d)?(Ke=0,vn=null,K_(r)):(Ke=0,vn=null,no(t,r,d,7));break;case 5:var v=null;switch(Oe.tag){case 26:v=Oe.memoizedState;case 5:case 27:var b=Oe;if(!v||xv(v)){Ke=0,vn=null;var D=b.sibling;if(D!==null)Oe=D;else{var q=b.return;q!==null?(Oe=q,Mc(q)):Oe=null}break t}}Ke=0,vn=null,no(t,r,d,5);break;case 6:Ke=0,vn=null,no(t,r,d,6);break;case 8:qd(),ht=6;break e;default:throw Error(s(462))}}F1();break}catch(W){q_(t,W)}while(!0);return Li=Gs=null,K.H=l,K.A=h,Ge=a,Oe!==null?0:(et=null,Le=0,tc(),ht)}function F1(){for(;Oe!==null&&!_f();)G_(Oe)}function G_(t){var r=__(t.alternate,t,Ki);t.memoizedProps=t.pendingProps,r===null?Mc(t):Oe=r}function K_(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=f_(a,r,r.pendingProps,r.type,void 0,Le);break;case 11:r=f_(a,r,r.pendingProps,r.type.render,r.ref,Le);break;case 5:sd(r);default:E_(a,r),r=Oe=Qg(r,Ki),r=__(a,r,Ki)}t.memoizedProps=t.pendingProps,r===null?Mc(t):Oe=r}function no(t,r,a,l){Li=Gs=null,sd(r),Qa=null,bl=0;var h=r.return;try{if(O1(t,h,r,a,Le)){ht=1,wc(t,Nn(a,t.current)),Oe=null;return}}catch(d){if(h!==null)throw Oe=h,d;ht=1,wc(t,Nn(a,t.current)),Oe=null;return}r.flags&32768?(qe||l===1?t=!0:$a||(Le&536870912)!==0?t=!1:(kr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Vn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Q_(r,t)):Mc(r)}function Mc(t){var r=t;do{if((r.flags&32768)!==0){Q_(r,kr);return}t=r.return;var a=M1(r.alternate,r,Ki);if(a!==null){Oe=a;return}if(r=r.sibling,r!==null){Oe=r;return}Oe=r=t}while(r!==null);ht===0&&(ht=5)}function Q_(t,r){do{var a=V1(t.alternate,t);if(a!==null){a.flags&=32767,Oe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=a}while(t!==null);ht=6,Oe=null}function Y_(t,r,a,l,h,d,v,b,D){t.cancelPendingCommit=null;do Vc();while(Bt!==0);if((Ge&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Mf,Lu(t,a,d,v,b,D),t===et&&(Oe=et=null,Le=0),Ja=r,Pr=t,eo=a,jd=d,zd=h,L_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Q1(xi,function(){return J_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=re.p,re.p=2,v=Ge,Ge|=4;try{P1(t,r,a)}finally{Ge=v,re.p=h,K.T=l}}Bt=1,W_(),X_(),$_()}}function W_(){if(Bt===1){Bt=0;var t=Pr,r=Ja,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=re.p;re.p=2;var h=Ge;Ge|=4;try{N_(r,t);var d=nm,v=Ug(t.containerInfo),b=d.focusedElem,D=d.selectionRange;if(v!==b&&b&&b.ownerDocument&&Pg(b.ownerDocument.documentElement,b)){if(D!==null&&If(b)){var q=D.start,W=D.end;if(W===void 0&&(W=q),"selectionStart"in b)b.selectionStart=q,b.selectionEnd=Math.min(W,b.value.length);else{var Z=b.ownerDocument||document,F=Z&&Z.defaultView||window;if(F.getSelection){var H=F.getSelection(),we=b.textContent.length,Ee=Math.min(D.start,we),$e=D.end===void 0?Ee:Math.min(D.end,we);!H.extend&&Ee>$e&&(v=$e,$e=Ee,Ee=v);var P=Vg(b,Ee),M=Vg(b,$e);if(P&&M&&(H.rangeCount!==1||H.anchorNode!==P.node||H.anchorOffset!==P.offset||H.focusNode!==M.node||H.focusOffset!==M.offset)){var z=Z.createRange();z.setStart(P.node,P.offset),H.removeAllRanges(),Ee>$e?(H.addRange(z),H.extend(M.node,M.offset)):(z.setEnd(M.node,M.offset),H.addRange(z))}}}}for(Z=[],H=b;H=H.parentNode;)H.nodeType===1&&Z.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<Z.length;b++){var X=Z[b];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Qc=!!tm,nm=tm=null}finally{Ge=h,re.p=l,K.T=a}}t.current=r,Bt=2}}function X_(){if(Bt===2){Bt=0;var t=Pr,r=Ja,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=re.p;re.p=2;var h=Ge;Ge|=4;try{x_(t,r.alternate,r)}finally{Ge=h,re.p=l,K.T=a}}Bt=3}}function $_(){if(Bt===4||Bt===3){Bt=0,jo();var t=Pr,r=Ja,a=eo,l=L_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Bt=5:(Bt=0,Ja=Pr=null,Z_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Vr=null),Fo(a),r=r.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(or,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=K.T,h=re.p,re.p=2,K.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var b=l[v];d(b.value,{componentStack:b.stack})}}finally{K.T=r,re.p=h}}(eo&3)!==0&&Vc(),pi(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===Bd?Nl++:(Nl=0,Bd=t):Nl=0,Ol(0)}}function Z_(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,hl(r)))}function Vc(t){return W_(),X_(),$_(),J_()}function J_(){if(Bt!==5)return!1;var t=Pr,r=jd;jd=0;var a=Fo(eo),l=K.T,h=re.p;try{re.p=32>a?32:a,K.T=null,a=zd,zd=null;var d=Pr,v=eo;if(Bt=0,Ja=Pr=null,eo=0,(Ge&6)!==0)throw Error(s(331));var b=Ge;if(Ge|=4,P_(d.current),k_(d,d.current,v,a),Ge=b,Ol(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(or,d)}catch{}return!0}finally{re.p=h,K.T=l,Z_(t,r)}}function ev(t,r,a){r=Nn(a,r),r=vd(t.stateNode,r,2),t=Rr(t,r,2),t!==null&&(pt(t,2),pi(t))}function Ze(t,r,a){if(t.tag===3)ev(t,t,a);else for(;r!==null;){if(r.tag===3){ev(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Vr===null||!Vr.has(l))){t=Nn(a,t),a=r_(2),l=Rr(r,a,2),l!==null&&(s_(a,l,r,t),pt(l,2),pi(l));break}}r=r.return}}function Gd(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new j1;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(Vd=!0,h.add(a),t=H1.bind(null,t,r,a),r.then(t,t))}function H1(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(Le&a)===a&&(ht===4||ht===3&&(Le&62914560)===Le&&300>on()-Ld?(Ge&2)===0&&to(t,0):Pd|=a,Za===Le&&(Za=0)),pi(t)}function tv(t,r){r===0&&(r=cr()),t=Ua(t,r),t!==null&&(pt(t,r),pi(t))}function G1(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),tv(t,a)}function K1(t,r){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),tv(t,a)}function Q1(t,r){return gs(t,r)}var Pc=null,io=null,Kd=!1,Uc=!1,Qd=!1,Zs=0;function pi(t){t!==io&&t.next===null&&(io===null?Pc=io=t:io=io.next=t),Uc=!0,Kd||(Kd=!0,W1())}function Ol(t,r){if(!Qd&&Uc){Qd=!0;do for(var a=!1,l=Pc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-en(42|t)+1)-1,d&=h&~(v&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,sv(l,d))}else d=Le,d=xn(l,l===et?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ur(l,d)||(a=!0,sv(l,d));l=l.next}while(a);Qd=!1}}function Y1(){nv()}function nv(){Uc=Kd=!1;var t=0;Zs!==0&&(iA()&&(t=Zs),Zs=0);for(var r=on(),a=null,l=Pc;l!==null;){var h=l.next,d=iv(l,r);d===0?(l.next=null,a===null?Pc=h:a.next=h,h===null&&(io=a)):(a=l,(t!==0||(d&3)!==0)&&(Uc=!0)),l=h}Ol(t)}function iv(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-en(d),b=1<<v,D=h[v];D===-1?((b&a)===0||(b&l)!==0)&&(h[v]=Ea(b,r)):D<=r&&(t.expiredLanes|=b),d&=~b}if(r=et,a=Le,a=xn(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&va(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ur(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&va(l),Fo(a)){case 2:case 8:a=Ot;break;case 32:a=xi;break;case 268435456:a=zo;break;default:a=xi}return l=rv.bind(null,t),a=gs(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&va(l),t.callbackPriority=2,t.callbackNode=null,2}function rv(t,r){if(Bt!==0&&Bt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Vc()&&t.callbackNode!==a)return null;var l=Le;return l=xn(t,t===et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(z_(t,l,r),iv(t,on()),t.callbackNode!=null&&t.callbackNode===a?rv.bind(null,t):null)}function sv(t,r){if(Vc())return null;z_(t,r,!0)}function W1(){sA(function(){(Ge&6)!==0?gs(xt,Y1):nv()})}function Yd(){return Zs===0&&(Zs=Bo()),Zs}function av(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Hn(""+t)}function ov(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function X1(t,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var d=av((h[jt]||null).action),v=l.submitter;v&&(r=(r=v[jt]||null)?av(r.formAction):v.getAttribute("formAction"),r!==null&&(d=r,v=null));var b=new Ns("action","action",null,l,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Zs!==0){var D=v?ov(h,v):new FormData(h);md(a,{pending:!0,data:D,method:h.method,action:d},null,D)}}else typeof d=="function"&&(b.preventDefault(),D=v?ov(h,v):new FormData(h),md(a,{pending:!0,data:D,method:h.method,action:d},d,D))},currentTarget:h}]})}}for(var Wd=0;Wd<kf.length;Wd++){var Xd=kf[Wd],$1=Xd.toLowerCase(),Z1=Xd[0].toUpperCase()+Xd.slice(1);Yn($1,"on"+Z1)}Yn(zg,"onAnimationEnd"),Yn(Bg,"onAnimationIteration"),Yn(qg,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(p1,"onTransitionRun"),Yn(g1,"onTransitionStart"),Yn(y1,"onTransitionCancel"),Yn(Fg,"onTransitionEnd"),oi("onMouseEnter",["mouseout","mouseover"]),oi("onMouseLeave",["mouseout","mouseover"]),oi("onPointerEnter",["pointerout","pointerover"]),oi("onPointerLeave",["pointerout","pointerover"]),ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),J1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kl));function lv(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var v=l.length-1;0<=v;v--){var b=l[v],D=b.instance,q=b.currentTarget;if(b=b.listener,D!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=q;try{d(h)}catch(W){Ac(W)}h.currentTarget=null,d=D}else for(v=0;v<l.length;v++){if(b=l[v],D=b.instance,q=b.currentTarget,b=b.listener,D!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=q;try{d(h)}catch(W){Ac(W)}h.currentTarget=null,d=D}}}}function ke(t,r){var a=r[_s];a===void 0&&(a=r[_s]=new Set);var l=t+"__bubble";a.has(l)||(uv(r,t,2,!1),a.add(l))}function $d(t,r,a){var l=0;r&&(l|=4),uv(a,t,l,r)}var Lc="_reactListening"+Math.random().toString(36).slice(2);function Zd(t){if(!t[Lc]){t[Lc]=!0,ju.forEach(function(a){a!=="selectionchange"&&(J1.has(a)||$d(a,!1,t),$d(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Lc]||(r[Lc]=!0,$d("selectionchange",!1,r))}}function uv(t,r,a,l){switch(kv(r)){case 2:var h=RA;break;case 8:h=xA;break;default:h=fm}a=h.bind(null,r,a,t),h=void 0,!ki||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,a,{capture:!0,passive:h}):t.addEventListener(r,a,!0):h!==void 0?t.addEventListener(r,a,{passive:h}):t.addEventListener(r,a,!1)}function Jd(t,r,a,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var b=l.stateNode.containerInfo;if(b===h)break;if(v===4)for(v=l.return;v!==null;){var D=v.tag;if((D===3||D===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;b!==null;){if(v=ri(b),v===null)return;if(D=v.tag,D===5||D===6||D===26||D===27){l=d=v;continue e}b=b.parentNode}}l=l.return}Cs(function(){var q=d,W=Xo(a),Z=[];e:{var F=Hg.get(t);if(F!==void 0){var H=Ns,we=t;switch(t){case"keypress":if(Is(a)===0)break e;case"keydown":case"keyup":H=ka;break;case"focusin":we="focus",H=Da;break;case"focusout":we="blur",H=Da;break;case"beforeblur":case"afterblur":H=Da;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Ps;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Ku;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=br;break;case zg:case Bg:case qg:H=Zo;break;case Fg:H=y;break;case"scroll":case"scrollend":H=ks;break;case"wheel":H=A;break;case"copy":case"cut":case"paste":H=Yu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=tl;break;case"toggle":case"beforetoggle":H=G}var Ee=(r&4)!==0,$e=!Ee&&(t==="scroll"||t==="scrollend"),P=Ee?F!==null?F+"Capture":null:F;Ee=[];for(var M=q,z;M!==null;){var X=M;if(z=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||z===null||P===null||(X=Er(M,P),X!=null&&Ee.push(Ml(M,X,z))),$e)break;M=M.return}0<Ee.length&&(F=new H(F,we,null,a,W),Z.push({event:F,listeners:Ee}))}}if((r&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",F&&a!==Wo&&(we=a.relatedTarget||a.fromElement)&&(ri(we)||we[Ii]))break e;if((H||F)&&(F=W.window===W?W:(F=W.ownerDocument)?F.defaultView||F.parentWindow:window,H?(we=a.relatedTarget||a.toElement,H=q,we=we?ri(we):null,we!==null&&($e=u(we),Ee=we.tag,we!==$e||Ee!==5&&Ee!==27&&Ee!==6)&&(we=null)):(H=null,we=q),H!==we)){if(Ee=Ps,X="onMouseLeave",P="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(Ee=tl,X="onPointerLeave",P="onPointerEnter",M="pointer"),$e=H==null?F:mr(H),z=we==null?F:mr(we),F=new Ee(X,M+"leave",H,a,W),F.target=$e,F.relatedTarget=z,X=null,ri(W)===q&&(Ee=new Ee(P,M+"enter",we,a,W),Ee.target=z,Ee.relatedTarget=$e,X=Ee),$e=X,H&&we)t:{for(Ee=H,P=we,M=0,z=Ee;z;z=ro(z))M++;for(z=0,X=P;X;X=ro(X))z++;for(;0<M-z;)Ee=ro(Ee),M--;for(;0<z-M;)P=ro(P),z--;for(;M--;){if(Ee===P||P!==null&&Ee===P.alternate)break t;Ee=ro(Ee),P=ro(P)}Ee=null}else Ee=null;H!==null&&cv(Z,F,H,Ee,!1),we!==null&&$e!==null&&cv(Z,$e,we,Ee,!0)}}e:{if(F=q?mr(q):window,H=F.nodeName&&F.nodeName.toLowerCase(),H==="select"||H==="input"&&F.type==="file")var pe=Ig;else if(xg(F))if(Dg)pe=f1;else{pe=c1;var Ne=u1}else H=F.nodeName,!H||H.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?q&&xa(q.elementType)&&(pe=Ig):pe=h1;if(pe&&(pe=pe(t,q))){Cg(Z,pe,a,W);break e}Ne&&Ne(t,F,q),t==="focusout"&&q&&F.type==="number"&&q.memoizedProps.value!=null&&Ko(F,"number",F.value)}switch(Ne=q?mr(q):window,t){case"focusin":(xg(Ne)||Ne.contentEditable==="true")&&(Ma=Ne,Df=q,al=null);break;case"focusout":al=Df=Ma=null;break;case"mousedown":Nf=!0;break;case"contextmenu":case"mouseup":case"dragend":Nf=!1,Lg(Z,a,W);break;case"selectionchange":if(m1)break;case"keydown":case"keyup":Lg(Z,a,W)}var ge;if(xe)e:{switch(t){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else Qn?Gn(t,a)&&(Te="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Te="onCompositionStart");Te&&(_t&&a.locale!=="ko"&&(Qn||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&Qn&&(ge=Gu()):(Dn=W,Je="value"in Dn?Dn.value:Dn.textContent,Qn=!0)),Ne=jc(q,Te),0<Ne.length&&(Te=new el(Te,t,null,a,W),Z.push({event:Te,listeners:Ne}),ge?Te.data=ge:(ge=Kn(a),ge!==null&&(Te.data=ge)))),(ge=He?nl(t,a):a1(t,a))&&(Te=jc(q,"onBeforeInput"),0<Te.length&&(Ne=new el("onBeforeInput","beforeinput",null,a,W),Z.push({event:Ne,listeners:Te}),Ne.data=ge)),X1(Z,t,q,a,W)}lv(Z,r)})}function Ml(t,r,a){return{instance:t,listener:r,currentTarget:a}}function jc(t,r){for(var a=r+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Er(t,a),h!=null&&l.unshift(Ml(t,h,d)),h=Er(t,r),h!=null&&l.push(Ml(t,h,d))),t.tag===3)return l;t=t.return}return[]}function ro(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function cv(t,r,a,l,h){for(var d=r._reactName,v=[];a!==null&&a!==l;){var b=a,D=b.alternate,q=b.stateNode;if(b=b.tag,D!==null&&D===l)break;b!==5&&b!==26&&b!==27||q===null||(D=q,h?(q=Er(a,d),q!=null&&v.unshift(Ml(a,q,D))):h||(q=Er(a,d),q!=null&&v.push(Ml(a,q,D)))),a=a.return}v.length!==0&&t.push({event:r,listeners:v})}var eA=/\r\n?/g,tA=/\u0000|\uFFFD/g;function hv(t){return(typeof t=="string"?t:""+t).replace(eA,`
`).replace(tA,"")}function fv(t,r){return r=hv(r),hv(t)===r}function zc(){}function Xe(t,r,a,l,h,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||In(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&In(t,""+l);break;case"className":Ss(t,"class",l);break;case"tabIndex":Ss(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ss(t,a,l);break;case"style":Yo(t,l,d);break;case"data":if(r!=="object"){Ss(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Hn(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&Xe(t,r,"name",h.name,h,null),Xe(t,r,"formEncType",h.formEncType,h,null),Xe(t,r,"formMethod",h.formMethod,h,null),Xe(t,r,"formTarget",h.formTarget,h,null)):(Xe(t,r,"encType",h.encType,h,null),Xe(t,r,"method",h.method,h,null),Xe(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Hn(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=zc);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Hn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":ke("beforetoggle",t),ke("toggle",t),bs(t,"popover",l);break;case"xlinkActuate":Cn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Cn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Cn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Cn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Cn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Cn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Cn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Cn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Cn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":bs(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=qu.get(a)||a,bs(t,a,l))}}function em(t,r,a,l,h,d){switch(a){case"style":Yo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?In(t,l):(typeof l=="number"||typeof l=="bigint")&&In(t,""+l);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"onClick":l!=null&&(t.onclick=zc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Es.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),d=t[jt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):bs(t,a,l)}}}function qt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",t),ke("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Xe(t,r,d,v,a,null)}}h&&Xe(t,r,"srcSet",a.srcSet,a,null),l&&Xe(t,r,"src",a.src,a,null);return;case"input":ke("invalid",t);var b=d=v=h=null,D=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":h=W;break;case"type":v=W;break;case"checked":D=W;break;case"defaultChecked":q=W;break;case"value":d=W;break;case"defaultValue":b=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:Xe(t,r,l,W,a,null)}}Go(t,d,b,D,q,v,h,!1),yr(t);return;case"select":ke("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":d=b;break;case"defaultValue":v=b;break;case"multiple":l=b;default:Xe(t,r,h,b,a,null)}r=d,a=v,t.multiple=!!l,r!=null?_r(t,!!l,r,!1):a!=null&&_r(t,!!l,a,!0);return;case"textarea":ke("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(b=a[v],b!=null))switch(v){case"value":l=b;break;case"defaultValue":h=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:Xe(t,r,v,b,a,null)}Bu(t,l,h,d),yr(t);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xe(t,r,D,l,a,null)}return;case"dialog":ke("beforetoggle",t),ke("toggle",t),ke("cancel",t),ke("close",t);break;case"iframe":case"object":ke("load",t);break;case"video":case"audio":for(l=0;l<kl.length;l++)ke(kl[l],t);break;case"image":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"embed":case"source":case"link":ke("error",t),ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Xe(t,r,q,l,a,null)}return;default:if(xa(r)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&em(t,r,W,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&Xe(t,r,b,l,a,null))}function nA(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,b=null,D=null,q=null,W=null;for(H in a){var Z=a[H];if(a.hasOwnProperty(H)&&Z!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":D=Z;default:l.hasOwnProperty(H)||Xe(t,r,H,null,l,Z)}}for(var F in l){var H=l[F];if(Z=a[F],l.hasOwnProperty(F)&&(H!=null||Z!=null))switch(F){case"type":d=H;break;case"name":h=H;break;case"checked":q=H;break;case"defaultChecked":W=H;break;case"value":v=H;break;case"defaultValue":b=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,r));break;default:H!==Z&&Xe(t,r,F,H,l,Z)}}Ho(t,v,b,D,q,W,d,h);return;case"select":H=v=b=F=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":H=D;default:l.hasOwnProperty(d)||Xe(t,r,d,null,l,D)}for(h in l)if(d=l[h],D=a[h],l.hasOwnProperty(h)&&(d!=null||D!=null))switch(h){case"value":F=d;break;case"defaultValue":b=d;break;case"multiple":v=d;default:d!==D&&Xe(t,r,h,d,l,D)}r=b,a=v,l=H,F!=null?_r(t,!!a,F,!1):!!l!=!!a&&(r!=null?_r(t,!!a,r,!0):_r(t,!!a,a?[]:"",!1));return;case"textarea":H=F=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Xe(t,r,b,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":F=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Xe(t,r,v,h,l,d)}zu(t,F,H);return;case"option":for(var we in a)if(F=a[we],a.hasOwnProperty(we)&&F!=null&&!l.hasOwnProperty(we))switch(we){case"selected":t.selected=!1;break;default:Xe(t,r,we,null,l,F)}for(D in l)if(F=l[D],H=a[D],l.hasOwnProperty(D)&&F!==H&&(F!=null||H!=null))switch(D){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:Xe(t,r,D,F,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in a)F=a[Ee],a.hasOwnProperty(Ee)&&F!=null&&!l.hasOwnProperty(Ee)&&Xe(t,r,Ee,null,l,F);for(q in l)if(F=l[q],H=a[q],l.hasOwnProperty(q)&&F!==H&&(F!=null||H!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:Xe(t,r,q,F,l,H)}return;default:if(xa(r)){for(var $e in a)F=a[$e],a.hasOwnProperty($e)&&F!==void 0&&!l.hasOwnProperty($e)&&em(t,r,$e,void 0,l,F);for(W in l)F=l[W],H=a[W],!l.hasOwnProperty(W)||F===H||F===void 0&&H===void 0||em(t,r,W,F,l,H);return}}for(var P in a)F=a[P],a.hasOwnProperty(P)&&F!=null&&!l.hasOwnProperty(P)&&Xe(t,r,P,null,l,F);for(Z in l)F=l[Z],H=a[Z],!l.hasOwnProperty(Z)||F===H||F==null&&H==null||Xe(t,r,Z,F,l,H)}var tm=null,nm=null;function Bc(t){return t.nodeType===9?t:t.ownerDocument}function dv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function mv(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function im(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var rm=null;function iA(){var t=window.event;return t&&t.type==="popstate"?t===rm?!1:(rm=t,!0):(rm=null,!1)}var pv=typeof setTimeout=="function"?setTimeout:void 0,rA=typeof clearTimeout=="function"?clearTimeout:void 0,gv=typeof Promise=="function"?Promise:void 0,sA=typeof queueMicrotask=="function"?queueMicrotask:typeof gv<"u"?function(t){return gv.resolve(null).then(t).catch(aA)}:pv;function aA(t){setTimeout(function(){throw t})}function Lr(t){return t==="head"}function yv(t,r){var a=r,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&Vl(v.documentElement),a&2&&Vl(v.body),a&4)for(a=v.head,Vl(a),v=a.firstChild;v;){var b=v.nextSibling,D=v.nodeName;v[dr]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=b}}if(h===0){t.removeChild(d),Fl(r);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Fl(r)}function sm(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":sm(a),ba(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function oA(t,r,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[dr])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Xn(t.nextSibling),t===null)break}return null}function lA(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Xn(t.nextSibling),t===null))return null;return t}function am(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function uA(t,r){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Xn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var om=null;function _v(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function vv(t,r,a){switch(r=Bc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Vl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);ba(t)}var Un=new Map,Ev=new Set;function qc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Qi=re.d;re.d={f:cA,r:hA,D:fA,C:dA,L:mA,m:pA,X:yA,S:gA,M:_A};function cA(){var t=Qi.f(),r=kc();return t||r}function hA(t){var r=si(t);r!==null&&r.tag===5&&r.type==="form"?zy(r):Qi.r(t)}var so=typeof document>"u"?null:document;function Tv(t,r,a){var l=so;if(l&&typeof r=="string"&&r){var h=kt(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Ev.has(h)||(Ev.add(h),t={rel:t,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),qt(r,"link",t),yt(r),l.head.appendChild(r)))}}function fA(t){Qi.D(t),Tv("dns-prefetch",t,null)}function dA(t,r){Qi.C(t,r),Tv("preconnect",t,r)}function mA(t,r,a){Qi.L(t,r,a);var l=so;if(l&&t&&r){var h='link[rel="preload"][as="'+kt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+kt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+kt(a.imageSizes)+'"]')):h+='[href="'+kt(t)+'"]';var d=h;switch(r){case"style":d=ao(t);break;case"script":d=oo(t)}Un.has(d)||(t=E({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Un.set(d,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(Pl(d))||r==="script"&&l.querySelector(Ul(d))||(r=l.createElement("link"),qt(r,"link",t),yt(r),l.head.appendChild(r)))}}function pA(t,r){Qi.m(t,r);var a=so;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+kt(l)+'"][href="'+kt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=oo(t)}if(!Un.has(d)&&(t=E({rel:"modulepreload",href:t},r),Un.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ul(d)))return}l=a.createElement("link"),qt(l,"link",t),yt(l),a.head.appendChild(l)}}}function gA(t,r,a){Qi.S(t,r,a);var l=so;if(l&&t){var h=pr(l).hoistableStyles,d=ao(t);r=r||"default";var v=h.get(d);if(!v){var b={loading:0,preload:null};if(v=l.querySelector(Pl(d)))b.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Un.get(d))&&lm(t,a);var D=v=l.createElement("link");yt(D),qt(D,"link",t),D._p=new Promise(function(q,W){D.onload=q,D.onerror=W}),D.addEventListener("load",function(){b.loading|=1}),D.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Fc(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:b},h.set(d,v)}}}function yA(t,r){Qi.X(t,r);var a=so;if(a&&t){var l=pr(a).hoistableScripts,h=oo(t),d=l.get(h);d||(d=a.querySelector(Ul(h)),d||(t=E({src:t,async:!0},r),(r=Un.get(h))&&um(t,r),d=a.createElement("script"),yt(d),qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function _A(t,r){Qi.M(t,r);var a=so;if(a&&t){var l=pr(a).hoistableScripts,h=oo(t),d=l.get(h);d||(d=a.querySelector(Ul(h)),d||(t=E({src:t,async:!0,type:"module"},r),(r=Un.get(h))&&um(t,r),d=a.createElement("script"),yt(d),qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function bv(t,r,a,l){var h=(h=Ae.current)?qc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=ao(a.href),a=pr(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ao(a.href);var d=pr(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(Pl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Un.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Un.set(t,a),d||vA(h,t,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=oo(a),a=pr(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ao(t){return'href="'+kt(t)+'"'}function Pl(t){return'link[rel="stylesheet"]['+t+"]"}function Sv(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function vA(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),qt(r,"link",a),yt(r),t.head.appendChild(r))}function oo(t){return'[src="'+kt(t)+'"]'}function Ul(t){return"script[async]"+t}function Av(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+kt(a.href)+'"]');if(l)return r.instance=l,yt(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),yt(l),qt(l,"style",h),Fc(l,a.precedence,t),r.instance=l;case"stylesheet":h=ao(a.href);var d=t.querySelector(Pl(h));if(d)return r.state.loading|=4,r.instance=d,yt(d),d;l=Sv(a),(h=Un.get(h))&&lm(l,h),d=(t.ownerDocument||t).createElement("link"),yt(d);var v=d;return v._p=new Promise(function(b,D){v.onload=b,v.onerror=D}),qt(d,"link",l),r.state.loading|=4,Fc(d,a.precedence,t),r.instance=d;case"script":return d=oo(a.src),(h=t.querySelector(Ul(d)))?(r.instance=h,yt(h),h):(l=a,(h=Un.get(d))&&(l=E({},a),um(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),yt(h),qt(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Fc(l,a.precedence,t));return r.instance}function Fc(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var b=l[v];if(b.dataset.precedence===r)d=b;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function lm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function um(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Hc=null;function wv(t,r,a){if(Hc===null){var l=new Map,h=Hc=new Map;h.set(a,l)}else h=Hc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[dr]||d[gt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(r)||"";v=t+v;var b=l.get(v);b?b.push(d):l.set(v,[d])}}return l}function Rv(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function EA(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function xv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ll=null;function TA(){}function bA(t,r,a){if(Ll===null)throw Error(s(475));var l=Ll;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=ao(a.href),d=t.querySelector(Pl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Gc.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=d,yt(d);return}d=t.ownerDocument||t,a=Sv(a),(h=Un.get(h))&&lm(a,h),d=d.createElement("link"),yt(d);var v=d;v._p=new Promise(function(b,D){v.onload=b,v.onerror=D}),qt(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Gc.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function SA(){if(Ll===null)throw Error(s(475));var t=Ll;return t.stylesheets&&t.count===0&&cm(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&cm(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Gc(){if(this.count--,this.count===0){if(this.stylesheets)cm(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Kc=null;function cm(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Kc=new Map,r.forEach(AA,t),Kc=null,Gc.call(t))}function AA(t,r){if(!(r.state.loading&4)){var a=Kc.get(t);if(a)var l=a.get(null);else{a=new Map,Kc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=r.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Gc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var jl={$$typeof:ee,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function wA(t,r,a,l,h,d,v,b){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ta(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ta(0),this.hiddenUpdates=Ta(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function Cv(t,r,a,l,h,d,v,b,D,q,W,Z){return t=new wA(t,r,a,v,b,D,q,Z),r=1,d===!0&&(r|=24),d=gn(3,null,null,r),t.current=d,d.stateNode=t,r=Gf(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},Wf(d),t}function Iv(t){return t?(t=La,t):La}function Dv(t,r,a,l,h,d){h=Iv(h),l.context===null?l.context=h:l.pendingContext=h,l=wr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Rr(t,l,r),a!==null&&(Tn(a,t,r),pl(a,t,r))}function Nv(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function hm(t,r){Nv(t,r),(t=t.alternate)&&Nv(t,r)}function Ov(t){if(t.tag===13){var r=Ua(t,67108864);r!==null&&Tn(r,t,67108864),hm(t,67108864)}}var Qc=!0;function RA(t,r,a,l){var h=K.T;K.T=null;var d=re.p;try{re.p=2,fm(t,r,a,l)}finally{re.p=d,K.T=h}}function xA(t,r,a,l){var h=K.T;K.T=null;var d=re.p;try{re.p=8,fm(t,r,a,l)}finally{re.p=d,K.T=h}}function fm(t,r,a,l){if(Qc){var h=dm(l);if(h===null)Jd(t,r,l,Yc,a),Mv(t,l);else if(IA(h,t,r,a,l))l.stopPropagation();else if(Mv(t,l),r&4&&-1<CA.indexOf(t)){for(;h!==null;){var d=si(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Bn(d.pendingLanes);if(v!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;v;){var D=1<<31-en(v);b.entanglements[1]|=D,v&=~D}pi(d),(Ge&6)===0&&(Nc=on()+500,Ol(0))}}break;case 13:b=Ua(d,2),b!==null&&Tn(b,d,2),kc(),hm(d,2)}if(d=dm(l),d===null&&Jd(t,r,l,Yc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Jd(t,r,l,null,a)}}function dm(t){return t=Xo(t),mm(t)}var Yc=null;function mm(t){if(Yc=null,t=ri(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=f(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Yc=t,null}function kv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vu()){case xt:return 2;case Ot:return 8;case xi:case vf:return 32;case zo:return 268435456;default:return 32}default:return 32}}var pm=!1,jr=null,zr=null,Br=null,zl=new Map,Bl=new Map,qr=[],CA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Mv(t,r){switch(t){case"focusin":case"focusout":jr=null;break;case"dragenter":case"dragleave":zr=null;break;case"mouseover":case"mouseout":Br=null;break;case"pointerover":case"pointerout":zl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bl.delete(r.pointerId)}}function ql(t,r,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=si(r),r!==null&&Ov(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function IA(t,r,a,l,h){switch(r){case"focusin":return jr=ql(jr,t,r,a,l,h),!0;case"dragenter":return zr=ql(zr,t,r,a,l,h),!0;case"mouseover":return Br=ql(Br,t,r,a,l,h),!0;case"pointerover":var d=h.pointerId;return zl.set(d,ql(zl.get(d)||null,t,r,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Bl.set(d,ql(Bl.get(d)||null,t,r,a,l,h)),!0}return!1}function Vv(t){var r=ri(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=f(a),r!==null){t.blockedOn=r,bf(t.priority,function(){if(a.tag===13){var l=En();l=qo(l);var h=Ua(a,l);h!==null&&Tn(h,a,l),hm(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Wc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=dm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Wo=l,a.target.dispatchEvent(l),Wo=null}else return r=si(a),r!==null&&Ov(r),t.blockedOn=a,!1;r.shift()}return!0}function Pv(t,r,a){Wc(t)&&a.delete(r)}function DA(){pm=!1,jr!==null&&Wc(jr)&&(jr=null),zr!==null&&Wc(zr)&&(zr=null),Br!==null&&Wc(Br)&&(Br=null),zl.forEach(Pv),Bl.forEach(Pv)}function Xc(t,r){t.blockedOn===r&&(t.blockedOn=null,pm||(pm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,DA)))}var $c=null;function Uv(t){$c!==t&&($c=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){$c===t&&($c=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(mm(l||a)===null)continue;break}var d=si(a);d!==null&&(t.splice(r,3),r-=3,md(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Fl(t){function r(D){return Xc(D,t)}jr!==null&&Xc(jr,t),zr!==null&&Xc(zr,t),Br!==null&&Xc(Br,t),zl.forEach(r),Bl.forEach(r);for(var a=0;a<qr.length;a++){var l=qr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<qr.length&&(a=qr[0],a.blockedOn===null);)Vv(a),a.blockedOn===null&&qr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[jt]||null;if(typeof d=="function")v||Uv(a);else if(v){var b=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[jt]||null)b=v.formAction;else if(mm(h)!==null)continue}else b=v.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),Uv(a)}}}function gm(t){this._internalRoot=t}Zc.prototype.render=gm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=En();Dv(a,l,t,r,null,null)},Zc.prototype.unmount=gm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Dv(t.current,2,null,t,null,null),kc(),r[Ii]=null}};function Zc(t){this._internalRoot=t}Zc.prototype.unstable_scheduleHydration=function(t){if(t){var r=Ci();t={blockedOn:null,target:t,priority:r};for(var a=0;a<qr.length&&r!==0&&r<qr[a].priority;a++);qr.splice(a,0,t),a===0&&Vv(t)}};var Lv=e.version;if(Lv!=="19.1.0")throw Error(s(527,Lv,"19.1.0"));re.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(r),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var NA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jc.isDisabled&&Jc.supportsFiber)try{or=Jc.inject(NA),Kt=Jc}catch{}}return Gl.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",h=e_,d=t_,v=n_,b=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks)),r=Cv(t,1,!1,null,null,a,l,h,d,v,b,null),t[Ii]=r.current,Zd(t),new gm(r)},Gl.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=e_,v=t_,b=n_,D=null,q=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks),a.formState!==void 0&&(q=a.formState)),r=Cv(t,1,!0,r,a??null,l,h,d,v,b,D,q),r.context=Iv(null),a=r.current,l=En(),l=qo(l),h=wr(l),h.callback=null,Rr(a,h,l),a=l,r.current.lanes=a,pt(r,a),pi(r),t[Ii]=r.current,Zd(t),new Zc(r)},Gl.version="19.1.0",Gl}var Yv;function FA(){if(Yv)return vm.exports;Yv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),vm.exports=qA(),vm.exports}var HA=FA();WE();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cu(){return cu=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},cu.apply(this,arguments)}var $r;(function(i){i.Pop="POP",i.Push="PUSH",i.Replace="REPLACE"})($r||($r={}));const Wv="popstate";function GA(i){i===void 0&&(i={});function e(o,u){let{pathname:f="/",search:m="",hash:p=""}=ha(o.location.hash.substr(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),jm("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:bh(u))}function s(o,u){vp(o.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(u)+")")}return QA(e,n,s,i)}function lt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function vp(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function KA(){return Math.random().toString(36).substr(2,8)}function Xv(i,e){return{usr:i.state,key:i.key,idx:e}}function jm(i,e,n,s){return n===void 0&&(n=null),cu({pathname:typeof i=="string"?i:i.pathname,search:"",hash:""},typeof e=="string"?ha(e):e,{state:n,key:e&&e.key||s||KA()})}function bh(i){let{pathname:e="/",search:n="",hash:s=""}=i;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function ha(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substr(n),i=i.substr(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substr(s),i=i.substr(0,s)),i&&(e.pathname=i)}return e}function QA(i,e,n,s){s===void 0&&(s={});let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m=$r.Pop,p=null,g=E();g==null&&(g=0,f.replaceState(cu({},f.state,{idx:g}),""));function E(){return(f.state||{idx:null}).idx}function S(){m=$r.Pop;let U=E(),ie=U==null?null:U-g;g=U,p&&p({action:m,location:Y.location,delta:ie})}function R(U,ie){m=$r.Push;let ne=jm(Y.location,U,ie);n&&n(ne,U),g=E()+1;let ee=Xv(ne,g),le=Y.createHref(ne);try{f.pushState(ee,"",le)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;o.location.assign(le)}u&&p&&p({action:m,location:Y.location,delta:1})}function L(U,ie){m=$r.Replace;let ne=jm(Y.location,U,ie);n&&n(ne,U),g=E();let ee=Xv(ne,g),le=Y.createHref(ne);f.replaceState(ee,"",le),u&&p&&p({action:m,location:Y.location,delta:0})}function j(U){let ie=o.location.origin!=="null"?o.location.origin:o.location.href,ne=typeof U=="string"?U:bh(U);return ne=ne.replace(/ $/,"%20"),lt(ie,"No window.location.(origin|href) available to create URL for href: "+ne),new URL(ne,ie)}let Y={get action(){return m},get location(){return i(o,f)},listen(U){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Wv,S),p=U,()=>{o.removeEventListener(Wv,S),p=null}},createHref(U){return e(o,U)},createURL:j,encodeLocation(U){let ie=j(U);return{pathname:ie.pathname,search:ie.search,hash:ie.hash}},push:R,replace:L,go(U){return f.go(U)}};return Y}var $v;(function(i){i.data="data",i.deferred="deferred",i.redirect="redirect",i.error="error"})($v||($v={}));function YA(i,e,n){return n===void 0&&(n="/"),WA(i,e,n)}function WA(i,e,n,s){let o=typeof e=="string"?ha(e):e,u=To(o.pathname||"/",n);if(u==null)return null;let f=XE(i);XA(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=ow(u);m=sw(f[p],g)}return m}function XE(i,e,n,s){e===void 0&&(e=[]),n===void 0&&(n=[]),s===void 0&&(s="");let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(lt(p.relativePath.startsWith(s),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(s.length));let g=Jr([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(lt(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),XE(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:iw(g,u.index),routesMeta:E})};return i.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of $E(u.path))o(u,f,p)}),e}function $E(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=$E(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function XA(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:rw(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const $A=/^:[\w-]+$/,ZA=3,JA=2,ew=1,tw=10,nw=-2,Zv=i=>i==="*";function iw(i,e){let n=i.split("/"),s=n.length;return n.some(Zv)&&(s+=nw),e&&(s+=JA),n.filter(o=>!Zv(o)).reduce((o,u)=>o+($A.test(u)?ZA:u===""?ew:tw),s)}function rw(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function sw(i,e,n){let{routesMeta:s}=i,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",S=zm({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),R=p.route;if(!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:Jr([u,S.pathname]),pathnameBase:hw(Jr([u,S.pathnameBase])),route:R}),S.pathnameBase!=="/"&&(u=Jr([u,S.pathnameBase]))}return f}function zm(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=aw(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,E,S)=>{let{paramName:R,isOptional:L}=E;if(R==="*"){let Y=m[S]||"";f=u.slice(0,u.length-Y.length).replace(/(.)\/+$/,"$1")}const j=m[S];return L&&!j?g[R]=void 0:g[R]=(j||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:i}}function aw(i,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),vp(i==="*"||!i.endsWith("*")||i.endsWith("/*"),'Route path "'+i+'" will be treated as if it were '+('"'+i.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+i.replace(/\*$/,"/*")+'".'));let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function ow(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return vp(!1,'The URL path "'+i+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),i}}function To(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function lw(i,e){e===void 0&&(e="/");let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?ha(i):i;return{pathname:n?n.startsWith("/")?n:uw(n,e):e,search:fw(s),hash:dw(o)}}function uw(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Sm(i,e,n,s){return"Cannot include a '"+i+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function cw(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ep(i,e){let n=cw(i);return e?n.map((s,o)=>o===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function Tp(i,e,n,s){s===void 0&&(s=!1);let o;typeof i=="string"?o=ha(i):(o=cu({},i),lt(!o.pathname||!o.pathname.includes("?"),Sm("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),Sm("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),Sm("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let S=e.length-1;if(!s&&f.startsWith("..")){let R=f.split("/");for(;R[0]==="..";)R.shift(),S-=1;o.pathname=R.join("/")}m=S>=0?e[S]:"/"}let p=lw(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}const Jr=i=>i.join("/").replace(/\/\/+/g,"/"),hw=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),fw=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,dw=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function mw(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}const ZE=["post","put","patch","delete"];new Set(ZE);const pw=["get",...ZE];new Set(pw);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hu(){return hu=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},hu.apply(this,arguments)}const Fh=Q.createContext(null),JE=Q.createContext(null),rr=Q.createContext(null),Hh=Q.createContext(null),sr=Q.createContext({outlet:null,matches:[],isDataRoute:!1}),eT=Q.createContext(null);function gw(i,e){let{relative:n}=e===void 0?{}:e;Do()||lt(!1);let{basename:s,navigator:o}=Q.useContext(rr),{hash:u,pathname:f,search:m}=Gh(i,{relative:n}),p=f;return s!=="/"&&(p=f==="/"?s:Jr([s,f])),o.createHref({pathname:p,search:m,hash:u})}function Do(){return Q.useContext(Hh)!=null}function fa(){return Do()||lt(!1),Q.useContext(Hh).location}function tT(i){Q.useContext(rr).static||Q.useLayoutEffect(i)}function No(){let{isDataRoute:i}=Q.useContext(sr);return i?Dw():yw()}function yw(){Do()||lt(!1);let i=Q.useContext(Fh),{basename:e,future:n,navigator:s}=Q.useContext(rr),{matches:o}=Q.useContext(sr),{pathname:u}=fa(),f=JSON.stringify(Ep(o,n.v7_relativeSplatPath)),m=Q.useRef(!1);return tT(()=>{m.current=!0}),Q.useCallback(function(g,E){if(E===void 0&&(E={}),!m.current)return;if(typeof g=="number"){s.go(g);return}let S=Tp(g,JSON.parse(f),u,E.relative==="path");i==null&&e!=="/"&&(S.pathname=S.pathname==="/"?e:Jr([e,S.pathname])),(E.replace?s.replace:s.push)(S,E.state,E)},[e,s,f,u,i])}function _w(){let{matches:i}=Q.useContext(sr),e=i[i.length-1];return e?e.params:{}}function Gh(i,e){let{relative:n}=e===void 0?{}:e,{future:s}=Q.useContext(rr),{matches:o}=Q.useContext(sr),{pathname:u}=fa(),f=JSON.stringify(Ep(o,s.v7_relativeSplatPath));return Q.useMemo(()=>Tp(i,JSON.parse(f),u,n==="path"),[i,f,u,n])}function vw(i,e){return Ew(i,e)}function Ew(i,e,n,s){Do()||lt(!1);let{navigator:o}=Q.useContext(rr),{matches:u}=Q.useContext(sr),f=u[u.length-1],m=f?f.params:{};f&&f.pathname;let p=f?f.pathnameBase:"/";f&&f.route;let g=fa(),E;if(e){var S;let U=typeof e=="string"?ha(e):e;p==="/"||(S=U.pathname)!=null&&S.startsWith(p)||lt(!1),E=U}else E=g;let R=E.pathname||"/",L=R;if(p!=="/"){let U=p.replace(/^\//,"").split("/");L="/"+R.replace(/^\//,"").split("/").slice(U.length).join("/")}let j=YA(i,{pathname:L}),Y=ww(j&&j.map(U=>Object.assign({},U,{params:Object.assign({},m,U.params),pathname:Jr([p,o.encodeLocation?o.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?p:Jr([p,o.encodeLocation?o.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),u,n,s);return e&&Y?Q.createElement(Hh.Provider,{value:{location:hu({pathname:"/",search:"",hash:"",state:null,key:"default"},E),navigationType:$r.Pop}},Y):Y}function Tw(){let i=Iw(),e=mw(i)?i.status+" "+i.statusText:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),n?Q.createElement("pre",{style:o},n):null,null)}const bw=Q.createElement(Tw,null);class Sw extends Q.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?Q.createElement(sr.Provider,{value:this.props.routeContext},Q.createElement(eT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Aw(i){let{routeContext:e,match:n,children:s}=i,o=Q.useContext(Fh);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),Q.createElement(sr.Provider,{value:e},s)}function ww(i,e,n,s){var o;if(e===void 0&&(e=[]),n===void 0&&(n=null),s===void 0&&(s=null),i==null){var u;if(!n)return null;if(n.errors)i=n.matches;else if((u=s)!=null&&u.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let f=i,m=(o=n)==null?void 0:o.errors;if(m!=null){let E=f.findIndex(S=>S.route.id&&m?.[S.route.id]!==void 0);E>=0||lt(!1),f=f.slice(0,Math.min(f.length,E+1))}let p=!1,g=-1;if(n&&s&&s.v7_partialHydration)for(let E=0;E<f.length;E++){let S=f[E];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(g=E),S.route.id){let{loaderData:R,errors:L}=n,j=S.route.loader&&R[S.route.id]===void 0&&(!L||L[S.route.id]===void 0);if(S.route.lazy||j){p=!0,g>=0?f=f.slice(0,g+1):f=[f[0]];break}}}return f.reduceRight((E,S,R)=>{let L,j=!1,Y=null,U=null;n&&(L=m&&S.route.id?m[S.route.id]:void 0,Y=S.route.errorElement||bw,p&&(g<0&&R===0?(Nw("route-fallback"),j=!0,U=null):g===R&&(j=!0,U=S.route.hydrateFallbackElement||null)));let ie=e.concat(f.slice(0,R+1)),ne=()=>{let ee;return L?ee=Y:j?ee=U:S.route.Component?ee=Q.createElement(S.route.Component,null):S.route.element?ee=S.route.element:ee=E,Q.createElement(Aw,{match:S,routeContext:{outlet:E,matches:ie,isDataRoute:n!=null},children:ee})};return n&&(S.route.ErrorBoundary||S.route.errorElement||R===0)?Q.createElement(Sw,{location:n.location,revalidation:n.revalidation,component:Y,error:L,children:ne(),routeContext:{outlet:null,matches:ie,isDataRoute:!0}}):ne()},null)}var nT=function(i){return i.UseBlocker="useBlocker",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i}(nT||{}),iT=function(i){return i.UseBlocker="useBlocker",i.UseLoaderData="useLoaderData",i.UseActionData="useActionData",i.UseRouteError="useRouteError",i.UseNavigation="useNavigation",i.UseRouteLoaderData="useRouteLoaderData",i.UseMatches="useMatches",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i.UseRouteId="useRouteId",i}(iT||{});function Rw(i){let e=Q.useContext(Fh);return e||lt(!1),e}function xw(i){let e=Q.useContext(JE);return e||lt(!1),e}function Cw(i){let e=Q.useContext(sr);return e||lt(!1),e}function rT(i){let e=Cw(),n=e.matches[e.matches.length-1];return n.route.id||lt(!1),n.route.id}function Iw(){var i;let e=Q.useContext(eT),n=xw(),s=rT();return e!==void 0?e:(i=n.errors)==null?void 0:i[s]}function Dw(){let{router:i}=Rw(nT.UseNavigateStable),e=rT(iT.UseNavigateStable),n=Q.useRef(!1);return tT(()=>{n.current=!0}),Q.useCallback(function(o,u){u===void 0&&(u={}),n.current&&(typeof o=="number"?i.navigate(o):i.navigate(o,hu({fromRouteId:e},u)))},[i,e])}const Jv={};function Nw(i,e,n){Jv[i]||(Jv[i]=!0)}function Ow(i,e){i?.v7_startTransition,i?.v7_relativeSplatPath}function kw(i){let{to:e,replace:n,state:s,relative:o}=i;Do()||lt(!1);let{future:u,static:f}=Q.useContext(rr),{matches:m}=Q.useContext(sr),{pathname:p}=fa(),g=No(),E=Tp(e,Ep(m,u.v7_relativeSplatPath),p,o==="path"),S=JSON.stringify(E);return Q.useEffect(()=>g(JSON.parse(S),{replace:n,state:s,relative:o}),[g,S,o,n,s]),null}function Gr(i){lt(!1)}function Mw(i){let{basename:e="/",children:n=null,location:s,navigationType:o=$r.Pop,navigator:u,static:f=!1,future:m}=i;Do()&&lt(!1);let p=e.replace(/^\/*/,"/"),g=Q.useMemo(()=>({basename:p,navigator:u,static:f,future:hu({v7_relativeSplatPath:!1},m)}),[p,m,u,f]);typeof s=="string"&&(s=ha(s));let{pathname:E="/",search:S="",hash:R="",state:L=null,key:j="default"}=s,Y=Q.useMemo(()=>{let U=To(E,p);return U==null?null:{location:{pathname:U,search:S,hash:R,state:L,key:j},navigationType:o}},[p,E,S,R,L,j,o]);return Y==null?null:Q.createElement(rr.Provider,{value:g},Q.createElement(Hh.Provider,{children:n,value:Y}))}function Vw(i){let{children:e,location:n}=i;return vw(Bm(e),n)}new Promise(()=>{});function Bm(i,e){e===void 0&&(e=[]);let n=[];return Q.Children.forEach(i,(s,o)=>{if(!Q.isValidElement(s))return;let u=[...e,o];if(s.type===Q.Fragment){n.push.apply(n,Bm(s.props.children,u));return}s.type!==Gr&&lt(!1),!s.props.index||!s.props.children||lt(!1);let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Bm(s.props.children,u)),n.push(f)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sh(){return Sh=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},Sh.apply(this,arguments)}function sT(i,e){if(i==null)return{};var n={},s=Object.keys(i),o,u;for(u=0;u<s.length;u++)o=s[u],!(e.indexOf(o)>=0)&&(n[o]=i[o]);return n}function Pw(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function Uw(i,e){return i.button===0&&(!e||e==="_self")&&!Pw(i)}const Lw=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],jw=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],zw="6";try{window.__reactRouterVersion=zw}catch{}const Bw=Q.createContext({isTransitioning:!1}),qw="startTransition",e0=LA[qw];function Fw(i){let{basename:e,children:n,future:s,window:o}=i,u=Q.useRef();u.current==null&&(u.current=GA({window:o,v5Compat:!0}));let f=u.current,[m,p]=Q.useState({action:f.action,location:f.location}),{v7_startTransition:g}=s||{},E=Q.useCallback(S=>{g&&e0?e0(()=>p(S)):p(S)},[p,g]);return Q.useLayoutEffect(()=>f.listen(E),[f,E]),Q.useEffect(()=>Ow(s),[s]),Q.createElement(Mw,{basename:e,children:n,location:m.location,navigationType:m.action,navigator:f,future:s})}const Hw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Gw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ti=Q.forwardRef(function(e,n){let{onClick:s,relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:S}=e,R=sT(e,Lw),{basename:L}=Q.useContext(rr),j,Y=!1;if(typeof g=="string"&&Gw.test(g)&&(j=g,Hw))try{let ee=new URL(window.location.href),le=g.startsWith("//")?new URL(ee.protocol+g):new URL(g),se=To(le.pathname,L);le.origin===ee.origin&&se!=null?g=se+le.search+le.hash:Y=!0}catch{}let U=gw(g,{relative:o}),ie=Qw(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:S});function ne(ee){s&&s(ee),ee.defaultPrevented||ie(ee)}return Q.createElement("a",Sh({},R,{href:j||U,onClick:Y||u?s:ne,ref:n,target:p}))}),Kl=Q.forwardRef(function(e,n){let{"aria-current":s="page",caseSensitive:o=!1,className:u="",end:f=!1,style:m,to:p,viewTransition:g,children:E}=e,S=sT(e,jw),R=Gh(p,{relative:S.relative}),L=fa(),j=Q.useContext(JE),{navigator:Y,basename:U}=Q.useContext(rr),ie=j!=null&&Yw(R)&&g===!0,ne=Y.encodeLocation?Y.encodeLocation(R).pathname:R.pathname,ee=L.pathname,le=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;o||(ee=ee.toLowerCase(),le=le?le.toLowerCase():null,ne=ne.toLowerCase()),le&&U&&(le=To(le,U)||le);const se=ne!=="/"&&ne.endsWith("/")?ne.length-1:ne.length;let ae=ee===ne||!f&&ee.startsWith(ne)&&ee.charAt(se)==="/",C=le!=null&&(le===ne||!f&&le.startsWith(ne)&&le.charAt(ne.length)==="/"),w={isActive:ae,isPending:C,isTransitioning:ie},x=ae?s:void 0,O;typeof u=="function"?O=u(w):O=[u,ae?"active":null,C?"pending":null,ie?"transitioning":null].filter(Boolean).join(" ");let N=typeof m=="function"?m(w):m;return Q.createElement(ti,Sh({},S,{"aria-current":x,className:O,ref:n,style:N,to:p,viewTransition:g}),typeof E=="function"?E(w):E)});var qm;(function(i){i.UseScrollRestoration="useScrollRestoration",i.UseSubmit="useSubmit",i.UseSubmitFetcher="useSubmitFetcher",i.UseFetcher="useFetcher",i.useViewTransitionState="useViewTransitionState"})(qm||(qm={}));var t0;(function(i){i.UseFetcher="useFetcher",i.UseFetchers="useFetchers",i.UseScrollRestoration="useScrollRestoration"})(t0||(t0={}));function Kw(i){let e=Q.useContext(Fh);return e||lt(!1),e}function Qw(i,e){let{target:n,replace:s,state:o,preventScrollReset:u,relative:f,viewTransition:m}=e===void 0?{}:e,p=No(),g=fa(),E=Gh(i,{relative:f});return Q.useCallback(S=>{if(Uw(S,n)){S.preventDefault();let R=s!==void 0?s:bh(g)===bh(E);p(i,{replace:R,state:o,preventScrollReset:u,relative:f,viewTransition:m})}},[g,p,E,s,o,n,i,u,f,m])}function Yw(i,e){e===void 0&&(e={});let n=Q.useContext(Bw);n==null&&lt(!1);let{basename:s}=Kw(qm.useViewTransitionState),o=Gh(i,{relative:e.relative});if(!n.isTransitioning)return!1;let u=To(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=To(n.nextLocation.pathname,s)||n.nextLocation.pathname;return zm(o.pathname,f)!=null||zm(o.pathname,u)!=null}const Ww=()=>T.jsx("section",{style:{background:"linear-gradient(135deg, #1A0800 0%, #4A1E05 45%, #8B4513 80%, #C96B2B 100%)",minHeight:"520px",position:"relative"},className:"flex items-center",children:T.jsxs("div",{className:"max-w-7xl mx-auto px-8 w-full grid grid-cols-1 lg:grid-cols-2 gap-12 items-center py-20",children:[T.jsxs("div",{children:[T.jsx("span",{style:{color:"#AEFF00",fontSize:"11px",fontWeight:700,letterSpacing:"0.15em",textTransform:"uppercase"},className:"block mb-5",children:" Ritual de bienestar"}),T.jsxs("h1",{style:{color:"#fff",fontSize:"clamp(2rem, 5vw, 3.5rem)",fontWeight:800,lineHeight:1.1,marginBottom:"1.25rem"},children:["Tu nuevo ritual diario",T.jsx("br",{}),"de bienestar "]}),T.jsx("p",{style:{color:"rgba(255,255,255,0.75)",fontSize:"15px",lineHeight:1.75,marginBottom:"2rem",maxWidth:"440px"},children:"Velas artesanales elaboradas a mano con cera natural en Santa Marta, Colombia. Cada aroma cuenta una historia del Caribe."}),T.jsxs("div",{className:"flex flex-wrap gap-4",children:[T.jsx(ti,{to:"/juguetes",style:{backgroundColor:"var(--vsm-brand)",color:"#fff",borderRadius:"5px",padding:"12px 28px",fontSize:"13px",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.07em",textDecoration:"none"},className:"hover:opacity-90 transition-opacity",children:"Comprar ahora"}),T.jsx("a",{href:"#nosotros",style:{color:"#fff",border:"1px solid rgba(255,255,255,0.5)",borderRadius:"5px",padding:"12px 28px",fontSize:"13px",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.07em"},className:"hover:bg-white hover:text-black transition-all",children:"Ver coleccin"})]})]}),T.jsxs("div",{style:{backgroundColor:"rgba(255,255,255,0.06)",border:"1px solid rgba(255,255,255,0.12)",borderRadius:"8px",minHeight:"340px"},className:"hidden lg:flex items-center justify-center flex-col gap-4",children:[T.jsx("span",{style:{fontSize:"6rem",filter:"drop-shadow(0 8px 20px rgba(201,107,43,0.6))"},children:""}),T.jsx("p",{style:{color:"rgba(255,255,255,0.5)",fontSize:"11px",fontWeight:600,letterSpacing:"0.15em",textTransform:"uppercase"},children:"Coleccin Santa Marta"})]})]})}),Xw=[{icon:"",title:"Velas Aromticas",desc:"Elaboradas con cera de soya 100% natural y aceites esenciales puros. Cada vela llena tu espacio con aromas nicos inspirados en el Caribe colombiano: coco, mar, flores tropicales y especias."},{icon:"",title:"Velas Decorativas",desc:"Diseos artesanales nicos que combinan belleza y aroma. Cada pieza es moldeada y terminada a mano, convirtindose en un objeto decorativo que tambin perfuma tu hogar."}],$w=()=>T.jsx("section",{style:{backgroundColor:"var(--vsm-white)"},className:"py-20 px-8",children:T.jsxs("div",{className:"max-w-7xl mx-auto",children:[T.jsx("h2",{style:{fontWeight:800,fontSize:"1.6rem",color:"var(--vsm-black)",marginBottom:"2rem"},children:"Conoce nuestras Velas y otros productos"}),T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:Xw.map(i=>T.jsxs("div",{style:{backgroundColor:"#FBF6F0",borderRadius:"8px",padding:"2rem",borderLeft:"3px solid var(--vsm-brand)"},children:[T.jsx("div",{style:{fontSize:"3.5rem",marginBottom:"1rem"},children:i.icon}),T.jsx("h3",{style:{fontWeight:700,fontSize:"1.1rem",marginBottom:"0.75rem",color:"var(--vsm-black)"},children:i.title}),T.jsx("p",{style:{color:"var(--vsm-gray-mid)",lineHeight:1.8,fontSize:"14px",marginBottom:"1.25rem"},children:i.desc}),T.jsx(ti,{to:"/juguetes",style:{color:"var(--vsm-brand)",fontWeight:700,fontSize:"13px",textDecoration:"underline",textUnderlineOffset:"4px"},children:"Ver productos "})]},i.title))})]})}),Zw=()=>{};var n0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Jw=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],f=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],f=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},oT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let R=(m&15)<<2|g>>6,L=g&63;p||(L=64,f||(R=64)),s.push(n[E],n[S],n[R],n[L])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(aT(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):Jw(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const S=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||S==null)throw new eR;const R=u<<2|m>>4;if(s.push(R),g!==64){const L=m<<4&240|g>>2;if(s.push(L),S!==64){const j=g<<6&192|S;s.push(j)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class eR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tR=function(i){const e=aT(i);return oT.encodeByteArray(e,!0)},Ah=function(i){return tR(i).replace(/\./g,"")},lT=function(i){try{return oT.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR=()=>nR().__FIREBASE_DEFAULTS__,rR=()=>{if(typeof process>"u"||typeof n0>"u")return;const i=n0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},sR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&lT(i[1]);return e&&JSON.parse(e)},Kh=()=>{try{return Zw()||iR()||rR()||sR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},uT=i=>Kh()?.emulatorHosts?.[i],cT=i=>{const e=uT(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},hT=()=>Kh()?.config,fT=i=>Kh()?.[`_${i}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function bp(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Ah(JSON.stringify(n)),Ah(JSON.stringify(f)),""].join(".")}const tu={};function oR(){const i={prod:[],emulator:[]};for(const e of Object.keys(tu))tu[e]?i.emulator.push(e):i.prod.push(e);return i}function lR(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let i0=!1;function Sp(i,e){if(typeof window>"u"||typeof document>"u"||!hs(window.location.host)||tu[i]===e||tu[i]||i0)return;tu[i]=e;function n(R){return`__firebase__banner__${R}`}const s="__firebase__banner",u=oR().prod.length>0;function f(){const R=document.getElementById(s);R&&R.remove()}function m(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function p(R,L){R.setAttribute("width","24"),R.setAttribute("id",L),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function g(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{i0=!0,f()},R}function E(R,L){R.setAttribute("id",L),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function S(){const R=lR(s),L=n("text"),j=document.getElementById(L)||document.createElement("span"),Y=n("learnmore"),U=document.getElementById(Y)||document.createElement("a"),ie=n("preprendIcon"),ne=document.getElementById(ie)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const ee=R.element;m(ee),E(U,Y);const le=g();p(ne,ie),ee.append(ne,j,U,le),document.body.appendChild(ee)}u?(j.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function cR(){const i=Kh()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fR(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function dR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mR(){const i=Jt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function pR(){return!cR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gR(){try{return typeof indexedDB=="object"}catch{return!1}}function yR(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R="FirebaseError";class Ri extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=_R,Object.setPrototypeOf(this,Ri.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Su.prototype.create)}}class Su{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?vR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Ri(o,m,s)}}function vR(i,e){return i.replace(ER,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const ER=/\{\$([^}]+)}/g;function TR(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ra(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],f=e[o];if(r0(u)&&r0(f)){if(!ra(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function r0(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Au(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Wl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Xl(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function bR(i,e){const n=new SR(i,e);return n.subscribe.bind(n)}class SR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");AR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Am),o.error===void 0&&(o.error=Am),o.complete===void 0&&(o.complete=Am);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function AR(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Am(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function st(i){return i&&i._delegate?i._delegate:i}class rs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new aR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xR(e))try{this.getOrInitializeService({instanceIdentifier:Js})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Js){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Js){return this.instances.has(e)}getOptions(e=Js){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:RR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Js){return this.component?this.component.multipleInstances?e:Js:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function RR(i){return i===Js?void 0:i}function xR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new wR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ve||(Ve={}));const IR={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},DR=Ve.INFO,NR={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},OR=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=NR[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ap{constructor(e){this.name=e,this._logLevel=DR,this._logHandler=OR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?IR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const kR=(i,e)=>e.some(n=>i instanceof n);let s0,a0;function MR(){return s0||(s0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VR(){return a0||(a0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mT=new WeakMap,Fm=new WeakMap,pT=new WeakMap,wm=new WeakMap,wp=new WeakMap;function PR(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(es(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&mT.set(n,i)}).catch(()=>{}),wp.set(e,i),e}function UR(i){if(Fm.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});Fm.set(i,e)}let Hm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Fm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||pT.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return es(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function LR(i){Hm=i(Hm)}function jR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Rm(this),e,...n);return pT.set(s,e.sort?e.sort():[e]),es(s)}:VR().includes(i)?function(...e){return i.apply(Rm(this),e),es(mT.get(this))}:function(...e){return es(i.apply(Rm(this),e))}}function zR(i){return typeof i=="function"?jR(i):(i instanceof IDBTransaction&&UR(i),kR(i,MR())?new Proxy(i,Hm):i)}function es(i){if(i instanceof IDBRequest)return PR(i);if(wm.has(i))return wm.get(i);const e=zR(i);return e!==i&&(wm.set(i,e),wp.set(e,i)),e}const Rm=i=>wp.get(i);function BR(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),m=es(f);return s&&f.addEventListener("upgradeneeded",p=>{s(es(f.result),p.oldVersion,p.newVersion,es(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const qR=["get","getKey","getAll","getAllKeys","count"],FR=["put","add","delete","clear"],xm=new Map;function o0(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(xm.get(e))return xm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=FR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||qR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return xm.set(e,u),u}LR(i=>({...i,get:(e,n,s)=>o0(e,n)||i.get(e,n,s),has:(e,n)=>!!o0(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(GR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function GR(i){return i.getComponent()?.type==="VERSION"}const Gm="@firebase/app",l0="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi=new Ap("@firebase/app"),KR="@firebase/app-compat",QR="@firebase/analytics-compat",YR="@firebase/analytics",WR="@firebase/app-check-compat",XR="@firebase/app-check",$R="@firebase/auth",ZR="@firebase/auth-compat",JR="@firebase/database",ex="@firebase/data-connect",tx="@firebase/database-compat",nx="@firebase/functions",ix="@firebase/functions-compat",rx="@firebase/installations",sx="@firebase/installations-compat",ax="@firebase/messaging",ox="@firebase/messaging-compat",lx="@firebase/performance",ux="@firebase/performance-compat",cx="@firebase/remote-config",hx="@firebase/remote-config-compat",fx="@firebase/storage",dx="@firebase/storage-compat",mx="@firebase/firestore",px="@firebase/ai",gx="@firebase/firestore-compat",yx="firebase",_x="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km="[DEFAULT]",vx={[Gm]:"fire-core",[KR]:"fire-core-compat",[YR]:"fire-analytics",[QR]:"fire-analytics-compat",[XR]:"fire-app-check",[WR]:"fire-app-check-compat",[$R]:"fire-auth",[ZR]:"fire-auth-compat",[JR]:"fire-rtdb",[ex]:"fire-data-connect",[tx]:"fire-rtdb-compat",[nx]:"fire-fn",[ix]:"fire-fn-compat",[rx]:"fire-iid",[sx]:"fire-iid-compat",[ax]:"fire-fcm",[ox]:"fire-fcm-compat",[lx]:"fire-perf",[ux]:"fire-perf-compat",[cx]:"fire-rc",[hx]:"fire-rc-compat",[fx]:"fire-gcs",[dx]:"fire-gcs-compat",[mx]:"fire-fst",[gx]:"fire-fst-compat",[px]:"fire-vertex","fire-js":"fire-js",[yx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh=new Map,Ex=new Map,Qm=new Map;function u0(i,e){try{i.container.addComponent(e)}catch(n){Zi.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function sa(i){const e=i.name;if(Qm.has(e))return Zi.debug(`There were multiple attempts to register component ${e}.`),!1;Qm.set(e,i);for(const n of wh.values())u0(n,i);for(const n of Ex.values())u0(n,i);return!0}function Qh(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function bn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ts=new Su("app","Firebase",Tx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new rs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ts.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da=_x;function gT(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:Km,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw ts.create("bad-app-name",{appName:String(o)});if(n||(n=hT()),!n)throw ts.create("no-options");const u=wh.get(o);if(u){if(ra(n,u.options)&&ra(s,u.config))return u;throw ts.create("duplicate-app",{appName:o})}const f=new CR(o);for(const p of Qm.values())f.addComponent(p);const m=new bx(n,s,f);return wh.set(o,m),m}function Rp(i=Km){const e=wh.get(i);if(!e&&i===Km&&hT())return gT();if(!e)throw ts.create("no-app",{appName:i});return e}function _i(i,e,n){let s=vx[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zi.warn(f.join(" "));return}sa(new rs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx="firebase-heartbeat-database",Ax=1,fu="firebase-heartbeat-store";let Cm=null;function yT(){return Cm||(Cm=BR(Sx,Ax,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(fu)}catch(n){console.warn(n)}}}}).catch(i=>{throw ts.create("idb-open",{originalErrorMessage:i.message})})),Cm}async function wx(i){try{const n=(await yT()).transaction(fu),s=await n.objectStore(fu).get(_T(i));return await n.done,s}catch(e){if(e instanceof Ri)Zi.warn(e.message);else{const n=ts.create("idb-get",{originalErrorMessage:e?.message});Zi.warn(n.message)}}}async function c0(i,e){try{const s=(await yT()).transaction(fu,"readwrite");await s.objectStore(fu).put(e,_T(i)),await s.done}catch(n){if(n instanceof Ri)Zi.warn(n.message);else{const s=ts.create("idb-set",{originalErrorMessage:n?.message});Zi.warn(s.message)}}}function _T(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx=1024,xx=30;class Cx{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Dx(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=h0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>xx){const o=Nx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Zi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=h0(),{heartbeatsToSend:n,unsentEntries:s}=Ix(this._heartbeatsCache.heartbeats),o=Ah(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Zi.warn(e),""}}}function h0(){return new Date().toISOString().substring(0,10)}function Ix(i,e=Rx){const n=[];let s=i.slice();for(const o of i){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),f0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),f0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Dx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gR()?yR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await wx(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return c0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return c0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function f0(i){return Ah(JSON.stringify({version:2,heartbeats:i})).length}function Nx(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(i){sa(new rs("platform-logger",e=>new HR(e),"PRIVATE")),sa(new rs("heartbeat",e=>new Cx(e),"PRIVATE")),_i(Gm,l0,i),_i(Gm,l0,"esm2020"),_i("fire-js","")}Ox("");var d0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ns,vT;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,w){function x(){}x.prototype=w.prototype,C.F=w.prototype,C.prototype=new x,C.prototype.constructor=C,C.D=function(O,N,V){for(var I=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)I[fe-2]=arguments[fe];return w.prototype[N].apply(O,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,w,x){x||(x=0);const O=Array(16);if(typeof w=="string")for(var N=0;N<16;++N)O[N]=w.charCodeAt(x++)|w.charCodeAt(x++)<<8|w.charCodeAt(x++)<<16|w.charCodeAt(x++)<<24;else for(N=0;N<16;++N)O[N]=w[x++]|w[x++]<<8|w[x++]<<16|w[x++]<<24;w=C.g[0],x=C.g[1],N=C.g[2];let V=C.g[3],I;I=w+(V^x&(N^V))+O[0]+3614090360&4294967295,w=x+(I<<7&4294967295|I>>>25),I=V+(N^w&(x^N))+O[1]+3905402710&4294967295,V=w+(I<<12&4294967295|I>>>20),I=N+(x^V&(w^x))+O[2]+606105819&4294967295,N=V+(I<<17&4294967295|I>>>15),I=x+(w^N&(V^w))+O[3]+3250441966&4294967295,x=N+(I<<22&4294967295|I>>>10),I=w+(V^x&(N^V))+O[4]+4118548399&4294967295,w=x+(I<<7&4294967295|I>>>25),I=V+(N^w&(x^N))+O[5]+1200080426&4294967295,V=w+(I<<12&4294967295|I>>>20),I=N+(x^V&(w^x))+O[6]+2821735955&4294967295,N=V+(I<<17&4294967295|I>>>15),I=x+(w^N&(V^w))+O[7]+4249261313&4294967295,x=N+(I<<22&4294967295|I>>>10),I=w+(V^x&(N^V))+O[8]+1770035416&4294967295,w=x+(I<<7&4294967295|I>>>25),I=V+(N^w&(x^N))+O[9]+2336552879&4294967295,V=w+(I<<12&4294967295|I>>>20),I=N+(x^V&(w^x))+O[10]+4294925233&4294967295,N=V+(I<<17&4294967295|I>>>15),I=x+(w^N&(V^w))+O[11]+2304563134&4294967295,x=N+(I<<22&4294967295|I>>>10),I=w+(V^x&(N^V))+O[12]+1804603682&4294967295,w=x+(I<<7&4294967295|I>>>25),I=V+(N^w&(x^N))+O[13]+4254626195&4294967295,V=w+(I<<12&4294967295|I>>>20),I=N+(x^V&(w^x))+O[14]+2792965006&4294967295,N=V+(I<<17&4294967295|I>>>15),I=x+(w^N&(V^w))+O[15]+1236535329&4294967295,x=N+(I<<22&4294967295|I>>>10),I=w+(N^V&(x^N))+O[1]+4129170786&4294967295,w=x+(I<<5&4294967295|I>>>27),I=V+(x^N&(w^x))+O[6]+3225465664&4294967295,V=w+(I<<9&4294967295|I>>>23),I=N+(w^x&(V^w))+O[11]+643717713&4294967295,N=V+(I<<14&4294967295|I>>>18),I=x+(V^w&(N^V))+O[0]+3921069994&4294967295,x=N+(I<<20&4294967295|I>>>12),I=w+(N^V&(x^N))+O[5]+3593408605&4294967295,w=x+(I<<5&4294967295|I>>>27),I=V+(x^N&(w^x))+O[10]+38016083&4294967295,V=w+(I<<9&4294967295|I>>>23),I=N+(w^x&(V^w))+O[15]+3634488961&4294967295,N=V+(I<<14&4294967295|I>>>18),I=x+(V^w&(N^V))+O[4]+3889429448&4294967295,x=N+(I<<20&4294967295|I>>>12),I=w+(N^V&(x^N))+O[9]+568446438&4294967295,w=x+(I<<5&4294967295|I>>>27),I=V+(x^N&(w^x))+O[14]+3275163606&4294967295,V=w+(I<<9&4294967295|I>>>23),I=N+(w^x&(V^w))+O[3]+4107603335&4294967295,N=V+(I<<14&4294967295|I>>>18),I=x+(V^w&(N^V))+O[8]+1163531501&4294967295,x=N+(I<<20&4294967295|I>>>12),I=w+(N^V&(x^N))+O[13]+2850285829&4294967295,w=x+(I<<5&4294967295|I>>>27),I=V+(x^N&(w^x))+O[2]+4243563512&4294967295,V=w+(I<<9&4294967295|I>>>23),I=N+(w^x&(V^w))+O[7]+1735328473&4294967295,N=V+(I<<14&4294967295|I>>>18),I=x+(V^w&(N^V))+O[12]+2368359562&4294967295,x=N+(I<<20&4294967295|I>>>12),I=w+(x^N^V)+O[5]+4294588738&4294967295,w=x+(I<<4&4294967295|I>>>28),I=V+(w^x^N)+O[8]+2272392833&4294967295,V=w+(I<<11&4294967295|I>>>21),I=N+(V^w^x)+O[11]+1839030562&4294967295,N=V+(I<<16&4294967295|I>>>16),I=x+(N^V^w)+O[14]+4259657740&4294967295,x=N+(I<<23&4294967295|I>>>9),I=w+(x^N^V)+O[1]+2763975236&4294967295,w=x+(I<<4&4294967295|I>>>28),I=V+(w^x^N)+O[4]+1272893353&4294967295,V=w+(I<<11&4294967295|I>>>21),I=N+(V^w^x)+O[7]+4139469664&4294967295,N=V+(I<<16&4294967295|I>>>16),I=x+(N^V^w)+O[10]+3200236656&4294967295,x=N+(I<<23&4294967295|I>>>9),I=w+(x^N^V)+O[13]+681279174&4294967295,w=x+(I<<4&4294967295|I>>>28),I=V+(w^x^N)+O[0]+3936430074&4294967295,V=w+(I<<11&4294967295|I>>>21),I=N+(V^w^x)+O[3]+3572445317&4294967295,N=V+(I<<16&4294967295|I>>>16),I=x+(N^V^w)+O[6]+76029189&4294967295,x=N+(I<<23&4294967295|I>>>9),I=w+(x^N^V)+O[9]+3654602809&4294967295,w=x+(I<<4&4294967295|I>>>28),I=V+(w^x^N)+O[12]+3873151461&4294967295,V=w+(I<<11&4294967295|I>>>21),I=N+(V^w^x)+O[15]+530742520&4294967295,N=V+(I<<16&4294967295|I>>>16),I=x+(N^V^w)+O[2]+3299628645&4294967295,x=N+(I<<23&4294967295|I>>>9),I=w+(N^(x|~V))+O[0]+4096336452&4294967295,w=x+(I<<6&4294967295|I>>>26),I=V+(x^(w|~N))+O[7]+1126891415&4294967295,V=w+(I<<10&4294967295|I>>>22),I=N+(w^(V|~x))+O[14]+2878612391&4294967295,N=V+(I<<15&4294967295|I>>>17),I=x+(V^(N|~w))+O[5]+4237533241&4294967295,x=N+(I<<21&4294967295|I>>>11),I=w+(N^(x|~V))+O[12]+1700485571&4294967295,w=x+(I<<6&4294967295|I>>>26),I=V+(x^(w|~N))+O[3]+2399980690&4294967295,V=w+(I<<10&4294967295|I>>>22),I=N+(w^(V|~x))+O[10]+4293915773&4294967295,N=V+(I<<15&4294967295|I>>>17),I=x+(V^(N|~w))+O[1]+2240044497&4294967295,x=N+(I<<21&4294967295|I>>>11),I=w+(N^(x|~V))+O[8]+1873313359&4294967295,w=x+(I<<6&4294967295|I>>>26),I=V+(x^(w|~N))+O[15]+4264355552&4294967295,V=w+(I<<10&4294967295|I>>>22),I=N+(w^(V|~x))+O[6]+2734768916&4294967295,N=V+(I<<15&4294967295|I>>>17),I=x+(V^(N|~w))+O[13]+1309151649&4294967295,x=N+(I<<21&4294967295|I>>>11),I=w+(N^(x|~V))+O[4]+4149444226&4294967295,w=x+(I<<6&4294967295|I>>>26),I=V+(x^(w|~N))+O[11]+3174756917&4294967295,V=w+(I<<10&4294967295|I>>>22),I=N+(w^(V|~x))+O[2]+718787259&4294967295,N=V+(I<<15&4294967295|I>>>17),I=x+(V^(N|~w))+O[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(N+(I<<21&4294967295|I>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+V&4294967295}s.prototype.v=function(C,w){w===void 0&&(w=C.length);const x=w-this.blockSize,O=this.C;let N=this.h,V=0;for(;V<w;){if(N==0)for(;V<=x;)o(this,C,V),V+=this.blockSize;if(typeof C=="string"){for(;V<w;)if(O[N++]=C.charCodeAt(V++),N==this.blockSize){o(this,O),N=0;break}}else for(;V<w;)if(O[N++]=C[V++],N==this.blockSize){o(this,O),N=0;break}}this.h=N,this.o+=w},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;w=this.o*8;for(var x=C.length-8;x<C.length;++x)C[x]=w&255,w/=256;for(this.v(C),C=Array(16),w=0,x=0;x<4;++x)for(let O=0;O<32;O+=8)C[w++]=this.g[x]>>>O&255;return C};function u(C,w){var x=m;return Object.prototype.hasOwnProperty.call(x,C)?x[C]:x[C]=w(C)}function f(C,w){this.h=w;const x=[];let O=!0;for(let N=C.length-1;N>=0;N--){const V=C[N]|0;O&&V==w||(x[N]=V,O=!1)}this.g=x}var m={};function p(C){return-128<=C&&C<128?u(C,function(w){return new f([w|0],w<0?-1:0)}):new f([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return S;if(C<0)return U(g(-C));const w=[];let x=1;for(let O=0;C>=x;O++)w[O]=C/x|0,x*=4294967296;return new f(w,0)}function E(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return U(E(C.substring(1),w));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=g(Math.pow(w,8));let O=S;for(let V=0;V<C.length;V+=8){var N=Math.min(8,C.length-V);const I=parseInt(C.substring(V,V+N),w);N<8?(N=g(Math.pow(w,N)),O=O.j(N).add(g(I))):(O=O.j(x),O=O.add(g(I)))}return O}var S=p(0),R=p(1),L=p(16777216);i=f.prototype,i.m=function(){if(Y(this))return-U(this).m();let C=0,w=1;for(let x=0;x<this.g.length;x++){const O=this.i(x);C+=(O>=0?O:4294967296+O)*w,w*=4294967296}return C},i.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(j(this))return"0";if(Y(this))return"-"+U(this).toString(C);const w=g(Math.pow(C,6));var x=this;let O="";for(;;){const N=le(x,w).g;x=ie(x,N.j(w));let V=((x.g.length>0?x.g[0]:x.h)>>>0).toString(C);if(x=N,j(x))return V+O;for(;V.length<6;)V="0"+V;O=V+O}},i.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function j(C){if(C.h!=0)return!1;for(let w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function Y(C){return C.h==-1}i.l=function(C){return C=ie(this,C),Y(C)?-1:j(C)?0:1};function U(C){const w=C.g.length,x=[];for(let O=0;O<w;O++)x[O]=~C.g[O];return new f(x,~C.h).add(R)}i.abs=function(){return Y(this)?U(this):this},i.add=function(C){const w=Math.max(this.g.length,C.g.length),x=[];let O=0;for(let N=0;N<=w;N++){let V=O+(this.i(N)&65535)+(C.i(N)&65535),I=(V>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);O=I>>>16,V&=65535,I&=65535,x[N]=I<<16|V}return new f(x,x[x.length-1]&-2147483648?-1:0)};function ie(C,w){return C.add(U(w))}i.j=function(C){if(j(this)||j(C))return S;if(Y(this))return Y(C)?U(this).j(U(C)):U(U(this).j(C));if(Y(C))return U(this.j(U(C)));if(this.l(L)<0&&C.l(L)<0)return g(this.m()*C.m());const w=this.g.length+C.g.length,x=[];for(var O=0;O<2*w;O++)x[O]=0;for(O=0;O<this.g.length;O++)for(let N=0;N<C.g.length;N++){const V=this.i(O)>>>16,I=this.i(O)&65535,fe=C.i(N)>>>16,ve=C.i(N)&65535;x[2*O+2*N]+=I*ve,ne(x,2*O+2*N),x[2*O+2*N+1]+=V*ve,ne(x,2*O+2*N+1),x[2*O+2*N+1]+=I*fe,ne(x,2*O+2*N+1),x[2*O+2*N+2]+=V*fe,ne(x,2*O+2*N+2)}for(C=0;C<w;C++)x[C]=x[2*C+1]<<16|x[2*C];for(C=w;C<2*w;C++)x[C]=0;return new f(x,0)};function ne(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function ee(C,w){this.g=C,this.h=w}function le(C,w){if(j(w))throw Error("division by zero");if(j(C))return new ee(S,S);if(Y(C))return w=le(U(C),w),new ee(U(w.g),U(w.h));if(Y(w))return w=le(C,U(w)),new ee(U(w.g),w.h);if(C.g.length>30){if(Y(C)||Y(w))throw Error("slowDivide_ only works with positive integers.");for(var x=R,O=w;O.l(C)<=0;)x=se(x),O=se(O);var N=ae(x,1),V=ae(O,1);for(O=ae(O,2),x=ae(x,2);!j(O);){var I=V.add(O);I.l(C)<=0&&(N=N.add(x),V=I),O=ae(O,1),x=ae(x,1)}return w=ie(C,N.j(w)),new ee(N,w)}for(N=S;C.l(w)>=0;){for(x=Math.max(1,Math.floor(C.m()/w.m())),O=Math.ceil(Math.log(x)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),V=g(x),I=V.j(w);Y(I)||I.l(C)>0;)x-=O,V=g(x),I=V.j(w);j(V)&&(V=R),N=N.add(V),C=ie(C,I)}return new ee(N,C)}i.B=function(C){return le(this,C).h},i.and=function(C){const w=Math.max(this.g.length,C.g.length),x=[];for(let O=0;O<w;O++)x[O]=this.i(O)&C.i(O);return new f(x,this.h&C.h)},i.or=function(C){const w=Math.max(this.g.length,C.g.length),x=[];for(let O=0;O<w;O++)x[O]=this.i(O)|C.i(O);return new f(x,this.h|C.h)},i.xor=function(C){const w=Math.max(this.g.length,C.g.length),x=[];for(let O=0;O<w;O++)x[O]=this.i(O)^C.i(O);return new f(x,this.h^C.h)};function se(C){const w=C.g.length+1,x=[];for(let O=0;O<w;O++)x[O]=C.i(O)<<1|C.i(O-1)>>>31;return new f(x,C.h)}function ae(C,w){const x=w>>5;w%=32;const O=C.g.length-x,N=[];for(let V=0;V<O;V++)N[V]=w>0?C.i(V+x)>>>w|C.i(V+x+1)<<32-w:C.i(V+x);return new f(N,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,vT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,ns=f}).apply(typeof d0<"u"?d0:typeof self<"u"?self:typeof window<"u"?window:{});var eh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ET,$l,TT,fh,Ym,bT,ST,AT;(function(){var i,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof eh=="object"&&eh];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var B=c[A];if(!(B in _))break e;_=_[B]}c=c[c.length-1],A=_[c],y=y(A),y!=A&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var _=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&_.push([A,y[A]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,_){return c.call.apply(c.bind,arguments)}function g(c,y,_){return g=p,g.apply(null,arguments)}function E(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function S(c,y){function _(){}_.prototype=y.prototype,c.Z=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Ob=function(A,B,G){for(var oe=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)oe[xe-2]=arguments[xe];return y.prototype[B].apply(A,oe)}}var R=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function L(c){const y=c.length;if(y>0){const _=Array(y);for(let A=0;A<y;A++)_[A]=c[A];return _}return[]}function j(c,y){for(let A=1;A<arguments.length;A++){const B=arguments[A];var _=typeof B;if(_=_!="object"?_:B?Array.isArray(B)?"array":_:"null",_=="array"||_=="object"&&typeof B.length=="number"){_=c.length||0;const G=B.length||0;c.length=_+G;for(let oe=0;oe<G;oe++)c[_+oe]=B[oe]}else c.push(B)}}class Y{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function U(c){f.setTimeout(()=>{throw c},0)}function ie(){var c=C;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ne{constructor(){this.h=this.g=null}add(y,_){const A=ee.get();A.set(y,_),this.h?this.h.next=A:this.g=A,this.h=A}}var ee=new Y(()=>new le,c=>c.reset());class le{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let se,ae=!1,C=new ne,w=()=>{const c=Promise.resolve(void 0);se=()=>{c.then(x)}};function x(){for(var c;c=ie();){try{c.h.call(c.g)}catch(_){U(_)}var y=ee;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}ae=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var V=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};f.addEventListener("test",_,y),f.removeEventListener("test",_,y)}catch{}return c}();function I(c){return/^[\s\xa0]*$/.test(c)}function fe(c,y){N.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}S(fe,N),fe.prototype.init=function(c,y){const _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(_=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&fe.Z.h.call(this)},fe.prototype.h=function(){fe.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ve="closure_listenable_"+(Math.random()*1e6|0),K=0;function re(c,y,_,A,B){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!A,this.ha=B,this.key=++K,this.da=this.fa=!1}function he(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ze(c,y,_){for(const A in c)y.call(_,c[A],A,c)}function k(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function te(c){const y={};for(const _ in c)y[_]=c[_];return y}const de="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(c,y){let _,A;for(let B=1;B<arguments.length;B++){A=arguments[B];for(_ in A)c[_]=A[_];for(let G=0;G<de.length;G++)_=de[G],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function ye(c){this.src=c,this.g={},this.h=0}ye.prototype.add=function(c,y,_,A,B){const G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);const oe=Ae(c,y,A,B);return oe>-1?(y=c[oe],_||(y.fa=!1)):(y=new re(y,this.src,G,!!A,B),y.fa=_,c.push(y)),y};function Me(c,y){const _=y.type;if(_ in c.g){var A=c.g[_],B=Array.prototype.indexOf.call(A,y,void 0),G;(G=B>=0)&&Array.prototype.splice.call(A,B,1),G&&(he(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Ae(c,y,_,A){for(let B=0;B<c.length;++B){const G=c[B];if(!G.da&&G.listener==y&&G.capture==!!_&&G.ha==A)return B}return-1}var Lt="closure_lm_"+(Math.random()*1e6|0),Qe={};function zn(c,y,_,A,B){if(Array.isArray(y)){for(let G=0;G<y.length;G++)zn(c,y[G],_,A,B);return null}return _=Vu(_),c&&c[ve]?c.J(y,_,m(A)?!!A.capture:!1,B):Lo(c,y,_,!1,A,B)}function Lo(c,y,_,A,B,G){if(!y)throw Error("Invalid event type");const oe=m(B)?!!B.capture:!!B;let xe=jo(c);if(xe||(c[Lt]=xe=new ye(c)),_=xe.add(y,_,A,oe,G),_.proxy)return _;if(A=ya(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)V||(B=oe),B===void 0&&(B=!1),c.addEventListener(y.toString(),A,B);else if(c.attachEvent)c.attachEvent(va(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ya(){function c(_){return y.call(c.src,c.listener,_)}const y=_f;return c}function _a(c,y,_,A,B){if(Array.isArray(y))for(var G=0;G<y.length;G++)_a(c,y[G],_,A,B);else A=m(A)?!!A.capture:!!A,_=Vu(_),c&&c[ve]?(c=c.i,G=String(y).toString(),G in c.g&&(y=c.g[G],_=Ae(y,_,A,B),_>-1&&(he(y[_]),Array.prototype.splice.call(y,_,1),y.length==0&&(delete c.g[G],c.h--)))):c&&(c=jo(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ae(y,_,A,B)),(_=c>-1?y[c]:null)&&gs(_))}function gs(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[ve])Me(y.i,c);else{var _=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(_,A,c.capture):y.detachEvent?y.detachEvent(va(_),A):y.addListener&&y.removeListener&&y.removeListener(A),(_=jo(y))?(Me(_,c),_.h==0&&(_.src=null,y[Lt]=null)):he(c)}}}function va(c){return c in Qe?Qe[c]:Qe[c]="on"+c}function _f(c,y){if(c.da)c=!0;else{y=new fe(y,this);const _=c.listener,A=c.ha||c.src;c.fa&&gs(c),c=_.call(A,y)}return c}function jo(c){return c=c[Lt],c instanceof ye?c:null}var on="__closure_events_fn_"+(Math.random()*1e9>>>0);function Vu(c){return typeof c=="function"?c:(c[on]||(c[on]=function(y){return c.handleEvent(y)}),c[on])}function xt(){O.call(this),this.i=new ye(this),this.M=this,this.G=null}S(xt,O),xt.prototype[ve]=!0,xt.prototype.removeEventListener=function(c,y,_,A){_a(this,c,y,_,A)};function Ot(c,y){var _,A=c.G;if(A)for(_=[];A;A=A.G)_.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new N(y,c);else if(y instanceof N)y.target=y.target||c;else{var B=y;y=new N(A,c),ue(y,B)}B=!0;let G,oe;if(_)for(oe=_.length-1;oe>=0;oe--)G=y.g=_[oe],B=xi(G,A,!0,y)&&B;if(G=y.g=c,B=xi(G,A,!0,y)&&B,B=xi(G,A,!1,y)&&B,_)for(oe=0;oe<_.length;oe++)G=y.g=_[oe],B=xi(G,A,!1,y)&&B}xt.prototype.N=function(){if(xt.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const _=c.g[y];for(let A=0;A<_.length;A++)he(_[A]);delete c.g[y],c.h--}}this.G=null},xt.prototype.J=function(c,y,_,A){return this.i.add(String(c),y,!1,_,A)},xt.prototype.K=function(c,y,_,A){return this.i.add(String(c),y,!0,_,A)};function xi(c,y,_,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let B=!0;for(let G=0;G<y.length;++G){const oe=y[G];if(oe&&!oe.da&&oe.capture==_){const xe=oe.listener,nt=oe.ha||oe.src;oe.fa&&Me(c.i,oe),B=xe.call(nt,A)!==!1&&B}}return B&&!A.defaultPrevented}function vf(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:f.setTimeout(c,y||0)}function zo(c){c.g=vf(()=>{c.g=null,c.i&&(c.i=!1,zo(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Ef extends O{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:zo(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ys(c){O.call(this),this.h=c,this.g={}}S(ys,O);var or=[];function Kt(c){ze(c.g,function(y,_){this.g.hasOwnProperty(_)&&gs(y)},c),c.g={}}ys.prototype.N=function(){ys.Z.N.call(this),Kt(this)},ys.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rn=f.JSON.stringify,en=f.JSON.parse,Tf=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Pu(){}function Uu(){}var ni={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function lr(){N.call(this,"d")}S(lr,N);function Bn(){N.call(this,"c")}S(Bn,N);var xn={},ur=null;function Ea(){return ur=ur||new xt}xn.Ia="serverreachability";function Bo(c){N.call(this,xn.Ia,c)}S(Bo,N);function cr(c){const y=Ea();Ot(y,new Bo(y))}xn.STAT_EVENT="statevent";function Ta(c,y){N.call(this,xn.STAT_EVENT,c),this.stat=y}S(Ta,N);function pt(c){const y=Ea();Ot(y,new Ta(y,c))}xn.Ja="timingevent";function Lu(c,y){N.call(this,xn.Ja,c),this.size=y}S(Lu,N);function hr(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},y)}function fr(){this.g=!0}fr.prototype.ua=function(){this.g=!1};function qo(c,y,_,A,B,G){c.info(function(){if(c.g)if(G){var oe="",xe=G.split("&");for(let He=0;He<xe.length;He++){var nt=xe[He].split("=");if(nt.length>1){const _t=nt[0];nt=nt[1];const mn=_t.split("_");oe=mn.length>=2&&mn[1]=="type"?oe+(_t+"="+nt+"&"):oe+(_t+"=redacted&")}}}else oe=null;else oe=G;return"XMLHTTP REQ ("+A+") [attempt "+B+"]: "+y+`
`+_+`
`+oe})}function Fo(c,y,_,A,B,G,oe){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+B+"]: "+y+`
`+_+`
`+G+" "+oe})}function Ci(c,y,_,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ii(c,_)+(A?" "+A:"")})}function bf(c,y){c.info(function(){return"TIMEOUT: "+y})}fr.prototype.info=function(){};function ii(c,y){if(!c.g)return y;if(!y)return null;try{const G=JSON.parse(y);if(G){for(c=0;c<G.length;c++)if(Array.isArray(G[c])){var _=G[c];if(!(_.length<2)){var A=_[1];if(Array.isArray(A)&&!(A.length<1)){var B=A[0];if(B!="noop"&&B!="stop"&&B!="close")for(let oe=1;oe<A.length;oe++)A[oe]=""}}}}return Rn(G)}catch{return y}}var gt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},jt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ii;function _s(){}S(_s,Pu),_s.prototype.g=function(){return new XMLHttpRequest},Ii=new _s;function vs(c){return encodeURIComponent(String(c))}function Sf(c){var y=1;c=c.split(":");const _=[];for(;y>0&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function qn(c,y,_,A){this.j=c,this.i=y,this.l=_,this.S=A||1,this.V=new ys(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new dr}function dr(){this.i=null,this.g="",this.h=!1}var ba={},ri={};function si(c,y,_){c.M=1,c.A=Ni(at(y)),c.u=_,c.R=!0,mr(c,null)}function mr(c,y){c.F=Date.now(),Es(c),c.B=at(c.A);var _=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),qu(_.i,"t",A),c.C=0,_=c.j.L,c.h=new dr,c.g=Oa(c.j,_?y:null,!c.u),c.P>0&&(c.O=new Ef(g(c.Y,c,c.g),c.P)),y=c.V,_=c.g,A=c.ba;var B="readystatechange";Array.isArray(B)||(B&&(or[0]=B.toString()),B=or);for(let G=0;G<B.length;G++){const oe=zn(_,B[G],A||y.handleEvent,!1,y.h||y);if(!oe)break;y.g[oe.key]=oe}y=c.J?te(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),cr(),qo(c.i,c.v,c.B,c.l,c.S,c.u)}qn.prototype.ba=function(c){c=c.target;const y=this.O;y&&Qt(c)==3?y.j():this.Y(c)},qn.prototype.Y=function(c){try{if(c==this.g)e:{const xe=Qt(this.g),nt=this.g.ya(),He=this.g.ca();if(!(xe<3)&&(xe!=3||this.g&&(this.h.h||this.g.la()||Ns(this.g)))){this.K||xe!=4||nt==7||(nt==8||He<=0?cr(3):cr(2)),oi(this);var y=this.g.ca();this.X=y;var _=pr(this);if(this.o=y==200,Fo(this.i,this.v,this.B,this.l,this.S,xe,y),this.o){if(this.U&&!this.L){t:{if(this.g){var A,B=this.g;if((A=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(A)){var G=A;break t}}G=null}if(c=G)Ci(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Sa(this,c);else{this.o=!1,this.m=3,pt(12),li(this),Ts(this);break e}}if(this.R){c=!0;let _t;for(;!this.K&&this.C<_.length;)if(_t=ju(this,_),_t==ri){xe==4&&(this.m=4,pt(14),c=!1),Ci(this.i,this.l,null,"[Incomplete Response]");break}else if(_t==ba){this.m=4,pt(15),Ci(this.i,this.l,_,"[Invalid Chunk]"),c=!1;break}else Ci(this.i,this.l,_t,null),Sa(this,_t);if(yt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xe!=4||_.length!=0||this.h.h||(this.m=1,pt(16),c=!1),this.o=this.o&&c,!c)Ci(this.i,this.l,_,"[Invalid Chunked Response]"),li(this),Ts(this);else if(_.length>0&&!this.W){this.W=!0;var oe=this.j;oe.g==this&&oe.aa&&!oe.P&&(oe.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Jo(oe),oe.P=!0,pt(11))}}else Ci(this.i,this.l,_,null),Sa(this,_);xe==4&&li(this),this.o&&!this.K&&(xe==4?el(this.j,this):(this.o=!1,Es(this)))}else Os(this.g),y==400&&_.indexOf("Unknown SID")>0?(this.m=3,pt(12)):(this.m=0,pt(13)),li(this),Ts(this)}}}catch{}finally{}};function pr(c){if(!yt(c))return c.g.la();const y=Ns(c.g);if(y==="")return"";let _="";const A=y.length,B=Qt(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return li(c),Ts(c),"";c.h.i=new f.TextDecoder}for(let G=0;G<A;G++)c.h.h=!0,_+=c.h.i.decode(y[G],{stream:!(B&&G==A-1)});return y.length=0,c.h.g+=_,c.C=0,c.h.g}function yt(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function ju(c,y){var _=c.C,A=y.indexOf(`
`,_);return A==-1?ri:(_=Number(y.substring(_,A)),isNaN(_)?ba:(A+=1,A+_>y.length?ri:(y=y.slice(A,A+_),c.C=A+_,y)))}qn.prototype.cancel=function(){this.K=!0,li(this)};function Es(c){c.T=Date.now()+c.H,ai(c,c.H)}function ai(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=hr(g(c.aa,c),y)}function oi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}qn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(bf(this.i,this.B),this.M!=2&&(cr(),pt(17)),li(this),this.m=2,Ts(this)):ai(this,this.T-c)};function Ts(c){c.j.I==0||c.K||el(c.j,c)}function li(c){oi(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Kt(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function Sa(c,y){try{var _=c.j;if(_.I!=0&&(_.g==c||As(_.h,c))){if(!c.L&&As(_.h,c)&&_.I==3){try{var A=_.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var B=A;if(B[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<c.F)Na(_),ui(_);else break e;Zo(_),pt(18)}}else _.xa=B[1],0<_.xa-_.K&&B[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=hr(g(_.Va,_),6e3));Cn(_.h)<=1&&_.ta&&(_.ta=void 0)}else Mi(_,11)}else if((c.L||_.g==c)&&Na(_),!I(y))for(B=_.Ba.g.parse(y),y=0;y<B.length;y++){let He=B[y];const _t=He[0];if(!(_t<=_.K))if(_.K=_t,He=He[1],_.I==2)if(He[0]=="c"){_.M=He[1],_.ba=He[2];const mn=He[3];mn!=null&&(_.ka=mn,_.j.info("VER="+_.ka));const ci=He[4];ci!=null&&(_.za=ci,_.j.info("SVER="+_.za));const Gn=He[5];Gn!=null&&typeof Gn=="number"&&Gn>0&&(A=1.5*Gn,_.O=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Kn=c.g;if(Kn){const Qn=Kn.g?Kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qn){var G=A.h;G.g||Qn.indexOf("spdy")==-1&&Qn.indexOf("quic")==-1&&Qn.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Aa(G,G.h),G.h=null))}if(A.G){const nl=Kn.g?Kn.g.getResponseHeader("X-HTTP-Session-Id"):null;nl&&(A.wa=nl,Ye(A.J,A.G,nl))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-c.F,_.j.info("Handshake RTT: "+_.T+"ms")),A=_;var oe=c;if(A.na=$u(A,A.L?A.ba:null,A.W),oe.L){Di(A.h,oe);var xe=oe,nt=A.O;nt&&(xe.H=nt),xe.D&&(oi(xe),Es(xe)),A.g=oe}else Qu(A);_.i.length>0&&Ps(_)}else He[0]!="stop"&&He[0]!="close"||Mi(_,7);else _.I==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?Mi(_,7):Ms(_):He[0]!="noop"&&_.l&&_.l.qa(He),_.A=0)}}cr(4)}catch{}}var Af=class{constructor(c,y){this.g=c,this.map=y}};function bs(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ss(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Cn(c){return c.h?1:c.g?c.g.size:0}function As(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Aa(c,y){c.g?c.g.add(y):c.h=y}function Di(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}bs.prototype.cancel=function(){if(this.i=wa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function wa(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.G);return y}return L(c.i)}var Ra=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wf(c,y){if(c){c=c.split("&");for(let _=0;_<c.length;_++){const A=c[_].indexOf("=");let B,G=null;A>=0?(B=c[_].substring(0,A),G=c[_].substring(A+1)):B=c[_],y(B,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Fn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof Fn?(this.l=c.l,gr(this,c.j),this.o=c.o,this.g=c.g,ws(this,c.u),this.h=c.h,yr(this,Fu(c.i)),this.m=c.m):c&&(y=String(c).match(Ra))?(this.l=!1,gr(this,y[1]||"",!0),this.o=Rs(y[2]||""),this.g=Rs(y[3]||"",!0),ws(this,y[4]),this.h=Rs(y[5]||"",!0),yr(this,y[6]||"",!0),this.m=Rs(y[7]||"")):(this.l=!1,this.i=new In(null,this.l))}Fn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(kt(y,Go,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(kt(y,Go,!0),"@"),c.push(vs(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&c.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(kt(_,_.charAt(0)=="/"?_r:Ko,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",kt(_,Bu)),c.join("")},Fn.prototype.resolve=function(c){const y=at(this);let _=!!c.j;_?gr(y,c.j):_=!!c.o,_?y.o=c.o:_=!!c.g,_?y.g=c.g:_=c.u!=null;var A=c.h;if(_)ws(y,c.u);else if(_=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var B=y.h.lastIndexOf("/");B!=-1&&(A=y.h.slice(0,B+1)+A)}if(B=A,B==".."||B==".")A="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){A=B.lastIndexOf("/",0)==0,B=B.split("/");const G=[];for(let oe=0;oe<B.length;){const xe=B[oe++];xe=="."?A&&oe==B.length&&G.push(""):xe==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),A&&oe==B.length&&G.push("")):(G.push(xe),A=!0)}A=G.join("/")}else A=B}return _?y.h=A:_=c.i.toString()!=="",_?yr(y,Fu(c.i)):_=!!c.m,_&&(y.m=c.m),y};function at(c){return new Fn(c)}function gr(c,y,_){c.j=_?Rs(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function ws(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function yr(c,y,_){y instanceof In?(c.i=y,Wo(c.i,c.l)):(_||(y=kt(y,zu)),c.i=new In(y,c.l))}function Ye(c,y,_){c.i.set(y,_)}function Ni(c){return Ye(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Rs(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function kt(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Ho),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Ho(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Go=/[#\/\?@]/g,Ko=/[#\?:]/g,_r=/[#\?]/g,zu=/[#\?@]/g,Bu=/#/g;function In(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Oi(c){c.g||(c.g=new Map,c.h=0,c.i&&wf(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}i=In.prototype,i.add=function(c,y){Oi(this),this.i=null,c=Hn(this,c);let _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Qo(c,y){Oi(c),y=Hn(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Yo(c,y){return Oi(c),y=Hn(c,y),c.g.has(y)}i.forEach=function(c,y){Oi(this),this.g.forEach(function(_,A){_.forEach(function(B){c.call(y,B,A,this)},this)},this)};function xa(c,y){Oi(c);let _=[];if(typeof y=="string")Yo(c,y)&&(_=_.concat(c.g.get(Hn(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)_=_.concat(c[y]);return _}i.set=function(c,y){return Oi(this),this.i=null,c=Hn(this,c),Yo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=xa(this,c),c.length>0?String(c[0]):y):y};function qu(c,y,_){Qo(c,y),_.length>0&&(c.i=null,c.g.set(Hn(c,y),L(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var _=y[A];const B=vs(_);_=xa(this,_);for(let G=0;G<_.length;G++){let oe=B;_[G]!==""&&(oe+="="+vs(_[G])),c.push(oe)}}return this.i=c.join("&")};function Fu(c){const y=new In;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Hn(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Wo(c,y){y&&!c.j&&(Oi(c),c.i=null,c.g.forEach(function(_,A){const B=A.toLowerCase();A!=B&&(Qo(this,A),qu(this,B,_))},c)),c.j=y}function Xo(c,y){const _=new fr;if(f.Image){const A=new Image;A.onload=E(tn,_,"TestLoadImage: loaded",!0,y,A),A.onerror=E(tn,_,"TestLoadImage: error",!1,y,A),A.onabort=E(tn,_,"TestLoadImage: abort",!1,y,A),A.ontimeout=E(tn,_,"TestLoadImage: timeout",!1,y,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function vr(c,y){const _=new fr,A=new AbortController,B=setTimeout(()=>{A.abort(),tn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(G=>{clearTimeout(B),G.ok?tn(_,"TestPingServer: ok",!0,y):tn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),tn(_,"TestPingServer: error",!1,y)})}function tn(c,y,_,A,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),A(_)}catch{}}function Hu(){this.g=new Tf}function xs(c){this.i=c.Sb||null,this.h=c.ab||!1}S(xs,Pu),xs.prototype.g=function(){return new Cs(this.i,this.h)};function Cs(c,y){xt.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Cs,xt),i=Cs.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,ki(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||f).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,nn(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ki(this)),this.g&&(this.readyState=3,ki(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Er(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Er(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?nn(this):ki(this),this.readyState==3&&Er(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,nn(this))},i.Na=function(c){this.g&&(this.response=c,nn(this))},i.ga=function(){this.g&&nn(this)};function nn(c){c.readyState=4,c.l=null,c.j=null,c.B=null,ki(c)}i.setRequestHeader=function(c,y){this.A.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function ki(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Cs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Tr(c){let y="";return ze(c,function(_,A){y+=A,y+=":",y+=_,y+=`\r
`}),y}function Dn(c,y,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=Tr(_),typeof c=="string"?_!=null&&vs(_):Ye(c,y,_))}function Je(c){xt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Je,xt);var Ca=/^https?$/i,Gu=["POST","PUT"];i=Je.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,y,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ii.g(),this.g.onreadystatechange=R(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(G){Is(this,G);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var B in A)_.set(B,A[B]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const G of A.keys())_.set(G,A.get(G));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(G=>G.toLowerCase()=="content-type"),B=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Gu,y,void 0)>=0)||A||B||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,oe]of _)this.g.setRequestHeader(G,oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(G){Is(this,G)}};function Is(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,Ds(c),Ct(c)}function Ds(c){c.A||(c.A=!0,Ot(c,"complete"),Ot(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ot(this,"complete"),Ot(this,"abort"),Ct(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ct(this,!0)),Je.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?$o(this):this.Xa())},i.Xa=function(){$o(this)};function $o(c){if(c.h&&typeof u<"u"){if(c.v&&Qt(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ot(c,"readystatechange"),Qt(c)==4){c.h=!1;try{const G=c.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var A;if(A=G===0){let oe=String(c.D).match(Ra)[1]||null;!oe&&f.self&&f.self.location&&(oe=f.self.location.protocol.slice(0,-1)),A=!Ca.test(oe?oe.toLowerCase():"")}_=A}if(_)Ot(c,"complete"),Ot(c,"success");else{c.o=6;try{var B=Qt(c)>2?c.g.statusText:""}catch{B=""}c.l=B+" ["+c.ca()+"]",Ds(c)}}finally{Ct(c)}}}}function Ct(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const _=c.g;c.g=null,y||Ot(c,"ready");try{_.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Qt(c){return c.g?c.g.readyState:0}i.ca=function(){try{return Qt(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),en(y)}};function Ns(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Os(c){const y={};c=(c.g&&Qt(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(I(c[A]))continue;var _=Sf(c[A]);const B=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const G=y[B]||[];y[B]=G,G.push(_)}k(y,function(A){return A.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ks(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Ia(c){this.za=0,this.i=[],this.j=new fr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ks("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ks("baseRetryDelayMs",5e3,c),this.Za=ks("retryDelaySeedMs",1e4,c),this.Ta=ks("forwardChannelMaxRetries",2,c),this.va=ks("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new bs(c&&c.concurrentRequestLimit),this.Ba=new Hu,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Ia.prototype,i.ka=8,i.I=1,i.connect=function(c,y,_,A){pt(0),this.W=c,this.H=y||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.J=$u(this,null,this.W),Ps(this)};function Ms(c){if(Vs(c),c.I==3){var y=c.V++,_=at(c.J);if(Ye(_,"SID",c.M),Ye(_,"RID",y),Ye(_,"TYPE","terminate"),Us(c,_),y=new qn(c,c.j,y),y.M=2,y.A=Ni(at(_)),_=!1,f.navigator&&f.navigator.sendBeacon)try{_=f.navigator.sendBeacon(y.A.toString(),"")}catch{}!_&&f.Image&&(new Image().src=y.A,_=!0),_||(y.g=Oa(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Es(y)}Xu(c)}function ui(c){c.g&&(Jo(c),c.g.cancel(),c.g=null)}function Vs(c){ui(c),c.v&&(f.clearTimeout(c.v),c.v=null),Na(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Ps(c){if(!Ss(c.h)&&!c.m){c.m=!0;var y=c.Ea;se||w(),ae||(se(),ae=!0),C.add(y,c),c.D=0}}function Rf(c,y){return Cn(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=hr(g(c.Ea,c,y),Wu(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const B=new qn(this,this.j,c);let G=this.o;if(this.U&&(G?(G=te(G),ue(G,this.U)):G=this.U),this.u!==null||this.R||(B.J=G,G=null),this.S)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Da(this,B,y),_=at(this.J),Ye(_,"RID",c),Ye(_,"CVER",22),this.G&&Ye(_,"X-HTTP-Session-Id",this.G),Us(this,_),G&&(this.R?y="headers="+vs(Tr(G))+"&"+y:this.u&&Dn(_,this.u,G)),Aa(this.h,B),this.Ra&&Ye(_,"TYPE","init"),this.S?(Ye(_,"$req",y),Ye(_,"SID","null"),B.U=!0,si(B,_,null)):si(B,_,y),this.I=2}}else this.I==3&&(c?Ku(this,c):this.i.length==0||Ss(this.h)||Ku(this))};function Ku(c,y){var _;y?_=y.l:_=c.V++;const A=at(c.J);Ye(A,"SID",c.M),Ye(A,"RID",_),Ye(A,"AID",c.K),Us(c,A),c.u&&c.o&&Dn(A,c.u,c.o),_=new qn(c,c.j,_,c.D+1),c.u===null&&(_.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Da(c,_,1e3),_.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Aa(c.h,_),si(_,A,y)}function Us(c,y){c.H&&ze(c.H,function(_,A){Ye(y,A,_)}),c.l&&ze({},function(_,A){Ye(y,A,_)})}function Da(c,y,_){_=Math.min(c.i.length,_);const A=c.l?g(c.l.Ka,c.l,c):null;e:{var B=c.i;let xe=-1;for(;;){const nt=["count="+_];xe==-1?_>0?(xe=B[0].g,nt.push("ofs="+xe)):xe=0:nt.push("ofs="+xe);let He=!0;for(let _t=0;_t<_;_t++){var G=B[_t].g;const mn=B[_t].map;if(G-=xe,G<0)xe=Math.max(0,B[_t].g-100),He=!1;else try{G="req"+G+"_"||"";try{var oe=mn instanceof Map?mn:Object.entries(mn);for(const[ci,Gn]of oe){let Kn=Gn;m(Gn)&&(Kn=Rn(Gn)),nt.push(G+ci+"="+encodeURIComponent(Kn))}}catch(ci){throw nt.push(G+"type="+encodeURIComponent("_badmap")),ci}}catch{A&&A(mn)}}if(He){oe=nt.join("&");break e}}oe=void 0}return c=c.i.splice(0,_),y.G=c,oe}function Qu(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;se||w(),ae||(se(),ae=!0),C.add(y,c),c.A=0}}function Zo(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=hr(g(c.Da,c),Wu(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,Yu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=hr(g(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,pt(10),ui(this),Yu(this))};function Jo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Yu(c){c.g=new qn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=at(c.na);Ye(y,"RID","rpc"),Ye(y,"SID",c.M),Ye(y,"AID",c.K),Ye(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ye(y,"TO",c.ia),Ye(y,"TYPE","xmlhttp"),Us(c,y),c.u&&c.o&&Dn(y,c.u,c.o),c.O&&(c.g.H=c.O);var _=c.g;c=c.ba,_.M=1,_.A=Ni(at(y)),_.u=null,_.R=!0,mr(_,c)}i.Va=function(){this.C!=null&&(this.C=null,ui(this),Zo(this),pt(19))};function Na(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function el(c,y){var _=null;if(c.g==y){Na(c),Jo(c),c.g=null;var A=2}else if(As(c.h,y))_=y.G,Di(c.h,y),A=1;else return;if(c.I!=0){if(y.o)if(A==1){_=y.u?y.u.length:0,y=Date.now()-y.F;var B=c.D;A=Ea(),Ot(A,new Lu(A,_)),Ps(c)}else Qu(c);else if(B=y.m,B==3||B==0&&y.X>0||!(A==1&&Rf(c,y)||A==2&&Zo(c)))switch(_&&_.length>0&&(y=c.h,y.i=y.i.concat(_)),B){case 1:Mi(c,5);break;case 4:Mi(c,10);break;case 3:Mi(c,6);break;default:Mi(c,2)}}}function Wu(c,y){let _=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(_*=2),_*y}function Mi(c,y){if(c.j.info("Error code "+y),y==2){var _=g(c.bb,c),A=c.Ua;const B=!A;A=new Fn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||gr(A,"https"),Ni(A),B?Xo(A.toString(),_):vr(A.toString(),_)}else pt(2);c.I=0,c.l&&c.l.pa(y),Xu(c),Vs(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function Xu(c){if(c.I=0,c.ja=[],c.l){const y=wa(c.h);(y.length!=0||c.i.length!=0)&&(j(c.ja,y),j(c.ja,c.i),c.h.i.length=0,L(c.i),c.i.length=0),c.l.oa()}}function $u(c,y,_){var A=_ instanceof Fn?at(_):new Fn(_);if(A.g!="")y&&(A.g=y+"."+A.g),ws(A,A.u);else{var B=f.location;A=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;const G=new Fn(null);A&&gr(G,A),y&&(G.g=y),B&&ws(G,B),_&&(G.h=_),A=G}return _=c.G,y=c.wa,_&&y&&Ye(A,_,y),Ye(A,"VER",c.ka),Us(c,A),A}function Oa(c,y,_){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new Je(new xs({ab:_})):new Je(c.ma),y.Fa(c.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Zu(){}i=Zu.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function ka(){}ka.prototype.g=function(c,y){return new rn(c,y)};function rn(c,y){xt.call(this),this.g=new Ia(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!I(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!I(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new br(this)}S(rn,xt),rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Ms(this.g)},rn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.v&&(_={},_.__data__=Rn(c),c=_);y.i.push(new Af(y.Ya++,c)),y.I==3&&Ps(y)},rn.prototype.N=function(){this.g.l=null,delete this.j,Ms(this.g),delete this.g,rn.Z.N.call(this)};function tl(c){lr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}S(tl,lr);function Ju(){Bn.call(this),this.status=1}S(Ju,Bn);function br(c){this.g=c}S(br,Zu),br.prototype.ra=function(){Ot(this.g,"a")},br.prototype.qa=function(c){Ot(this.g,new tl(c))},br.prototype.pa=function(c){Ot(this.g,new Ju)},br.prototype.oa=function(){Ot(this.g,"b")},ka.prototype.createWebChannel=ka.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,AT=function(){return new ka},ST=function(){return Ea()},bT=xn,Ym={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},gt.NO_ERROR=0,gt.TIMEOUT=8,gt.HTTP_ERROR=6,fh=gt,jt.COMPLETE="complete",TT=jt,Uu.EventType=ni,ni.OPEN="a",ni.CLOSE="b",ni.ERROR="c",ni.MESSAGE="d",xt.prototype.listen=xt.prototype.J,$l=Uu,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,ET=Je}).apply(typeof eh<"u"?eh:typeof self<"u"?self:typeof window<"u"?window:{});const m0="@firebase/firestore",p0="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oo="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa=new Ap("@firebase/firestore");function ho(){return aa.logLevel}function me(i,...e){if(aa.logLevel<=Ve.DEBUG){const n=e.map(xp);aa.debug(`Firestore (${Oo}): ${i}`,...n)}}function Ji(i,...e){if(aa.logLevel<=Ve.ERROR){const n=e.map(xp);aa.error(`Firestore (${Oo}): ${i}`,...n)}}function bo(i,...e){if(aa.logLevel<=Ve.WARN){const n=e.map(xp);aa.warn(`Firestore (${Oo}): ${i}`,...n)}}function xp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,wT(i,s,n)}function wT(i,e,n){let s=`FIRESTORE (${Oo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ji(s),new Error(s)}function Fe(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||wT(e,o,s)}function Ce(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Ri{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n($t.UNAUTHENTICATED))}shutdown(){}}class Mx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Vx{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Xi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Xi,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Xi)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string",31837,{l:s}),new RT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new $t(e)}}class Px{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Ux{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new Px(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n($t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class g0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Lx{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,bn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Fe(this.o===void 0,3512);const s=u=>{u.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,me("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new g0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new g0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jx(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=jx(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Pe(i,e){return i<e?-1:i>e?1:0}function Wm(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return Im(o)===Im(u)?Pe(o,u):Im(o)?1:-1}return Pe(i.length,e.length)}const zx=55296,Bx=57343;function Im(i){const e=i.charCodeAt(0);return e>=zx&&e<=Bx}function So(i,e,n){return i.length===e.length&&i.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0="__name__";class gi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Se(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Se(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return gi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof gi?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=gi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Pe(e.length,n.length)}static compareSegments(e,n){const s=gi.isNumericId(e),o=gi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?gi.extractNumericId(e).compare(gi.extractNumericId(n)):Wm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ns.fromString(e.substring(4,e.length-2))}}class tt extends gi{construct(e,n,s){return new tt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ce($.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new tt(n)}static emptyPath(){return new tt([])}}const qx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ht extends gi{construct(e,n,s){return new Ht(e,n,s)}static isValidIdentifier(e){return qx.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===y0}static keyField(){return new Ht([y0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ce($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ce($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ce($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ce($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ht(n)}static emptyPath(){return new Ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(tt.fromString(e))}static fromName(e){return new _e(tt.fromString(e).popFirst(5))}static empty(){return new _e(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new tt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xT(i,e,n){if(!n)throw new ce($.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Fx(i,e,n,s){if(e===!0&&s===!0)throw new ce($.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function _0(i){if(!_e.isDocumentKey(i))throw new ce($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function v0(i){if(_e.isDocumentKey(i))throw new ce($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function CT(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Yh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Se(12329,{type:typeof i})}function dn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ce($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Yh(i);throw new ce($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(i,e){const n={typeString:i};return e&&(n.value=e),n}function wu(i,e){if(!CT(i))throw new ce($.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const f=i[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ce($.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0=-62135596800,T0=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*T0);return new it(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<E0)throw new ce($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/T0}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(wu(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-E0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:Rt("string",it._jsonSchemaVersion),seconds:Rt("number"),nanoseconds:Rt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new it(0,0))}static max(){return new Re(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du=-1;function Hx(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(s===1e9?new it(n+1,0):new it(n,s));return new ss(o,_e.empty(),e)}function Gx(i){return new ss(i.readTime,i.key,du)}class ss{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ss(Re.min(),_e.empty(),du)}static max(){return new ss(Re.max(),_e.empty(),du)}}function Kx(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(i.documentKey,e.documentKey),n!==0?n:Pe(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Yx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ko(i){if(i.code!==$.FAILED_PRECONDITION||i.message!==Qx)throw i;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):J.reject(n)}static resolve(e){return new J((n,s)=>{n(e)})}static reject(e){return new J((n,s)=>{s(e)})}static waitFor(e){return new J((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=J.resolve(!1);for(const s of e)n=n.next(o=>o?J.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new J((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(E=>{f[g]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(e,n){return new J((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function Wx(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Mo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Wh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip=-1;function Xh(i){return i==null}function Rh(i){return i===0&&1/i==-1/0}function Xx(i){return typeof i=="number"&&Number.isInteger(i)&&!Rh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT="";function $x(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=b0(e)),e=Zx(i.get(n),e);return b0(e)}function Zx(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case IT:n+="";break;default:n+=u}}return n}function b0(i){return i+IT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function fs(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function DT(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n){this.comparator=e,this.root=n||Ft.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new th(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new th(this.root,e,this.comparator,!1)}getReverseIterator(){return new th(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new th(this.root,e,this.comparator,!0)}}class th{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Ft.RED,this.left=o??Ft.EMPTY,this.right=u??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Ft(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Ft.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Ft(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new A0(this.data.getIterator())}getIteratorFrom(e){return new A0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Nt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Nt(this.comparator);return n.data=e,n}}class A0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.fields=e,e.sort(Ht.comparator)}static empty(){return new Sn([])}unionWith(e){let n=new Nt(Ht.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Sn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return So(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new NT("Invalid base64 string: "+u):u}}(e);return new Gt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Gt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gt.EMPTY_BYTE_STRING=new Gt("");const Jx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function as(i){if(Fe(!!i,39018),typeof i=="string"){let e=0;const n=Jx.exec(i);if(Fe(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Tt(i.seconds),nanos:Tt(i.nanos)}}function Tt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function os(i){return typeof i=="string"?Gt.fromBase64String(i):Gt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="server_timestamp",kT="__type__",MT="__previous_value__",VT="__local_write_time__";function Dp(i){return(i?.mapValue?.fields||{})[kT]?.stringValue===OT}function $h(i){const e=i.mapValue.fields[MT];return Dp(e)?$h(e):e}function mu(i){const e=as(i.mapValue.fields[VT].timestampValue);return new it(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e,n,s,o,u,f,m,p,g,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const xh="(default)";class pu{constructor(e,n){this.projectId=e,this.database=n||xh}static empty(){return new pu("","")}get isDefaultDatabase(){return this.database===xh}isEqual(e){return e instanceof pu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="__type__",tC="__max__",nh={mapValue:{}},UT="__vector__",Ch="value";function ls(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Dp(i)?4:iC(i)?9007199254740991:nC(i)?10:11:Se(28295,{value:i})}function wi(i,e){if(i===e)return!0;const n=ls(i);if(n!==ls(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return mu(i).isEqual(mu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=as(o.timestampValue),m=as(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return os(o.bytesValue).isEqual(os(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return Tt(o.geoPointValue.latitude)===Tt(u.geoPointValue.latitude)&&Tt(o.geoPointValue.longitude)===Tt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Tt(o.integerValue)===Tt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Tt(o.doubleValue),m=Tt(u.doubleValue);return f===m?Rh(f)===Rh(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return So(i.arrayValue.values||[],e.arrayValue.values||[],wi);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(S0(f)!==S0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!wi(f[p],m[p])))return!1;return!0}(i,e);default:return Se(52216,{left:i})}}function gu(i,e){return(i.values||[]).find(n=>wi(n,e))!==void 0}function Ao(i,e){if(i===e)return 0;const n=ls(i),s=ls(e);if(n!==s)return Pe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(i.booleanValue,e.booleanValue);case 2:return function(u,f){const m=Tt(u.integerValue||u.doubleValue),p=Tt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,e);case 3:return w0(i.timestampValue,e.timestampValue);case 4:return w0(mu(i),mu(e));case 5:return Wm(i.stringValue,e.stringValue);case 6:return function(u,f){const m=os(u),p=os(f);return m.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Pe(m[g],p[g]);if(E!==0)return E}return Pe(m.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Pe(Tt(u.latitude),Tt(f.latitude));return m!==0?m:Pe(Tt(u.longitude),Tt(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return R0(i.arrayValue,e.arrayValue);case 10:return function(u,f){const m=u.fields||{},p=f.fields||{},g=m[Ch]?.arrayValue,E=p[Ch]?.arrayValue,S=Pe(g?.values?.length||0,E?.values?.length||0);return S!==0?S:R0(g,E)}(i.mapValue,e.mapValue);case 11:return function(u,f){if(u===nh.mapValue&&f===nh.mapValue)return 0;if(u===nh.mapValue)return 1;if(f===nh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let S=0;S<p.length&&S<E.length;++S){const R=Wm(p[S],E[S]);if(R!==0)return R;const L=Ao(m[p[S]],g[E[S]]);if(L!==0)return L}return Pe(p.length,E.length)}(i.mapValue,e.mapValue);default:throw Se(23264,{he:n})}}function w0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Pe(i,e);const n=as(i),s=as(e),o=Pe(n.seconds,s.seconds);return o!==0?o:Pe(n.nanos,s.nanos)}function R0(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Ao(n[o],s[o]);if(u)return u}return Pe(n.length,s.length)}function wo(i){return Xm(i)}function Xm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=as(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return os(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return _e.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Xm(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Xm(n.fields[f])}`;return o+"}"}(i.mapValue):Se(61005,{value:i})}function dh(i){switch(ls(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=$h(i);return e?16+dh(e):16;case 5:return 2*i.stringValue.length;case 6:return os(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+dh(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return fs(s.fields,(u,f)=>{o+=u.length+dh(f)}),o}(i.mapValue);default:throw Se(13486,{value:i})}}function x0(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function $m(i){return!!i&&"integerValue"in i}function Np(i){return!!i&&"arrayValue"in i}function C0(i){return!!i&&"nullValue"in i}function I0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function mh(i){return!!i&&"mapValue"in i}function nC(i){return(i?.mapValue?.fields||{})[PT]?.stringValue===UT}function nu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return fs(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=nu(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=nu(i.arrayValue.values[n]);return e}return{...i}}function iC(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===tC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.value=e}static empty(){return new fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!mh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=nu(n)}setAll(e){let n=Ht.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=nu(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());mh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return wi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];mh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){fs(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new fn(nu(this.value))}}function LT(i){const e=[];return fs(i.fields,(n,s)=>{const o=new Ht([n]);if(mh(s)){const u=LT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Sn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Zt(e,0,Re.min(),Re.min(),Re.min(),fn.empty(),0)}static newFoundDocument(e,n,s,o){return new Zt(e,1,n,Re.min(),s,o,0)}static newNoDocument(e,n){return new Zt(e,2,n,Re.min(),Re.min(),fn.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,Re.min(),Re.min(),fn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,n){this.position=e,this.inclusive=n}}function D0(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?s=_e.comparator(_e.fromName(f.referenceValue),n.key):s=Ao(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function N0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!wi(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n="asc"){this.field=e,this.dir=n}}function rC(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{}class wt extends jT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new aC(e,n,s):n==="array-contains"?new uC(e,s):n==="in"?new cC(e,s):n==="not-in"?new hC(e,s):n==="array-contains-any"?new fC(e,s):new wt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new oC(e,s):new lC(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ao(n,this.value)):n!==null&&ls(this.value)===ls(n)&&this.matchesComparison(Ao(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jn extends jT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Jn(e,n)}matches(e){return zT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function zT(i){return i.op==="and"}function BT(i){return sC(i)&&zT(i)}function sC(i){for(const e of i.filters)if(e instanceof Jn)return!1;return!0}function Zm(i){if(i instanceof wt)return i.field.canonicalString()+i.op.toString()+wo(i.value);if(BT(i))return i.filters.map(e=>Zm(e)).join(",");{const e=i.filters.map(n=>Zm(n)).join(",");return`${i.op}(${e})`}}function qT(i,e){return i instanceof wt?function(s,o){return o instanceof wt&&s.op===o.op&&s.field.isEqual(o.field)&&wi(s.value,o.value)}(i,e):i instanceof Jn?function(s,o){return o instanceof Jn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&qT(f,o.filters[m]),!0):!1}(i,e):void Se(19439)}function FT(i){return i instanceof wt?function(n){return`${n.field.canonicalString()} ${n.op} ${wo(n.value)}`}(i):i instanceof Jn?function(n){return n.op.toString()+" {"+n.getFilters().map(FT).join(" ,")+"}"}(i):"Filter"}class aC extends wt{constructor(e,n,s){super(e,n,s),this.key=_e.fromName(s.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class oC extends wt{constructor(e,n){super(e,"in",n),this.keys=HT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class lC extends wt{constructor(e,n){super(e,"not-in",n),this.keys=HT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function HT(i,e){return(e.arrayValue?.values||[]).map(n=>_e.fromName(n.referenceValue))}class uC extends wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Np(n)&&gu(n.arrayValue,this.value)}}class cC extends wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&gu(this.value.arrayValue,n)}}class hC extends wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(gu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!gu(this.value.arrayValue,n)}}class fC extends wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Np(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>gu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function O0(i,e=null,n=[],s=[],o=null,u=null,f=null){return new dC(i,e,n,s,o,u,f)}function Op(i){const e=Ce(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Zm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Xh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>wo(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>wo(s)).join(",")),e.Te=n}return e.Te}function kp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!rC(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!qT(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!N0(i.startAt,e.startAt)&&N0(i.endAt,e.endAt)}function Jm(i){return _e.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function mC(i,e,n,s,o,u,f,m){return new Vo(i,e,n,s,o,u,f,m)}function Zh(i){return new Vo(i)}function k0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function GT(i){return i.collectionGroup!==null}function iu(i){const e=Ce(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Nt(Ht.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new yu(u,s))}),n.has(Ht.keyField().canonicalString())||e.Ie.push(new yu(Ht.keyField(),s))}return e.Ie}function vi(i){const e=Ce(i);return e.Ee||(e.Ee=pC(e,iu(i))),e.Ee}function pC(i,e){if(i.limitType==="F")return O0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new yu(o.field,u)});const n=i.endAt?new Ih(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Ih(i.startAt.position,i.startAt.inclusive):null;return O0(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function ep(i,e){const n=i.filters.concat([e]);return new Vo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function tp(i,e,n){return new Vo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Jh(i,e){return kp(vi(i),vi(e))&&i.limitType===e.limitType}function KT(i){return`${Op(vi(i))}|lt:${i.limitType}`}function fo(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>FT(o)).join(", ")}]`),Xh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>wo(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>wo(o)).join(",")),`Target(${s})`}(vi(i))}; limitType=${i.limitType})`}function ef(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):_e.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of iu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const g=D0(f,m,p);return f.inclusive?g<=0:g<0}(s.startAt,iu(s),o)||s.endAt&&!function(f,m,p){const g=D0(f,m,p);return f.inclusive?g>=0:g>0}(s.endAt,iu(s),o))}(i,e)}function gC(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function QT(i){return(e,n)=>{let s=!1;for(const o of iu(i)){const u=yC(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function yC(i,e,n){const s=i.field.isKeyField()?_e.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Ao(p,g):Se(42886)}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Se(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){fs(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return DT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C=new ut(_e.comparator);function er(){return _C}const YT=new ut(_e.comparator);function Zl(...i){let e=YT;for(const n of i)e=e.insert(n.key,n);return e}function WT(i){let e=YT;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function ea(){return ru()}function XT(){return ru()}function ru(){return new ma(i=>i.toString(),(i,e)=>i.isEqual(e))}const vC=new ut(_e.comparator),EC=new Nt(_e.comparator);function Ue(...i){let e=EC;for(const n of i)e=e.add(n);return e}const TC=new Nt(Pe);function bC(){return TC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rh(e)?"-0":e}}function $T(i){return{integerValue:""+i}}function SC(i,e){return Xx(e)?$T(e):Mp(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(){this._=void 0}}function AC(i,e,n){return i instanceof _u?function(o,u){const f={fields:{[kT]:{stringValue:OT},[VT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Dp(u)&&(u=$h(u)),u&&(f.fields[MT]=u),{mapValue:f}}(n,e):i instanceof vu?JT(i,e):i instanceof Eu?eb(i,e):function(o,u){const f=ZT(o,u),m=M0(f)+M0(o.Ae);return $m(f)&&$m(o.Ae)?$T(m):Mp(o.serializer,m)}(i,e)}function wC(i,e,n){return i instanceof vu?JT(i,e):i instanceof Eu?eb(i,e):n}function ZT(i,e){return i instanceof Dh?function(s){return $m(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class _u extends tf{}class vu extends tf{constructor(e){super(),this.elements=e}}function JT(i,e){const n=tb(e);for(const s of i.elements)n.some(o=>wi(o,s))||n.push(s);return{arrayValue:{values:n}}}class Eu extends tf{constructor(e){super(),this.elements=e}}function eb(i,e){let n=tb(e);for(const s of i.elements)n=n.filter(o=>!wi(o,s));return{arrayValue:{values:n}}}class Dh extends tf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function M0(i){return Tt(i.integerValue||i.doubleValue)}function tb(i){return Np(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e,n){this.field=e,this.transform=n}}function xC(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof vu&&o instanceof vu||s instanceof Eu&&o instanceof Eu?So(s.elements,o.elements,wi):s instanceof Dh&&o instanceof Dh?wi(s.Ae,o.Ae):s instanceof _u&&o instanceof _u}(i.transform,e.transform)}class CC{constructor(e,n){this.version=e,this.transformResults=n}}class jn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new jn}static exists(e){return new jn(void 0,e)}static updateTime(e){return new jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ph(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class nf{}function nb(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Vp(i.key,jn.none()):new Ru(i.key,i.data,jn.none());{const n=i.data,s=fn.empty();let o=new Nt(Ht.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ds(i.key,s,new Sn(o.toArray()),jn.none())}}function IC(i,e,n){i instanceof Ru?function(o,u,f){const m=o.value.clone(),p=P0(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,n):i instanceof ds?function(o,u,f){if(!ph(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=P0(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(ib(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(i,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function su(i,e,n,s){return i instanceof Ru?function(u,f,m,p){if(!ph(u.precondition,f))return m;const g=u.value.clone(),E=U0(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(i,e,n,s):i instanceof ds?function(u,f,m,p){if(!ph(u.precondition,f))return m;const g=U0(u.fieldTransforms,p,f),E=f.data;return E.setAll(ib(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(S=>S.field))}(i,e,n,s):function(u,f,m){return ph(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,n)}function DC(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=ZT(s.transform,o||null);u!=null&&(n===null&&(n=fn.empty()),n.set(s.field,u))}return n||null}function V0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&So(s,o,(u,f)=>xC(u,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Ru extends nf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ds extends nf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function ib(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function P0(i,e,n){const s=new Map;Fe(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const u=i[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,wC(f,m,n[o]))}return s}function U0(i,e,n){const s=new Map;for(const o of i){const u=o.transform,f=n.data.field(o.field);s.set(o.field,AC(u,f,e))}return s}class Vp extends nf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class NC extends nf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&IC(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=su(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=su(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=XT();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=nb(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Re.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ue())}isEqual(e){return this.batchId===e.batchId&&So(this.mutations,e.mutations,(n,s)=>V0(n,s))&&So(this.baseMutations,e.baseMutations,(n,s)=>V0(n,s))}}class Pp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Fe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=function(){return vC}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Pp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At,je;function VC(i){switch(i){case $.OK:return Se(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return Se(15467,{code:i})}}function rb(i){if(i===void 0)return Ji("GRPC error has no .code"),$.UNKNOWN;switch(i){case At.OK:return $.OK;case At.CANCELLED:return $.CANCELLED;case At.UNKNOWN:return $.UNKNOWN;case At.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case At.INTERNAL:return $.INTERNAL;case At.UNAVAILABLE:return $.UNAVAILABLE;case At.UNAUTHENTICATED:return $.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case At.NOT_FOUND:return $.NOT_FOUND;case At.ALREADY_EXISTS:return $.ALREADY_EXISTS;case At.PERMISSION_DENIED:return $.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case At.ABORTED:return $.ABORTED;case At.OUT_OF_RANGE:return $.OUT_OF_RANGE;case At.UNIMPLEMENTED:return $.UNIMPLEMENTED;case At.DATA_LOSS:return $.DATA_LOSS;default:return Se(39323,{code:i})}}(je=At||(At={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=new ns([4294967295,4294967295],0);function L0(i){const e=PC().encode(i),n=new vT;return n.update(e),new Uint8Array(n.digest())}function j0(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ns([n,s],0),new ns([o,u],0)]}class Up{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Jl(`Invalid padding: ${n}`);if(s<0)throw new Jl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Jl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Jl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ns.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(ns.fromNumber(s)));return o.compare(UC)===1&&(o=new ns([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=L0(e),[s,o]=j0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Up(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.ge===0)return;const n=L0(e),[s,o]=j0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,xu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new rf(Re.min(),o,new ut(Pe),er(),Ue())}}class xu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new xu(s,n,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class sb{constructor(e,n){this.targetId=e,this.Ce=n}}class ab{constructor(e,n,s=Gt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class z0{constructor(){this.ve=0,this.Fe=B0(),this.Me=Gt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),n=Ue(),s=Ue();return this.Fe.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Se(38017,{changeType:u})}}),new xu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=B0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class LC{constructor(e){this.Ge=e,this.ze=new Map,this.je=er(),this.Je=ih(),this.He=ih(),this.Ye=new ut(Pe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((s,o)=>{this.rt(o)&&n(o)})}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Jm(u))if(s===0){const f=new _e(u.path);this.et(n,f,Zt.newNoDocument(f,Re.min()))}else Fe(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=os(s).toUint8Array()}catch(p){if(p instanceof NT)return bo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Up(f,o,u)}catch(p){return bo(p instanceof Jl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)}),o}Tt(e){const n=new Map;this.ze.forEach((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Jm(m.target)){const p=new _e(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,Zt.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.qe())}});let s=Ue();this.He.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.je.forEach((u,f)=>f.setReadTime(e));const o=new rf(e,n,this.Ye,this.je,s);return this.je=er(),this.Je=ih(),this.He=ih(),this.Ye=new ut(Pe),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new z0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Nt(Pe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Nt(Pe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new z0),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ih(){return new ut(_e.comparator)}function B0(){return new ut(_e.comparator)}const jC={asc:"ASCENDING",desc:"DESCENDING"},zC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},BC={and:"AND",or:"OR"};class qC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function np(i,e){return i.useProto3Json||Xh(e)?e:{value:e}}function Nh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ob(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function FC(i,e){return Nh(i,e.toTimestamp())}function Ei(i){return Fe(!!i,49232),Re.fromTimestamp(function(n){const s=as(n);return new it(s.seconds,s.nanos)}(i))}function Lp(i,e){return ip(i,e).canonicalString()}function ip(i,e){const n=function(o){return new tt(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?n:n.child(e)}function lb(i){const e=tt.fromString(i);return Fe(db(e),10190,{key:e.toString()}),e}function rp(i,e){return Lp(i.databaseId,e.path)}function Dm(i,e){const n=lb(e);if(n.get(1)!==i.databaseId.projectId)throw new ce($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ce($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new _e(cb(n))}function ub(i,e){return Lp(i.databaseId,e)}function HC(i){const e=lb(i);return e.length===4?tt.emptyPath():cb(e)}function sp(i){return new tt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function cb(i){return Fe(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function q0(i,e,n){return{name:rp(i,e),fields:n.value.mapValue.fields}}function GC(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Se(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(Fe(E===void 0||typeof E=="string",58123),Gt.fromBase64String(E||"")):(Fe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Gt.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(g){const E=g.code===void 0?$.UNKNOWN:rb(g.code);return new ce(E,g.message||"")}(f);n=new ab(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Dm(i,s.document.name),u=Ei(s.document.updateTime),f=s.document.createTime?Ei(s.document.createTime):Re.min(),m=new fn({mapValue:{fields:s.document.fields}}),p=Zt.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new gh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Dm(i,s.document),u=s.readTime?Ei(s.readTime):Re.min(),f=Zt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new gh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Dm(i,s.document),u=s.removedTargetIds||[];n=new gh([],u,o,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new MC(o,u),m=s.targetId;n=new sb(m,f)}}return n}function KC(i,e){let n;if(e instanceof Ru)n={update:q0(i,e.key,e.value)};else if(e instanceof Vp)n={delete:rp(i,e.key)};else if(e instanceof ds)n={update:q0(i,e.key,e.data),updateMask:tI(e.fieldMask)};else{if(!(e instanceof NC))return Se(16599,{Vt:e.type});n={verify:rp(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof _u)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof vu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Eu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Dh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Se(20930,{transform:f.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:FC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Se(27497)}(i,e.precondition)),n}function QC(i,e){return i&&i.length>0?(Fe(e!==void 0,14353),i.map(n=>function(o,u){let f=o.updateTime?Ei(o.updateTime):Ei(u);return f.isEqual(Re.min())&&(f=Ei(u)),new CC(f,o.transformResults||[])}(n,e))):[]}function YC(i,e){return{documents:[ub(i,e.path)]}}function WC(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=ub(i,o);const u=function(g){if(g.length!==0)return fb(Jn.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(E=>function(R){return{field:mo(R.field),direction:ZC(R.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=np(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ft:n,parent:o}}function XC(i){let e=HC(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Fe(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(S){const R=hb(S);return R instanceof Jn&&BT(R)?R.getFilters():[R]}(n.where));let f=[];n.orderBy&&(f=function(S){return S.map(R=>function(j){return new yu(po(j.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(j.direction))}(R))}(n.orderBy));let m=null;n.limit&&(m=function(S){let R;return R=typeof S=="object"?S.value:S,Xh(R)?null:R}(n.limit));let p=null;n.startAt&&(p=function(S){const R=!!S.before,L=S.values||[];return new Ih(L,R)}(n.startAt));let g=null;return n.endAt&&(g=function(S){const R=!S.before,L=S.values||[];return new Ih(L,R)}(n.endAt)),mC(e,o,f,u,m,"F",p,g)}function $C(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function hb(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=po(n.unaryFilter.field);return wt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=po(n.unaryFilter.field);return wt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=po(n.unaryFilter.field);return wt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=po(n.unaryFilter.field);return wt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}}(i):i.fieldFilter!==void 0?function(n){return wt.create(po(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Jn.create(n.compositeFilter.filters.map(s=>hb(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se(1026)}}(n.compositeFilter.op))}(i):Se(30097,{filter:i})}function ZC(i){return jC[i]}function JC(i){return zC[i]}function eI(i){return BC[i]}function mo(i){return{fieldPath:i.canonicalString()}}function po(i){return Ht.fromServerFormat(i.fieldPath)}function fb(i){return i instanceof wt?function(n){if(n.op==="=="){if(I0(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NAN"}};if(C0(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(I0(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NOT_NAN"}};if(C0(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mo(n.field),op:JC(n.op),value:n.value}}}(i):i instanceof Jn?function(n){const s=n.getFilters().map(o=>fb(o));return s.length===1?s[0]:{compositeFilter:{op:eI(n.op),filters:s}}}(i):Se(54877,{filter:i})}function tI(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function db(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e,n,s,o,u=Re.min(),f=Re.min(),m=Gt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Zr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e){this.yt=e}}function iI(i){const e=XC({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?tp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(){this.Cn=new sI}addToCollectionParentIndex(e,n){return this.Cn.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(ss.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(ss.min())}updateCollectionGroup(e,n,s){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class sI{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Nt(tt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Nt(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mb=41943040;class hn{static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(mb,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ro(0)}static cr(){return new Ro(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0="LruGarbageCollector",aI=1048576;function G0([i,e],[n,s]){const o=Pe(i,n);return o===0?Pe(e,s):o}class oI{constructor(e){this.Ir=e,this.buffer=new Nt(G0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();G0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class lI{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){me(H0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Mo(n)?me(H0,"Ignoring IndexedDB error during garbage collection: ",n):await ko(n)}await this.Vr(3e5)})}}class uI{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return J.resolve(Wh.ce);const s=new oI(n);return this.mr.forEachTarget(e,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(F0)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),F0):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(s=S,m=Date.now(),this.removeTargets(e,s,n))).next(S=>(u=S,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(S=>(g=Date.now(),ho()<=Ve.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${S} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S})))}}function cI(i,e){return new uI(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(){this.changes=new ma(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?J.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&su(s.mutation,o,Sn.empty(),it.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ue()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ue()){const o=ea();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=Zl();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=ea();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ue()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=er();const f=ru(),m=function(){return ru()}();return n.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof ds)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),su(E.mutation,g,E.mutation.getFieldMask(),it.now())):f.set(g.key,Sn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,E)=>f.set(g,E)),n.forEach((g,E)=>m.set(g,new fI(E,f.get(g)??null))),m))}recalculateAndSaveOverlays(e,n){const s=ru();let o=new ut((f,m)=>f-m),u=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||Sn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const S=(o.get(m.batchId)||Ue()).add(p);o=o.insert(m.batchId,S)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,S=XT();E.forEach(R=>{if(!u.has(R)){const L=nb(n.get(R),s.get(R));L!==null&&S.set(R,L),u=u.add(R)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,S))}return J.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return _e.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):GT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):J.resolve(ea());let m=du,p=u;return f.next(g=>J.forEach(g,(E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?J.resolve():this.remoteDocumentCache.getEntry(e,E).next(R=>{p=p.insert(E,R)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Ue())).next(E=>({batchId:m,changes:WT(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next(s=>{let o=Zl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Zl();return this.indexManager.getCollectionParents(e,u).next(m=>J.forEach(m,p=>{const g=function(S,R){return new Vo(R,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((S,R)=>{f=f.insert(S,R)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,Zt.newInvalidDocument(E)))});let m=Zl();return f.forEach((p,g)=>{const E=u.get(p);E!==void 0&&su(E.mutation,g,Sn.empty(),it.now()),ef(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return J.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Ei(o.createTime)}}(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(o){return{name:o.name,query:iI(o.bundledQuery),readTime:Ei(o.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(){this.overlays=new ut(_e.comparator),this.qr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ea();return J.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.St(e,n,u)}),J.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.qr.delete(s)),J.resolve()}getOverlaysForCollection(e,n,s){const o=ea(),u=n.length+1,f=new _e(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return J.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ut((g,E)=>g-E);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=ea(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=ea(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return J.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new kC(n,s));let u=this.qr.get(n);u===void 0&&(u=Ue(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(){this.sessionToken=Gt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(){this.Qr=new Nt(Ut.$r),this.Ur=new Nt(Ut.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Ut(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Gr(new Ut(e,n))}zr(e,n){e.forEach(s=>this.removeReference(s,n))}jr(e){const n=new _e(new tt([])),s=new Ut(n,e),o=new Ut(n,e+1),u=[];return this.Ur.forEachInRange([s,o],f=>{this.Gr(f),u.push(f.key)}),u}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new _e(new tt([])),s=new Ut(n,e),o=new Ut(n,e+1);let u=Ue();return this.Ur.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Ut(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Ut{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return _e.comparator(e.key,n.key)||Pe(e.Yr,n.Yr)}static Kr(e,n){return Pe(e.Yr,n.Yr)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Nt(Ut.$r)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new OC(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Ut(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return J.resolve(f)}lookupMutationBatch(e,n){return J.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Ip:this.tr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Ut(n,0),o=new Ut(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],f=>{const m=this.Xr(f.Yr);u.push(m)}),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Nt(Pe);return n.forEach(o=>{const u=new Ut(o,0),f=new Ut(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],m=>{s=s.add(m.Yr)})}),J.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;_e.isDocumentKey(u)||(u=u.child(""));const f=new Ut(new _e(u),0);let m=new Nt(Pe);return this.Zr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)},f),J.resolve(this.ti(m))}ti(e){const n=[];return e.forEach(s=>{const o=this.Xr(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Fe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return J.forEach(n.mutations,o=>{const u=new Ut(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,n){const s=new Ut(n,0),o=this.Zr.firstAfterOrEqual(s);return J.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e){this.ri=e,this.docs=function(){return new ut(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return J.resolve(s?s.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let s=er();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Zt.newInvalidDocument(o))}),J.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=er();const f=n.path,m=new _e(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||Kx(Gx(E),s)<=0||(o.has(E.key)||ef(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Se(9500)}ii(e,n){return J.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new vI(this)}getSize(e){return J.resolve(this.size)}}class vI extends hI{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)}),J.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e){this.persistence=e,this.si=new ma(n=>Op(n),kp),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new jp,this.targetCount=0,this.ai=Ro.ur()}forEachTarget(e,n){return this.si.forEach((s,o)=>n(o)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),J.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ro(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.Pr(n),J.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),J.waitFor(u).next(()=>o)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return J.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),J.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),J.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),J.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return J.resolve(s)}containsKey(e,n){return J.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e,n){this.ui={},this.overlays={},this.ci=new Wh(0),this.li=!1,this.li=!0,this.hi=new gI,this.referenceDelegate=e(this),this.Pi=new EI(this),this.indexManager=new rI,this.remoteDocumentCache=function(o){return new _I(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new nI(n),this.Ii=new mI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new pI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new yI(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){me("MemoryPersistence","Starting transaction:",e);const o=new TI(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ai(e,n){return J.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,n)))}}class TI extends Yx{constructor(e){super(),this.currentSequenceNumber=e}}class zp{constructor(e){this.persistence=e,this.Ri=new jp,this.Vi=null}static mi(e){return new zp(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),J.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),J.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.fi.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,s=>{const o=_e.fromPath(s);return this.gi(e,o).next(u=>{u||n.removeEntry(o,Re.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return J.or([()=>J.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Oh{constructor(e,n){this.persistence=e,this.pi=new ma(s=>$x(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=cI(this,n)}static mi(e,n){return new Oh(e,n)}Ei(){}di(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}wr(e){let n=0;return this.pr(e,s=>{n++}).next(()=>n)}pr(e,n){return J.forEach(this.pi,(s,o)=>this.br(e,s,o).next(u=>u?J.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,f=>this.br(e,f,n).next(m=>{m||(s++,u.removeEntry(f,Re.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),J.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=dh(e.data.value)),n}br(e,n,s){return J.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return J.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Ue(),o=Ue();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Bp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return pR()?8:Wx(Jt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ws(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new bI;return this.Ss(e,n,f).next(m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)})}).next(()=>u.result)}bs(e,n,s,o){return s.documentReadCount<this.fs?(ho()<=Ve.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",fo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(ho()<=Ve.DEBUG&&me("QueryEngine","Query:",fo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(ho()<=Ve.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",fo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vi(n))):J.resolve())}ys(e,n){if(k0(n))return J.resolve(null);let s=vi(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=tp(n,null,"F"),s=vi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Ue(...u);return this.ps.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.Ds(n,m);return this.Cs(n,g,f,p.readTime)?this.ys(e,tp(n,null,"F")):this.vs(e,g,n,p)}))})))}ws(e,n,s,o){return k0(n)||o.isEqual(Re.min())?J.resolve(null):this.ps.getDocuments(e,s).next(u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?J.resolve(null):(ho()<=Ve.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),fo(n)),this.vs(e,f,n,Hx(o,du)).next(m=>m))})}Ds(e,n){let s=new Nt(QT(e));return n.forEach((o,u)=>{ef(e,u)&&(s=s.add(u))}),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return ho()<=Ve.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",fo(n)),this.ps.getDocumentsMatchingQuery(e,n,ss.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp="LocalStore",AI=3e8;class wI{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ut(Pe),this.xs=new ma(u=>Op(u),kp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function RI(i,e,n,s){return new wI(i,e,n,s)}async function gb(i,e){const n=Ce(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Ue();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(g=>({Ls:g,removedBatchIds:f,addedBatchIds:m}))})})}function xI(i,e){const n=Ce(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const S=g.batch,R=S.keys();let L=J.resolve();return R.forEach(j=>{L=L.next(()=>E.getEntry(p,j)).next(Y=>{const U=g.docVersions.get(j);Fe(U!==null,48541),Y.version.compareTo(U)<0&&(S.applyToRemoteDocument(Y,g),Y.isValidDocument()&&(Y.setReadTime(g.commitVersion),E.addEntry(Y)))})}),L.next(()=>m.mutationQueue.removeMutationBatch(p,S))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Ue();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function yb(i){const e=Ce(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function CI(i,e){const n=Ce(i),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach((E,S)=>{const R=o.get(S);if(!R)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,S).next(()=>n.Pi.addMatchingKeys(u,E.addedDocuments,S)));let L=R.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?L=L.withResumeToken(Gt.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):E.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(E.resumeToken,s)),o=o.insert(S,L),function(Y,U,ie){return Y.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=AI?!0:ie.addedDocuments.size+ie.modifiedDocuments.size+ie.removedDocuments.size>0}(R,L,E)&&m.push(n.Pi.updateTargetData(u,L))});let p=er(),g=Ue();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(II(u,f,e.documentUpdates).next(E=>{p=E.ks,g=E.qs})),!s.isEqual(Re.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next(S=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return J.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.Ms=o,u))}function II(i,e,n){let s=Ue(),o=Ue();return n.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let f=er();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Re.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):me(qp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{ks:f,qs:o}})}function DI(i,e){const n=Ce(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Ip),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function NI(i,e){const n=Ce(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Pi.getTargetData(s,e).next(u=>u?(o=u,J.resolve(o)):n.Pi.allocateTargetId(s).next(f=>(o=new Zr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s})}async function ap(i,e,n){const s=Ce(i),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Mo(f))throw f;me(qp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function K0(i,e,n){const s=Ce(i);let o=Re.min(),u=Ue();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,E){const S=Ce(p),R=S.xs.get(E);return R!==void 0?J.resolve(S.Ms.get(R)):S.Pi.getTargetData(g,E)}(s,f,vi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:Re.min(),n?u:Ue())).next(m=>(OI(s,gC(e),m),{documents:m,Qs:u})))}function OI(i,e,n){let s=i.Os.get(e)||Re.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Os.set(e,s)}class Q0{constructor(){this.activeTargetIds=bC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kI{constructor(){this.Mo=new Q0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Q0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0="ConnectivityMonitor";class W0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){me(Y0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){me(Y0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rh=null;function op(){return rh===null?rh=function(){return 268435456+Math.round(2147483648*Math.random())}():rh++,"0x"+rh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="RestConnection",VI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class PI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===xh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=op(),m=this.zo(e,n.toUriEncodedString());me(Nm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),E=hs(g);return this.Jo(e,m,p,s,E).then(S=>(me(Nm,`Received RPC '${e}' ${f}: `,S),S),S=>{throw bo(Nm,`RPC '${e}' ${f} failed with error: `,S,"url: ",m,"request:",s),S})}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Oo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}zo(e,n){const s=VI[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class LI extends PI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=op();return new Promise((m,p)=>{const g=new ET;g.setWithCredentials(!0),g.listenOnce(TT.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case fh.NO_ERROR:const S=g.getResponseJson();me(Xt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(S)),m(S);break;case fh.TIMEOUT:me(Xt,`RPC '${e}' ${f} timed out`),p(new ce($.DEADLINE_EXCEEDED,"Request time out"));break;case fh.HTTP_ERROR:const R=g.getStatus();if(me(Xt,`RPC '${e}' ${f} failed with status:`,R,"response text:",g.getResponseText()),R>0){let L=g.getResponseJson();Array.isArray(L)&&(L=L[0]);const j=L?.error;if(j&&j.status&&j.message){const Y=function(ie){const ne=ie.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(ne)>=0?ne:$.UNKNOWN}(j.status);p(new ce(Y,j.message))}else p(new ce($.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ce($.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{me(Xt,`RPC '${e}' ${f} completed.`)}});const E=JSON.stringify(o);me(Xt,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",E,s,15)})}T_(e,n,s){const o=op(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=AT(),m=ST(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");me(Xt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const S=f.createWebChannel(E,p);this.I_(S);let R=!1,L=!1;const j=new UI({Yo:U=>{L?me(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,U):(R||(me(Xt,`Opening RPC '${e}' stream ${o} transport.`),S.open(),R=!0),me(Xt,`RPC '${e}' stream ${o} sending:`,U),S.send(U))},Zo:()=>S.close()}),Y=(U,ie,ne)=>{U.listen(ie,ee=>{try{ne(ee)}catch(le){setTimeout(()=>{throw le},0)}})};return Y(S,$l.EventType.OPEN,()=>{L||(me(Xt,`RPC '${e}' stream ${o} transport opened.`),j.o_())}),Y(S,$l.EventType.CLOSE,()=>{L||(L=!0,me(Xt,`RPC '${e}' stream ${o} transport closed`),j.a_(),this.E_(S))}),Y(S,$l.EventType.ERROR,U=>{L||(L=!0,bo(Xt,`RPC '${e}' stream ${o} transport errored. Name:`,U.name,"Message:",U.message),j.a_(new ce($.UNAVAILABLE,"The operation could not be completed")))}),Y(S,$l.EventType.MESSAGE,U=>{if(!L){const ie=U.data[0];Fe(!!ie,16349);const ne=ie,ee=ne?.error||ne[0]?.error;if(ee){me(Xt,`RPC '${e}' stream ${o} received error:`,ee);const le=ee.status;let se=function(w){const x=At[w];if(x!==void 0)return rb(x)}(le),ae=ee.message;se===void 0&&(se=$.INTERNAL,ae="Unknown error status: "+le+" with message "+ee.message),L=!0,j.a_(new ce(se,ae)),S.close()}else me(Xt,`RPC '${e}' stream ${o} received:`,ie),j.u_(ie)}}),Y(m,bT.STAT_EVENT,U=>{U.stat===Ym.PROXY?me(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):U.stat===Ym.NOPROXY&&me(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{j.__()},0),j}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Om(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sf(i){return new qC(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&me("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0="PersistentStream";class vb{constructor(e,n,s,o,u,f,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new _b(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Ji(n.toString()),Ji("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===n&&this.G_(s,o)},s=>{e(()=>{const o=new ce($.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return me(X0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(me(X0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class jI extends vb{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=GC(this.serializer,e),s=function(u){if(!("targetChange"in u))return Re.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Re.min():f.readTime?Ei(f.readTime):Re.min()}(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=sp(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=Jm(p)?{documents:YC(u,p)}:{query:WC(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=ob(u,f.resumeToken);const g=np(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Re.min())>0){m.readTime=Nh(u,f.snapshotVersion.toTimestamp());const g=np(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=$C(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=sp(this.serializer),n.removeTarget=e,this.q_(n)}}class zI extends vb{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=QC(e.writeResults,e.commitTime),s=Ei(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=sp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>KC(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{}class qI extends BI{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ce($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Go(e,ip(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ce($.UNKNOWN,u.toString())})}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Ho(e,ip(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ce($.UNKNOWN,f.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class FI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ji(n),this.aa=!1):me("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa="RemoteStore";class HI{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo(f=>{s.enqueueAndForget(async()=>{pa(this)&&(me(oa,"Restarting streams for network reachability change."),await async function(p){const g=Ce(p);g.Ea.add(4),await Cu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await af(g)}(this))})}),this.Ra=new FI(s,o)}}async function af(i){if(pa(i))for(const e of i.da)await e(!0)}async function Cu(i){for(const e of i.da)await e(!1)}function Eb(i,e){const n=Ce(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Kp(n)?Gp(n):Po(n).O_()&&Hp(n,e))}function Fp(i,e){const n=Ce(i),s=Po(n);n.Ia.delete(e),s.O_()&&Tb(n,e),n.Ia.size===0&&(s.O_()?s.L_():pa(n)&&n.Ra.set("Unknown"))}function Hp(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Po(i).Y_(e)}function Tb(i,e){i.Va.Ue(e),Po(i).Z_(e)}function Gp(i){i.Va=new LC({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Po(i).start(),i.Ra.ua()}function Kp(i){return pa(i)&&!Po(i).x_()&&i.Ia.size>0}function pa(i){return Ce(i).Ea.size===0}function bb(i){i.Va=void 0}async function GI(i){i.Ra.set("Online")}async function KI(i){i.Ia.forEach((e,n)=>{Hp(i,e)})}async function QI(i,e){bb(i),Kp(i)?(i.Ra.ha(e),Gp(i)):i.Ra.set("Unknown")}async function YI(i,e,n){if(i.Ra.set("Online"),e instanceof ab&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))}(i,e)}catch(s){me(oa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await kh(i,s)}else if(e instanceof gh?i.Va.Ze(e):e instanceof sb?i.Va.st(e):i.Va.tt(e),!n.isEqual(Re.min()))try{const s=await yb(i.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(Gt.EMPTY_BYTE_STRING,E.snapshotVersion)),Tb(u,p);const S=new Zr(E.target,p,g,E.sequenceNumber);Hp(u,S)}),u.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){me(oa,"Failed to raise snapshot:",s),await kh(i,s)}}async function kh(i,e,n){if(!Mo(e))throw e;i.Ea.add(1),await Cu(i),i.Ra.set("Offline"),n||(n=()=>yb(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{me(oa,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await af(i)})}function Sb(i,e){return e().catch(n=>kh(i,n,e))}async function of(i){const e=Ce(i),n=us(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ip;for(;WI(e);)try{const o=await DI(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,XI(e,o)}catch(o){await kh(e,o)}Ab(e)&&wb(e)}function WI(i){return pa(i)&&i.Ta.length<10}function XI(i,e){i.Ta.push(e);const n=us(i);n.O_()&&n.X_&&n.ea(e.mutations)}function Ab(i){return pa(i)&&!us(i).x_()&&i.Ta.length>0}function wb(i){us(i).start()}async function $I(i){us(i).ra()}async function ZI(i){const e=us(i);for(const n of i.Ta)e.ea(n.mutations)}async function JI(i,e,n){const s=i.Ta.shift(),o=Pp.from(s,e,n);await Sb(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await of(i)}async function e2(i,e){e&&us(i).X_&&await async function(s,o){if(function(f){return VC(f)&&f!==$.ABORTED}(o.code)){const u=s.Ta.shift();us(s).B_(),await Sb(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await of(s)}}(i,e),Ab(i)&&wb(i)}async function $0(i,e){const n=Ce(i);n.asyncQueue.verifyOperationInProgress(),me(oa,"RemoteStore received new credentials");const s=pa(n);n.Ea.add(3),await Cu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await af(n)}async function t2(i,e){const n=Ce(i);e?(n.Ea.delete(2),await af(n)):e||(n.Ea.add(2),await Cu(n),n.Ra.set("Unknown"))}function Po(i){return i.ma||(i.ma=function(n,s,o){const u=Ce(n);return u.sa(),new jI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Xo:GI.bind(null,i),t_:KI.bind(null,i),r_:QI.bind(null,i),H_:YI.bind(null,i)}),i.da.push(async e=>{e?(i.ma.B_(),Kp(i)?Gp(i):i.Ra.set("Unknown")):(await i.ma.stop(),bb(i))})),i.ma}function us(i){return i.fa||(i.fa=function(n,s,o){const u=Ce(n);return u.sa(),new zI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:$I.bind(null,i),r_:e2.bind(null,i),ta:ZI.bind(null,i),na:JI.bind(null,i)}),i.da.push(async e=>{e?(i.fa.B_(),await of(i)):(await i.fa.stop(),i.Ta.length>0&&(me(oa,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))})),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Qp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yp(i,e){if(Ji("AsyncQueue",`${e}: ${i}`),Mo(i))return new ce($.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{static emptySet(e){return new yo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||_e.comparator(n.key,s.key):(n,s)=>_e.comparator(n.key,s.key),this.keyedMap=Zl(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof yo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new yo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(){this.ga=new ut(_e.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,s)=>{e.push(s)}),e}}class xo{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new xo(e,n,yo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class i2{constructor(){this.queries=J0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ce(n),u=o.queries;o.queries=J0(),u.forEach((f,m)=>{for(const p of m.Sa)p.onError(s)})})(this,new ce($.ABORTED,"Firestore shutting down"))}}function J0(){return new ma(i=>KT(i),Jh)}async function Wp(i,e){const n=Ce(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new n2,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Yp(f,`Initialization of query '${fo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&$p(n)}async function Xp(i,e){const n=Ce(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function r2(i,e){const n=Ce(i);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&$p(n)}function s2(i,e,n){const s=Ce(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function $p(i){i.Ca.forEach(e=>{e.next()})}var lp,eE;(eE=lp||(lp={})).Ma="default",eE.Cache="cache";class Zp{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new xo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=xo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==lp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e){this.key=e}}class xb{constructor(e){this.key=e}}class a2{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ue(),this.mutatedKeys=Ue(),this.eu=QT(e),this.tu=new yo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new Z0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,S)=>{const R=o.get(E),L=ef(this.query,S)?S:null,j=!!R&&this.mutatedKeys.has(R.key),Y=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let U=!1;R&&L?R.data.isEqual(L.data)?j!==Y&&(s.track({type:3,doc:L}),U=!0):this.su(R,L)||(s.track({type:2,doc:L}),U=!0,(p&&this.eu(L,p)>0||g&&this.eu(L,g)<0)&&(m=!0)):!R&&L?(s.track({type:0,doc:L}),U=!0):R&&!L&&(s.track({type:1,doc:R}),U=!0,(p||g)&&(m=!0)),U&&(L?(f=f.add(L),u=Y?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort((E,S)=>function(L,j){const Y=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:U})}};return Y(L)-Y(j)}(E.type,S.type)||this.eu(E.doc,S.doc)),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,f.length!==0||g?{snapshot:new xo(this.query,e.tu,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Z0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ue(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return e.forEach(s=>{this.Xa.has(s)||n.push(new xb(s))}),this.Xa.forEach(s=>{e.has(s)||n.push(new Rb(s))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ue();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return xo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Jp="SyncEngine";class o2{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class l2{constructor(e){this.key=e,this.hu=!1}}class u2{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ma(m=>KT(m),Jh),this.Iu=new Map,this.Eu=new Set,this.du=new ut(_e.comparator),this.Au=new Map,this.Ru=new jp,this.Vu={},this.mu=new Map,this.fu=Ro.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function c2(i,e,n=!0){const s=kb(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await Cb(s,e,n,!0),o}async function h2(i,e){const n=kb(i);await Cb(n,e,!0,!1)}async function Cb(i,e,n,s){const o=await NI(i.localStore,vi(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await f2(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&n&&Eb(i.remoteStore,o),m}async function f2(i,e,n,s,o){i.pu=(S,R,L)=>async function(Y,U,ie,ne){let ee=U.view.ru(ie);ee.Cs&&(ee=await K0(Y.localStore,U.query,!1).then(({documents:C})=>U.view.ru(C,ee)));const le=ne&&ne.targetChanges.get(U.targetId),se=ne&&ne.targetMismatches.get(U.targetId)!=null,ae=U.view.applyChanges(ee,Y.isPrimaryClient,le,se);return nE(Y,U.targetId,ae.au),ae.snapshot}(i,S,R,L);const u=await K0(i.localStore,e,!0),f=new a2(e,u.Qs),m=f.ru(u.documents),p=xu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=f.applyChanges(m,i.isPrimaryClient,p);nE(i,n,g.au);const E=new o2(e,n,f);return i.Tu.set(e,E),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),g.snapshot}async function d2(i,e,n){const s=Ce(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter(f=>!Jh(f,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await ap(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Fp(s.remoteStore,o.targetId),up(s,o.targetId)}).catch(ko)):(up(s,o.targetId),await ap(s.localStore,o.targetId,!0))}async function m2(i,e){const n=Ce(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Fp(n.remoteStore,s.targetId))}async function p2(i,e,n){const s=b2(i);try{const o=await function(f,m){const p=Ce(f),g=it.now(),E=m.reduce((L,j)=>L.add(j.key),Ue());let S,R;return p.persistence.runTransaction("Locally write mutations","readwrite",L=>{let j=er(),Y=Ue();return p.Ns.getEntries(L,E).next(U=>{j=U,j.forEach((ie,ne)=>{ne.isValidDocument()||(Y=Y.add(ie))})}).next(()=>p.localDocuments.getOverlayedDocuments(L,j)).next(U=>{S=U;const ie=[];for(const ne of m){const ee=DC(ne,S.get(ne.key).overlayedDocument);ee!=null&&ie.push(new ds(ne.key,ee,LT(ee.value.mapValue),jn.exists(!0)))}return p.mutationQueue.addMutationBatch(L,g,ie,m)}).next(U=>{R=U;const ie=U.applyToLocalDocumentSet(S,Y);return p.documentOverlayCache.saveOverlays(L,U.batchId,ie)})}).then(()=>({batchId:R.batchId,changes:WT(S)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.Vu[f.currentUser.toKey()];g||(g=new ut(Pe)),g=g.insert(m,p),f.Vu[f.currentUser.toKey()]=g}(s,o.batchId,n),await Iu(s,o.changes),await of(s.remoteStore)}catch(o){const u=Yp(o,"Failed to persist write");n.reject(u)}}async function Ib(i,e){const n=Ce(i);try{const s=await CI(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Au.get(u);f&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Fe(f.hu,14607):o.removedDocuments.size>0&&(Fe(f.hu,42227),f.hu=!1))}),await Iu(n,s,e)}catch(s){await ko(s)}}function tE(i,e,n){const s=Ce(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Ce(f);p.onlineState=m;let g=!1;p.queries.forEach((E,S)=>{for(const R of S.Sa)R.va(m)&&(g=!0)}),g&&$p(p)}(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function g2(i,e,n){const s=Ce(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new ut(_e.comparator);f=f.insert(u,Zt.newNoDocument(u,Re.min()));const m=Ue().add(u),p=new rf(Re.min(),new Map,new ut(Pe),f,m);await Ib(s,p),s.du=s.du.remove(u),s.Au.delete(e),eg(s)}else await ap(s.localStore,e,!1).then(()=>up(s,e,n)).catch(ko)}async function y2(i,e){const n=Ce(i),s=e.batch.batchId;try{const o=await xI(n.localStore,e);Nb(n,s,null),Db(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Iu(n,o)}catch(o){await ko(o)}}async function _2(i,e,n){const s=Ce(i);try{const o=await function(f,m){const p=Ce(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(S=>(Fe(S!==null,37113),E=S.keys(),p.mutationQueue.removeMutationBatch(g,S))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,e);Nb(s,e,n),Db(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Iu(s,o)}catch(o){await ko(o)}}function Db(i,e){(i.mu.get(e)||[]).forEach(n=>{n.resolve()}),i.mu.delete(e)}function Nb(i,e,n){const s=Ce(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function up(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach(s=>{i.Ru.containsKey(s)||Ob(i,s)})}function Ob(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(Fp(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),eg(i))}function nE(i,e,n){for(const s of n)s instanceof Rb?(i.Ru.addReference(s.key,e),v2(i,s)):s instanceof xb?(me(Jp,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||Ob(i,s.key)):Se(19791,{wu:s})}function v2(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(me(Jp,"New document in limbo: "+n),i.Eu.add(s),eg(i))}function eg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new _e(tt.fromString(e)),s=i.fu.next();i.Au.set(s,new l2(n)),i.du=i.du.insert(n,s),Eb(i.remoteStore,new Zr(vi(Zh(n.path)),s,"TargetPurposeLimboResolution",Wh.ce))}}async function Iu(i,e,n){const s=Ce(i),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach((m,p)=>{f.push(s.pu(p,e,n).then(g=>{if((g||n)&&s.isPrimaryClient){const E=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=Bp.As(p.targetId,g);u.push(E)}}))}),await Promise.all(f),s.Pu.H_(o),await async function(p,g){const E=Ce(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>J.forEach(g,R=>J.forEach(R.Es,L=>E.persistence.referenceDelegate.addReference(S,R.targetId,L)).next(()=>J.forEach(R.ds,L=>E.persistence.referenceDelegate.removeReference(S,R.targetId,L)))))}catch(S){if(!Mo(S))throw S;me(qp,"Failed to update sequence numbers: "+S)}for(const S of g){const R=S.targetId;if(!S.fromCache){const L=E.Ms.get(R),j=L.snapshotVersion,Y=L.withLastLimboFreeSnapshotVersion(j);E.Ms=E.Ms.insert(R,Y)}}}(s.localStore,u))}async function E2(i,e){const n=Ce(i);if(!n.currentUser.isEqual(e)){me(Jp,"User change. New user:",e.toKey());const s=await gb(n.localStore,e);n.currentUser=e,function(u,f){u.mu.forEach(m=>{m.forEach(p=>{p.reject(new ce($.CANCELLED,f))})}),u.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Iu(n,s.Ls)}}function T2(i,e){const n=Ce(i),s=n.Au.get(e);if(s&&s.hu)return Ue().add(s.key);{let o=Ue();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function kb(i){const e=Ce(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ib.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=T2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=g2.bind(null,e),e.Pu.H_=r2.bind(null,e.eventManager),e.Pu.yu=s2.bind(null,e.eventManager),e}function b2(i){const e=Ce(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=y2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_2.bind(null,e),e}class Mh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return RI(this.persistence,new SI,e.initialUser,this.serializer)}Cu(e){return new pb(zp.mi,this.serializer)}Du(e){return new kI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Mh.provider={build:()=>new Mh};class S2 extends Mh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Fe(this.persistence.referenceDelegate instanceof Oh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new lI(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new pb(s=>Oh.mi(s,n),this.serializer)}}class cp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>tE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=E2.bind(null,this.syncEngine),await t2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new i2}()}createDatastore(e){const n=sf(e.databaseInfo.databaseId),s=function(u){return new LI(u)}(e.databaseInfo);return function(u,f,m,p){return new qI(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new HI(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>tE(this.syncEngine,n,0),function(){return W0.v()?new W0:new MI}())}createSyncEngine(e,n){return function(o,u,f,m,p,g,E){const S=new u2(o,u,f,m,p,g);return E&&(S.gu=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const s=Ce(n);me(oa,"RemoteStore shutting down."),s.Ea.add(5),await Cu(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}cp.provider={build:()=>new cp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ji("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs="FirestoreClient";class A2{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=$t.UNAUTHENTICATED,this.clientId=Cp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{me(cs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(me(cs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Yp(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function km(i,e){i.asyncQueue.verifyOperationInProgress(),me(cs,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await gb(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function iE(i,e){i.asyncQueue.verifyOperationInProgress();const n=await w2(i);me(cs,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>$0(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>$0(e.remoteStore,o)),i._onlineComponents=e}async function w2(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){me(cs,"Using user provided OfflineComponentProvider");try{await km(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;bo("Error using user provided cache. Falling back to memory cache: "+n),await km(i,new Mh)}}else me(cs,"Using default OfflineComponentProvider"),await km(i,new S2(void 0));return i._offlineComponents}async function Mb(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(me(cs,"Using user provided OnlineComponentProvider"),await iE(i,i._uninitializedComponentsProvider._online)):(me(cs,"Using default OnlineComponentProvider"),await iE(i,new cp))),i._onlineComponents}function R2(i){return Mb(i).then(e=>e.syncEngine)}async function Vh(i){const e=await Mb(i),n=e.eventManager;return n.onListen=c2.bind(null,e.syncEngine),n.onUnlisten=d2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=h2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=m2.bind(null,e.syncEngine),n}function x2(i,e,n={}){const s=new Xi;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new tg({next:R=>{E.Nu(),f.enqueueAndForget(()=>Xp(u,S));const L=R.docs.has(m);!L&&R.fromCache?g.reject(new ce($.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&R.fromCache&&p&&p.source==="server"?g.reject(new ce($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(R)},error:R=>g.reject(R)}),S=new Zp(Zh(m.path),E,{includeMetadataChanges:!0,qa:!0});return Wp(u,S)}(await Vh(i),i.asyncQueue,e,n,s)),s.promise}function C2(i,e,n={}){const s=new Xi;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new tg({next:R=>{E.Nu(),f.enqueueAndForget(()=>Xp(u,S)),R.fromCache&&p.source==="server"?g.reject(new ce($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(R)},error:R=>g.reject(R)}),S=new Zp(m,E,{includeMetadataChanges:!0,qa:!0});return Wp(u,S)}(await Vh(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb="firestore.googleapis.com",sE=!0;class aE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Pb,this.ssl=sE}else this.host=e.host,this.ssl=e.ssl??sE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=mb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<aI)throw new ce($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Fx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Vb(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ce($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ce($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ce($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new kx;switch(s.type){case"firstParty":return new Ux(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ce($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=rE.get(n);s&&(me("ComponentProvider","Removing Datastore"),rE.delete(n),s.terminate())}(this),Promise.resolve()}}function I2(i,e,n,s={}){i=dn(i,lf);const o=hs(e),u=i._getSettings(),f={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(bp(`https://${m}`),Sp("Firestore",!0)),u.host!==Pb&&u.host!==m&&bo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!ra(p,f)&&(i._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=$t.MOCK_USER;else{g=dT(s.mockUserToken,i._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new ce($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new $t(S)}i._authCredentials=new Mx(new RT(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ms(this.firestore,e,this._query)}}class ft{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new is(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ft(this.firestore,e,this._key)}toJSON(){return{type:ft._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(wu(n,ft._jsonSchema))return new ft(e,s||null,new _e(tt.fromString(n.referencePath)))}}ft._jsonSchemaVersion="firestore/documentReference/1.0",ft._jsonSchema={type:Rt("string",ft._jsonSchemaVersion),referencePath:Rt("string")};class is extends ms{constructor(e,n,s){super(e,n,Zh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ft(this.firestore,null,new _e(e))}withConverter(e){return new is(this.firestore,e,this._path)}}function Tu(i,e,...n){if(i=st(i),xT("collection","path",e),i instanceof lf){const s=tt.fromString(e,...n);return v0(s),new is(i,null,s)}{if(!(i instanceof ft||i instanceof is))throw new ce($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tt.fromString(e,...n));return v0(s),new is(i.firestore,null,s)}}function tr(i,e,...n){if(i=st(i),arguments.length===1&&(e=Cp.newId()),xT("doc","path",e),i instanceof lf){const s=tt.fromString(e,...n);return _0(s),new ft(i,null,new _e(s))}{if(!(i instanceof ft||i instanceof is))throw new ce($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tt.fromString(e,...n));return _0(s),new ft(i.firestore,i instanceof is?i.converter:null,new _e(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE="AsyncQueue";class lE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new _b(this,"async_queue_retry"),this._c=()=>{const s=Om();s&&me(oE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Om();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Om();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Xi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Mo(e))throw e;me(oE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,Ji("INTERNAL UNHANDLED ERROR: ",uE(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Qp.createAndSchedule(this,e,n,s,u=>this.hc(u));return this.tc.push(o),o}uc(){this.nc&&Se(47125,{Pc:uE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function uE(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cE(i){return function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(i,["next","error","complete"])}class nr extends lf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new lE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new lE(e),this._firestoreClient=void 0,await e}}}function D2(i,e){const n=typeof i=="object"?i:Rp(),s=typeof i=="string"?i:xh,o=Qh(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=cT("firestore");u&&I2(o,...u)}return o}function uf(i){if(i._terminated)throw new ce($.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||N2(i),i._firestoreClient}function N2(i){const e=i._freezeSettings(),n=function(o,u,f,m){return new eC(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,Vb(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new A2(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ln(Gt.fromBase64String(e))}catch(n){throw new ce($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ln(Gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(wu(e,Ln._jsonSchema))return Ln.fromBase64String(e.bytes)}}Ln._jsonSchemaVersion="firestore/bytes/1.0",Ln._jsonSchema={type:Rt("string",Ln._jsonSchemaVersion),bytes:Rt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ti._jsonSchemaVersion}}static fromJSON(e){if(wu(e,Ti._jsonSchema))return new Ti(e.latitude,e.longitude)}}Ti._jsonSchemaVersion="firestore/geoPoint/1.0",Ti._jsonSchema={type:Rt("string",Ti._jsonSchemaVersion),latitude:Rt("number"),longitude:Rt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:bi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(wu(e,bi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new bi(e.vectorValues);throw new ce($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}bi._jsonSchemaVersion="firestore/vectorValue/1.0",bi._jsonSchema={type:Rt("string",bi._jsonSchemaVersion),vectorValues:Rt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2=/^__.*__$/;class k2{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ds(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ru(e,this.data,n,this.fieldTransforms)}}class Ub{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ds(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Lb(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:i})}}class ng{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ng({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ph(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Lb(this.Ac)&&O2.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class M2{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||sf(e)}Cc(e,n,s,o=!1){return new ng({Ac:e,methodName:n,Dc:s,path:Ht.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ff(i){const e=i._freezeSettings(),n=sf(i._databaseId);return new M2(i._databaseId,!!e.ignoreUndefinedProperties,n)}function jb(i,e,n,s,o,u={}){const f=i.Cc(u.merge||u.mergeFields?2:0,e,n,o);rg("Data must be an object, but it was:",f,s);const m=zb(s,f);let p,g;if(u.merge)p=new Sn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const R=hp(e,S,n);if(!f.contains(R))throw new ce($.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);qb(E,R)||E.push(R)}p=new Sn(E),g=f.fieldTransforms.filter(S=>p.covers(S.field))}else p=null,g=f.fieldTransforms;return new k2(new fn(m),p,g)}class df extends hf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof df}}class ig extends hf{_toFieldTransform(e){return new RC(e.path,new _u)}isEqual(e){return e instanceof ig}}function V2(i,e,n,s){const o=i.Cc(1,e,n);rg("Data must be an object, but it was:",o,s);const u=[],f=fn.empty();fs(s,(p,g)=>{const E=sg(e,p,n);g=st(g);const S=o.yc(E);if(g instanceof df)u.push(E);else{const R=Du(g,S);R!=null&&(u.push(E),f.set(E,R))}});const m=new Sn(u);return new Ub(f,m,o.fieldTransforms)}function P2(i,e,n,s,o,u){const f=i.Cc(1,e,n),m=[hp(e,s,n)],p=[o];if(u.length%2!=0)throw new ce($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<u.length;R+=2)m.push(hp(e,u[R])),p.push(u[R+1]);const g=[],E=fn.empty();for(let R=m.length-1;R>=0;--R)if(!qb(g,m[R])){const L=m[R];let j=p[R];j=st(j);const Y=f.yc(L);if(j instanceof df)g.push(L);else{const U=Du(j,Y);U!=null&&(g.push(L),E.set(L,U))}}const S=new Sn(g);return new Ub(E,S,f.fieldTransforms)}function U2(i,e,n,s=!1){return Du(n,i.Cc(s?4:3,e))}function Du(i,e){if(Bb(i=st(i)))return rg("Unsupported field value:",e,i),zb(i,e);if(i instanceof hf)return function(s,o){if(!Lb(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=Du(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=st(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return SC(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=it.fromDate(s);return{timestampValue:Nh(o.serializer,u)}}if(s instanceof it){const u=new it(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Nh(o.serializer,u)}}if(s instanceof Ti)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ln)return{bytesValue:ob(o.serializer,s._byteString)};if(s instanceof ft){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Lp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof bi)return function(f,m){return{mapValue:{fields:{[PT]:{stringValue:UT},[Ch]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Mp(m.serializer,g)})}}}}}}(s,o);throw o.Sc(`Unsupported field value: ${Yh(s)}`)}(i,e)}function zb(i,e){const n={};return DT(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fs(i,(s,o)=>{const u=Du(o,e.mc(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function Bb(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof it||i instanceof Ti||i instanceof Ln||i instanceof ft||i instanceof hf||i instanceof bi)}function rg(i,e,n){if(!Bb(n)||!CT(n)){const s=Yh(n);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function hp(i,e,n){if((e=st(e))instanceof cf)return e._internalPath;if(typeof e=="string")return sg(i,e);throw Ph("Field path arguments must be of type string or ",i,!1,void 0,n)}const L2=new RegExp("[~\\*/\\[\\]]");function sg(i,e,n){if(e.search(L2)>=0)throw Ph(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new cf(...e.split("."))._internalPath}catch{throw Ph(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Ph(i,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ce($.INVALID_ARGUMENT,m+i+p)}function qb(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new j2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ag("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class j2 extends Fb{data(){return super.data()}}function ag(i,e){return typeof e=="string"?sg(i,e):e instanceof cf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ce($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class og{}class Gb extends og{}function z2(i,e,...n){let s=[];e instanceof og&&s.push(e),s=s.concat(n),function(u){const f=u.filter(p=>p instanceof ug).length,m=u.filter(p=>p instanceof lg).length;if(f>1||f>0&&m>0)throw new ce($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class lg extends Gb{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new lg(e,n,s)}_apply(e){const n=this._parse(e);return Kb(e._query,n),new ms(e.firestore,e.converter,ep(e._query,n))}_parse(e){const n=ff(e.firestore);return function(u,f,m,p,g,E,S){let R;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ce($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){fE(S,E);const j=[];for(const Y of S)j.push(hE(p,u,Y));R={arrayValue:{values:j}}}else R=hE(p,u,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||fE(S,E),R=U2(m,f,S,E==="in"||E==="not-in");return wt.create(g,E,R)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class ug extends og{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ug(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Jn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)Kb(f,p),f=ep(f,p)}(e._query,n),new ms(e.firestore,e.converter,ep(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class cg extends Gb{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new cg(e,n)}_apply(e){const n=function(o,u,f){if(o.startAt!==null)throw new ce($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ce($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new yu(u,f)}(e._query,this._field,this._direction);return new ms(e.firestore,e.converter,function(o,u){const f=o.explicitOrderBy.concat([u]);return new Vo(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function B2(i,e="asc"){const n=e,s=ag("orderBy",i);return cg._create(s,n)}function hE(i,e,n){if(typeof(n=st(n))=="string"){if(n==="")throw new ce($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!GT(e)&&n.indexOf("/")!==-1)throw new ce($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(tt.fromString(n));if(!_e.isDocumentKey(s))throw new ce($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return x0(i,new _e(s))}if(n instanceof ft)return x0(i,n._key);throw new ce($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yh(n)}.`)}function fE(i,e){if(!Array.isArray(i)||i.length===0)throw new ce($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Kb(i,e){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ce($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class q2{convertValue(e,n="none"){switch(ls(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(os(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return fs(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){const n=e.fields?.[Ch].arrayValue?.values?.map(s=>Tt(s.doubleValue));return new bi(n)}convertGeoPoint(e){return new Ti(Tt(e.latitude),Tt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=$h(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(mu(e));default:return null}}convertTimestamp(e){const n=as(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=tt.fromString(e);Fe(db(s),9688,{name:e});const o=new pu(s.get(1),s.get(3)),u=new _e(s.popFirst(5));return o.isEqual(n)||Ji(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(i,e,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,s}class eu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ta extends Fb{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new yh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(ag("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ta._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ta._jsonSchemaVersion="firestore/documentSnapshot/1.0",ta._jsonSchema={type:Rt("string",ta._jsonSchemaVersion),bundleSource:Rt("string","DocumentSnapshot"),bundleName:Rt("string"),bundle:Rt("string")};class yh extends ta{data(e={}){return super.data(e)}}class na{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new eu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new yh(this._firestore,this._userDataWriter,s.key,s,new eu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new yh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new eu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new yh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new eu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:F2(m.type),doc:p,oldIndex:g,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=na._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Cp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function F2(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(i){i=dn(i,ft);const e=dn(i.firestore,nr);return x2(uf(e),i._key).then(n=>Zb(e,i,n))}na._jsonSchemaVersion="firestore/querySnapshot/1.0",na._jsonSchema={type:Rt("string",na._jsonSchemaVersion),bundleSource:Rt("string","QuerySnapshot"),bundleName:Rt("string"),bundle:Rt("string")};class hg extends q2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ln(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ft(this.firestore,null,n)}}function H2(i){i=dn(i,ms);const e=dn(i.firestore,nr),n=uf(e),s=new hg(e);return Hb(i._query),C2(n,i._query).then(o=>new na(e,s,i,o))}function G2(i,e,n){i=dn(i,ft);const s=dn(i.firestore,nr),o=Qb(i.converter,e,n);return mf(s,[jb(ff(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,jn.none())])}function fp(i,e,n,...s){i=dn(i,ft);const o=dn(i.firestore,nr),u=ff(o);let f;return f=typeof(e=st(e))=="string"||e instanceof cf?P2(u,"updateDoc",i._key,e,n,s):V2(u,"updateDoc",i._key,e),mf(o,[f.toMutation(i._key,jn.exists(!0))])}function Wb(i){return mf(dn(i.firestore,nr),[new Vp(i._key,jn.none())])}function Xb(i,e){const n=dn(i.firestore,nr),s=tr(i),o=Qb(i.converter,e);return mf(n,[jb(ff(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,jn.exists(!1))]).then(()=>s)}function $b(i,...e){i=st(i);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||cE(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(cE(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let u,f,m;if(i instanceof ft)f=dn(i.firestore,nr),m=Zh(i._key.path),u={next:p=>{e[s]&&e[s](Zb(f,i,p))},error:e[s+1],complete:e[s+2]};else{const p=dn(i,ms);f=dn(p.firestore,nr),m=p._query;const g=new hg(f);u={next:E=>{e[s]&&e[s](new na(f,g,p,E))},error:e[s+1],complete:e[s+2]},Hb(i._query)}return function(g,E,S,R){const L=new tg(R),j=new Zp(E,L,S);return g.asyncQueue.enqueueAndForget(async()=>Wp(await Vh(g),j)),()=>{L.Nu(),g.asyncQueue.enqueueAndForget(async()=>Xp(await Vh(g),j))}}(uf(f),m,o,u)}function mf(i,e){return function(s,o){const u=new Xi;return s.asyncQueue.enqueueAndForget(async()=>p2(await R2(s),o,u)),u.promise}(uf(i),e)}function Zb(i,e,n){const s=n.docs.get(e._key),o=new hg(i);return new ta(i,o,e._key,s,new eu(n.hasPendingWrites,n.fromCache),e.converter)}function au(){return new ig("serverTimestamp")}(function(e,n=!0){(function(o){Oo=o})(da),sa(new rs("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new nr(new Vx(s.getProvider("auth-internal")),new Lx(f,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ce($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pu(g.options.projectId,E)}(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),_i(m0,p0,e),_i(m0,p0,"esm2020")})();var K2="firebase",Q2="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_i(K2,Q2,"app");function Jb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Y2=Jb,eS=new Su("auth","Firebase",Jb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh=new Ap("@firebase/auth");function W2(i,...e){Uh.logLevel<=Ve.WARN&&Uh.warn(`Auth (${da}): ${i}`,...e)}function _h(i,...e){Uh.logLevel<=Ve.ERROR&&Uh.error(`Auth (${da}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(i,...e){throw fg(i,...e)}function Si(i,...e){return fg(i,...e)}function tS(i,e,n){const s={...Y2(),[e]:n};return new Su("auth","Firebase",s).create(e,{appName:i.name})}function $i(i){return tS(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fg(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return eS.create(i,...e)}function be(i,e,...n){if(!i)throw fg(e,...n)}function Yi(i){const e="INTERNAL ASSERTION FAILED: "+i;throw _h(e),new Error(e)}function ir(i,e){i||Yi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dp(){return typeof self<"u"&&self.location?.href||""}function X2(){return dE()==="http:"||dE()==="https:"}function dE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(X2()||fR()||"connection"in navigator)?navigator.onLine:!0}function Z2(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ir(n>e,"Short delay should be less than long delay!"),this.isMobile=uR()||dR()}get(){return $2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(i,e){ir(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],tD=new Nu(3e4,6e4);function ps(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function ar(i,e,n,s,o={}){return iS(i,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=Au({key:i.config.apiKey,...f}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:p,...u};return hR()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&hs(i.emulatorConfig.host)&&(g.credentials="include"),nS.fetch()(await rS(i,i.config.apiHost,n,m),g)})}async function iS(i,e,n){i._canInitEmulator=!1;const s={...J2,...e};try{const o=new iD(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw sh(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw sh(i,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw sh(i,"email-already-in-use",f);if(p==="USER_DISABLED")throw sh(i,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw tS(i,E,g);ei(i,E)}}catch(o){if(o instanceof Ri)throw o;ei(i,"network-request-failed",{message:String(o)})}}async function Ou(i,e,n,s,o={}){const u=await ar(i,e,n,s,o);return"mfaPendingCredential"in u&&ei(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function rS(i,e,n,s){const o=`${e}${n}?${s}`,u=i,f=u.config.emulator?dg(i.config,o):`${i.config.apiScheme}://${o}`;return eD.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function nD(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class iD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Si(this.auth,"network-request-failed")),tD.get())})}}function sh(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Si(i,e,s);return o.customData._tokenResponse=n,o}function mE(i){return i!==void 0&&i.enterprise!==void 0}class rD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return nD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function sD(i,e){return ar(i,"GET","/v2/recaptchaConfig",ps(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aD(i,e){return ar(i,"POST","/v1/accounts:delete",e)}async function Lh(i,e){return ar(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function oD(i,e=!1){const n=st(i),s=await n.getIdToken(e),o=mg(s);be(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:ou(Mm(o.auth_time)),issuedAtTime:ou(Mm(o.iat)),expirationTime:ou(Mm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Mm(i){return Number(i)*1e3}function mg(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return _h("JWT malformed, contained fewer than 3 sections"),null;try{const o=lT(n);return o?JSON.parse(o):(_h("Failed to decode base64 JWT payload"),null)}catch(o){return _h("Caught error parsing JWT payload as JSON",o?.toString()),null}}function pE(i){const e=mg(i);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Co(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Ri&&lD(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function lD({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ou(this.lastLoginAt),this.creationTime=ou(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jh(i){const e=i.auth,n=await i.getIdToken(),s=await Co(i,Lh(e,{idToken:n}));be(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?sS(o.providerUserInfo):[],f=hD(i.providerData,u),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!f?.length,g=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new mp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,E)}async function cD(i){const e=st(i);await jh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hD(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function sS(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fD(i,e){const n=await iS(i,{},async()=>{const s=Au({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=await rS(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&hs(i.emulatorConfig.host)&&(p.credentials="include"),nS.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function dD(i,e){return ar(i,"POST","/v2/accounts:revokeToken",ps(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):pE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=pE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await fD(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new _o;return s&&(be(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(be(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(be(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _o,this.toJSON())}_performRefresh(){return Yi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(i,e){be(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Zn{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new uD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new mp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Co(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return oD(this,e)}reload(){return cD(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Zn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await jh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bn(this.auth.app))return Promise.reject($i(this.auth));const e=await this.getIdToken();return await Co(this,aD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:S,emailVerified:R,isAnonymous:L,providerData:j,stsTokenManager:Y}=n;be(S&&Y,e,"internal-error");const U=_o.fromJSON(this.name,Y);be(typeof S=="string",e,"internal-error"),Hr(s,e.name),Hr(o,e.name),be(typeof R=="boolean",e,"internal-error"),be(typeof L=="boolean",e,"internal-error"),Hr(u,e.name),Hr(f,e.name),Hr(m,e.name),Hr(p,e.name),Hr(g,e.name),Hr(E,e.name);const ie=new Zn({uid:S,auth:e,email:o,emailVerified:R,displayName:s,isAnonymous:L,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:U,createdAt:g,lastLoginAt:E});return j&&Array.isArray(j)&&(ie.providerData=j.map(ne=>({...ne}))),p&&(ie._redirectEventId=p),ie}static async _fromIdTokenResponse(e,n,s=!1){const o=new _o;o.updateFromServerResponse(n);const u=new Zn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await jh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];be(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?sS(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new _o;m.updateFromIdToken(s);const p=new Zn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new mp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE=new Map;function Wi(i){ir(i instanceof Function,"Expected a class definition");let e=gE.get(i);return e?(ir(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,gE.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}aS.type="NONE";const yE=aS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(i,e,n){return`firebase:${i}:${e}:${n}`}class vo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=vh(this.userKey,o.apiKey,u),this.fullPersistenceKey=vh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Lh(this.auth,{idToken:e}).catch(()=>{});return n?Zn._fromGetAccountInfoResponse(this.auth,n,e):null}return Zn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new vo(Wi(yE),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Wi(yE);const f=vh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let S;if(typeof E=="string"){const R=await Lh(e,{idToken:E}).catch(()=>{});if(!R)break;S=await Zn._fromGetAccountInfoResponse(e,R,E)}else S=Zn._fromJSON(e,E);g!==u&&(m=S),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new vo(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new vo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _E(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(oS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fS(e))return"Blackberry";if(dS(e))return"Webos";if(lS(e))return"Safari";if((e.includes("chrome/")||uS(e))&&!e.includes("edge/"))return"Chrome";if(hS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function oS(i=Jt()){return/firefox\//i.test(i)}function lS(i=Jt()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uS(i=Jt()){return/crios\//i.test(i)}function cS(i=Jt()){return/iemobile/i.test(i)}function hS(i=Jt()){return/android/i.test(i)}function fS(i=Jt()){return/blackberry/i.test(i)}function dS(i=Jt()){return/webos/i.test(i)}function pg(i=Jt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function mD(i=Jt()){return pg(i)&&!!window.navigator?.standalone}function pD(){return mR()&&document.documentMode===10}function mS(i=Jt()){return pg(i)||hS(i)||dS(i)||fS(i)||/windows phone/i.test(i)||cS(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(i,e=[]){let n;switch(i){case"Browser":n=_E(Jt());break;case"Worker":n=`${_E(Jt())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${da}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yD(i,e={}){return ar(i,"GET","/v2/passwordPolicy",ps(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D=6;class vD{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??_D,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vE(this),this.idTokenSubscription=new vE(this),this.beforeStateQueue=new gD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Wi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await vo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Lh(this,{idToken:e}),s=await Zn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(bn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await jh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Z2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(bn(this.app))return Promise.reject($i(this));const n=e?st(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return bn(this.app)?Promise.reject($i(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return bn(this.app)?Promise.reject($i(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await yD(this),n=new vD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Su("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await dD(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Wi(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await vo.create(this,[Wi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&W2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ga(i){return st(i)}class vE{constructor(e){this.auth=e,this.observer=null,this.addObserver=bR(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function TD(i){pf=i}function gS(i){return pf.loadJS(i)}function bD(){return pf.recaptchaEnterpriseScript}function SD(){return pf.gapiScript}function AD(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class wD{constructor(){this.enterprise=new RD}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class RD{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const xD="recaptcha-enterprise",yS="NO_RECAPTCHA";class CD{constructor(e){this.type=xD,this.auth=ga(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{sD(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new rD(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;mE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(yS)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new wD().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&mE(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=bD();p.length!==0&&(p+=m),gS(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function EE(i,e,n,s=!1,o=!1){const u=new CD(i);let f;if(o)f=yS;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function pp(i,e,n,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await EE(i,e,n,n==="getOobCode");return s(i,u)}else return s(i,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await EE(i,e,n,n==="getOobCode");return s(i,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(i,e){const n=Qh(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ra(u,e??{}))return o;ei(o,"already-initialized")}return n.initialize({options:e})}function DD(i,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Wi);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function ND(i,e,n){const s=ga(i);be(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=_S(e),{host:f,port:m}=OD(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){be(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),be(ra(g,s.config.emulator)&&ra(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,hs(f)?(bp(`${u}//${f}${p}`),Sp("Auth",!0)):kD()}function _S(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function OD(i){const e=_S(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:TE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:TE(f)}}}function TE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function kD(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Yi("not implemented")}_getIdTokenResponse(e){return Yi("not implemented")}_linkToIdToken(e,n){return Yi("not implemented")}_getReauthenticationResolver(e){return Yi("not implemented")}}async function MD(i,e){return ar(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VD(i,e){return Ou(i,"POST","/v1/accounts:signInWithPassword",ps(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PD(i,e){return Ou(i,"POST","/v1/accounts:signInWithEmailLink",ps(i,e))}async function UD(i,e){return Ou(i,"POST","/v1/accounts:signInWithEmailLink",ps(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu extends gg{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new bu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new bu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pp(e,n,"signInWithPassword",VD);case"emailLink":return PD(e,{email:this._email,oobCode:this._password});default:ei(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pp(e,s,"signUpPassword",MD);case"emailLink":return UD(e,{idToken:n,email:this._email,oobCode:this._password});default:ei(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eo(i,e){return Ou(i,"POST","/v1/accounts:signInWithIdp",ps(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD="http://localhost";class la extends gg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new la(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ei("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new la(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Eo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Eo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Eo(e,n)}buildRequest(){const e={requestUri:LD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Au(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function zD(i){const e=Wl(Xl(i)).link,n=e?Wl(Xl(e)).deep_link_id:null,s=Wl(Xl(i)).deep_link_id;return(s?Wl(Xl(s)).link:null)||s||n||e||i}class yg{constructor(e){const n=Wl(Xl(e)),s=n.apiKey??null,o=n.oobCode??null,u=jD(n.mode??null);be(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=zD(e);try{return new yg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(){this.providerId=Uo.PROVIDER_ID}static credential(e,n){return bu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=yg.parseLink(n);return be(s,"argument-error"),bu._fromEmailAndCode(e,s.code,s.tenantId)}}Uo.PROVIDER_ID="password";Uo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Uo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku extends vS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends ku{constructor(){super("facebook.com")}static credential(e){return la._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Kr.credential(e.oauthAccessToken)}catch{return null}}}Kr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Kr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends ku{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return la._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Qr.credential(n,s)}catch{return null}}}Qr.GOOGLE_SIGN_IN_METHOD="google.com";Qr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends ku{constructor(){super("github.com")}static credential(e){return la._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yr.credential(e.oauthAccessToken)}catch{return null}}}Yr.GITHUB_SIGN_IN_METHOD="github.com";Yr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends ku{constructor(){super("twitter.com")}static credential(e,n){return la._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Wr.credential(n,s)}catch{return null}}}Wr.TWITTER_SIGN_IN_METHOD="twitter.com";Wr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BD(i,e){return Ou(i,"POST","/v1/accounts:signUp",ps(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Zn._fromIdTokenResponse(e,s,o),f=bE(s);return new ua({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=bE(s);return new ua({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function bE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh extends Ri{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,zh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new zh(e,n,s,o)}}function ES(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?zh._fromErrorAndOperation(i,u,e,s):u})}async function qD(i,e,n=!1){const s=await Co(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return ua._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FD(i,e,n=!1){const{auth:s}=i;if(bn(s.app))return Promise.reject($i(s));const o="reauthenticate";try{const u=await Co(i,ES(s,o,e,i),n);be(u.idToken,s,"internal-error");const f=mg(u.idToken);be(f,s,"internal-error");const{sub:m}=f;return be(i.uid===m,s,"user-mismatch"),ua._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ei(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TS(i,e,n=!1){if(bn(i.app))return Promise.reject($i(i));const s="signIn",o=await ES(i,s,e),u=await ua._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function HD(i,e){return TS(ga(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bS(i){const e=ga(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function GD(i,e,n){if(bn(i.app))return Promise.reject($i(i));const s=ga(i),f=await pp(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",BD).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&bS(i),p}),m=await ua._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function KD(i,e,n){return bn(i.app)?Promise.reject($i(i)):HD(st(i),Uo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&bS(i),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QD(i,e){return ar(i,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YD(i,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=st(i),u={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},f=await Co(s,QD(s.auth,u));s.displayName=f.displayName||null,s.photoURL=f.photoUrl||null;const m=s.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(f)}function WD(i,e,n,s){return st(i).onIdTokenChanged(e,n,s)}function XD(i,e,n){return st(i).beforeAuthStateChanged(e,n)}function $D(i,e,n,s){return st(i).onAuthStateChanged(e,n,s)}function SE(i){return st(i).signOut()}const Bh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Bh,"1"),this.storage.removeItem(Bh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD=1e3,JD=10;class AS extends SS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);pD()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,JD):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},ZD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}AS.type="LOCAL";const eN=AS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS extends SS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}wS.type="SESSION";const RS=wS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tN(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new gf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await tN(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _g(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=_g("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(S){const R=S;if(R.data.eventId===g)switch(R.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(R.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(){return window}function iN(i){Ai().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(){return typeof Ai().WorkerGlobalScope<"u"&&typeof Ai().importScripts=="function"}async function rN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sN(){return navigator?.serviceWorker?.controller||null}function aN(){return xS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS="firebaseLocalStorageDb",oN=1,qh="firebaseLocalStorage",IS="fbase_key";class Mu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function yf(i,e){return i.transaction([qh],e?"readwrite":"readonly").objectStore(qh)}function lN(){const i=indexedDB.deleteDatabase(CS);return new Mu(i).toPromise()}function gp(){const i=indexedDB.open(CS,oN);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(qh,{keyPath:IS})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(qh)?e(s):(s.close(),await lN(),e(await gp()))})})}async function AE(i,e,n){const s=yf(i,!0).put({[IS]:e,value:n});return new Mu(s).toPromise()}async function uN(i,e){const n=yf(i,!1).get(e),s=await new Mu(n).toPromise();return s===void 0?null:s.value}function wE(i,e){const n=yf(i,!0).delete(e);return new Mu(n).toPromise()}const cN=800,hN=3;class DS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>hN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gf._getInstance(aN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await rN(),!this.activeServiceWorker)return;this.sender=new nN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||sN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await gp();return await AE(e,Bh,"1"),await wE(e,Bh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>AE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>uN(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>wE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=yf(o,!1).getAll();return new Mu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}DS.type="LOCAL";const fN=DS;new Nu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(i,e){return e?Wi(e):(be(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg extends gg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Eo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Eo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Eo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function mN(i){return TS(i.auth,new vg(i),i.bypassAuthState)}function pN(i){const{auth:e,user:n}=i;return be(n,e,"internal-error"),FD(n,new vg(i),i.bypassAuthState)}async function gN(i){const{auth:e,user:n}=i;return be(n,e,"internal-error"),qD(n,new vg(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mN;case"linkViaPopup":case"linkViaRedirect":return gN;case"reauthViaPopup":case"reauthViaRedirect":return pN;default:ei(this.auth,"internal-error")}}resolve(e){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=new Nu(2e3,1e4);class go extends NS{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,go.currentPopupAction&&go.currentPopupAction.cancel(),go.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){ir(this.filter.length===1,"Popup operations only handle one event");const e=_g();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,go.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,yN.get())};e()}}go.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N="pendingRedirect",Eh=new Map;class vN extends NS{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Eh.get(this.auth._key());if(!e){try{const s=await EN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Eh.set(this.auth._key(),e)}return this.bypassAuthState||Eh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function EN(i,e){const n=SN(e),s=bN(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function TN(i,e){Eh.set(i._key(),e)}function bN(i){return Wi(i._redirectPersistence)}function SN(i){return vh(_N,i.config.apiKey,i.name)}async function AN(i,e,n=!1){if(bn(i.app))return Promise.reject($i(i));const s=ga(i),o=dN(s,e),f=await new vN(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=10*60*1e3;class RN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!xN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!OS(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Si(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=wN&&this.cachedEventUids.clear(),this.cachedEventUids.has(RE(e))}saveEventToCache(e){this.cachedEventUids.add(RE(e)),this.lastProcessedEventTime=Date.now()}}function RE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function OS({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function xN(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return OS(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CN(i,e={}){return ar(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,DN=/^https?/;async function NN(i){if(i.config.emulator)return;const{authorizedDomains:e}=await CN(i);for(const n of e)try{if(ON(n))return}catch{}ei(i,"unauthorized-domain")}function ON(i){const e=dp(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!DN.test(n))return!1;if(IN.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN=new Nu(3e4,6e4);function xE(){const i=Ai().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function MN(i){return new Promise((e,n)=>{function s(){xE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{xE(),n(Si(i,"network-request-failed"))},timeout:kN.get()})}if(Ai().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ai().gapi?.load)s();else{const o=AD("iframefcb");return Ai()[o]=()=>{gapi.load?s():n(Si(i,"network-request-failed"))},gS(`${SD()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Th=null,e})}let Th=null;function VN(i){return Th=Th||MN(i),Th}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN=new Nu(5e3,15e3),UN="__/auth/iframe",LN="emulator/auth/iframe",jN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BN(i){const e=i.config;be(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?dg(e,LN):`https://${i.config.authDomain}/${UN}`,s={apiKey:e.apiKey,appName:i.name,v:da},o=zN.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Au(s).slice(1)}`}async function qN(i){const e=await VN(i),n=Ai().gapi;return be(n,i,"internal-error"),e.open({where:document.body,url:BN(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Si(i,"network-request-failed"),m=Ai().setTimeout(()=>{u(f)},PN.get());function p(){Ai().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},HN=500,GN=600,KN="_blank",QN="http://localhost";class CE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function YN(i,e,n,s=HN,o=GN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...FN,width:s.toString(),height:o.toString(),top:u,left:f},g=Jt().toLowerCase();n&&(m=uS(g)?KN:n),oS(g)&&(e=e||QN,p.scrollbars="yes");const E=Object.entries(p).reduce((R,[L,j])=>`${R}${L}=${j},`,"");if(mD(g)&&m!=="_self")return WN(e||"",m),new CE(null);const S=window.open(e||"",m,E);be(S,i,"popup-blocked");try{S.focus()}catch{}return new CE(S)}function WN(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN="__/auth/handler",$N="emulator/auth/handler",ZN=encodeURIComponent("fac");async function IE(i,e,n,s,o,u){be(i.config.authDomain,i,"auth-domain-config-required"),be(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:da,eventId:o};if(e instanceof vS){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",TR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))f[E]=S}if(e instanceof ku){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(f.scopes=E.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await i._getAppCheckToken(),g=p?`#${ZN}=${encodeURIComponent(p)}`:"";return`${JN(i)}?${Au(m).slice(1)}${g}`}function JN({config:i}){return i.emulator?dg(i,$N):`https://${i.authDomain}/${XN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm="webStorageSupport";class eO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=RS,this._completeRedirectFn=AN,this._overrideRedirectResult=TN}async _openPopup(e,n,s,o){ir(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await IE(e,n,s,dp(),o);return YN(e,u,_g())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await IE(e,n,s,dp(),o);return iN(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ir(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await qN(e),s=new RN(e);return n.register("authEvent",o=>(be(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Vm,{type:Vm},o=>{const u=o?.[0]?.[Vm];u!==void 0&&n(!!u),ei(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=NN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return mS()||lS()||pg()}}const tO=eO;var DE="@firebase/auth",NE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rO(i){sa(new rs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;be(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pS(i)},g=new ED(s,o,u,p);return DD(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),sa(new rs("auth-internal",e=>{const n=ga(e.getProvider("auth").getImmediate());return(s=>new nO(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),_i(DE,NE,iO(i)),_i(DE,NE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO=5*60,aO=fT("authIdTokenMaxAge")||sO;let OE=null;const oO=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>aO)return;const o=n?.token;OE!==o&&(OE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function lO(i=Rp()){const e=Qh(i,"auth");if(e.isInitialized())return e.getImmediate();const n=ID(i,{popupRedirectResolver:tO,persistence:[fN,eN,RS]}),s=fT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=oO(u.toString());XD(n,f,()=>f(n.currentUser)),WD(n,m=>f(m))}}const o=uT("auth");return o&&ND(n,`http://${o}`),n}function uO(){return document.getElementsByTagName("head")?.[0]??document}TD({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=Si("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",uO().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});rO("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS="firebasestorage.googleapis.com",MS="storageBucket",cO=2*60*1e3,hO=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt extends Ri{constructor(e,n,s=0){super(Pm(e),`Firebase Storage: ${n} (${Pm(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,mt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Pm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var dt;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(dt||(dt={}));function Pm(i){return"storage/"+i}function Eg(){const i="An unknown error occurred, please check the error payload for server response.";return new mt(dt.UNKNOWN,i)}function fO(i){return new mt(dt.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function dO(i){return new mt(dt.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function mO(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new mt(dt.UNAUTHENTICATED,i)}function pO(){return new mt(dt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function gO(i){return new mt(dt.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function yO(){return new mt(dt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function _O(){return new mt(dt.CANCELED,"User canceled the upload/download.")}function vO(i){return new mt(dt.INVALID_URL,"Invalid URL '"+i+"'.")}function EO(i){return new mt(dt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function TO(){return new mt(dt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+MS+"' property when initializing the app?")}function bO(){return new mt(dt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function SO(){return new mt(dt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function AO(i){return new mt(dt.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function yp(i){return new mt(dt.INVALID_ARGUMENT,i)}function VS(){return new mt(dt.APP_DELETED,"The Firebase app was deleted.")}function wO(i){return new mt(dt.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function lu(i,e){return new mt(dt.INVALID_FORMAT,"String does not match format '"+i+"': "+e)}function Ql(i){throw new mt(dt.INTERNAL_ERROR,"Internal error: "+i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=An.makeFromUrl(e,n)}catch{return new An(e,"")}if(s.path==="")return s;throw EO(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(le){le.path.charAt(le.path.length-1)==="/"&&(le.path_=le.path_.slice(0,-1))}const f="(/(.*))?$",m=new RegExp("^gs://"+o+f,"i"),p={bucket:1,path:3};function g(le){le.path_=decodeURIComponent(le.path)}const E="v[A-Za-z0-9_]+",S=n.replace(/[.]/g,"\\."),R="(/([^?#]*).*)?$",L=new RegExp(`^https?://${S}/${E}/b/${o}/o${R}`,"i"),j={bucket:1,path:3},Y=n===kS?"(?:storage.googleapis.com|storage.cloud.google.com)":n,U="([^?#]*)",ie=new RegExp(`^https?://${Y}/${o}/${U}`,"i"),ee=[{regex:m,indices:p,postModify:u},{regex:L,indices:j,postModify:g},{regex:ie,indices:{bucket:1,path:2},postModify:g}];for(let le=0;le<ee.length;le++){const se=ee[le],ae=se.regex.exec(e);if(ae){const C=ae[se.indices.bucket];let w=ae[se.indices.path];w||(w=""),s=new An(C,w),se.postModify(s);break}}if(s==null)throw vO(e);return s}}class RO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xO(i,e,n){let s=1,o=null,u=null,f=!1,m=0;function p(){return m===2}let g=!1;function E(...U){g||(g=!0,e.apply(null,U))}function S(U){o=setTimeout(()=>{o=null,i(L,p())},U)}function R(){u&&clearTimeout(u)}function L(U,...ie){if(g){R();return}if(U){R(),E.call(null,U,...ie);return}if(p()||f){R(),E.call(null,U,...ie);return}s<64&&(s*=2);let ee;m===1?(m=2,ee=0):ee=(s+Math.random())*1e3,S(ee)}let j=!1;function Y(U){j||(j=!0,R(),!g&&(o!==null?(U||(m=2),clearTimeout(o),S(0)):U||(m=1)))}return S(0),u=setTimeout(()=>{f=!0,Y(!0)},n),Y}function CO(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IO(i){return i!==void 0}function DO(i){return typeof i=="object"&&!Array.isArray(i)}function Tg(i){return typeof i=="string"||i instanceof String}function kE(i){return bg()&&i instanceof Blob}function bg(){return typeof Blob<"u"}function ME(i,e,n,s){if(s<e)throw yp(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>n)throw yp(`Invalid value for '${i}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(i,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${i}`}function PS(i){const e=encodeURIComponent;let n="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var ia;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(ia||(ia={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NO(i,e){const n=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e,n,s,o,u,f,m,p,g,E,S,R=!0,L=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=E,this.connectionFactory_=S,this.retry=R,this.isUsingEmulator=L,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((j,Y)=>{this.resolve_=j,this.reject_=Y,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new ah(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const f=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const m=u.getErrorCode()===ia.NO_ERROR,p=u.getStatus();if(!m||NO(p,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===ia.ABORT;s(!1,new ah(!1,null,E));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new ah(g,u))})},n=(s,o)=>{const u=this.resolve_,f=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());IO(p)?u(p):u()}catch(p){f(p)}else if(m!==null){const p=Eg();p.serverResponse=m.getErrorText(),this.errorCallback_?f(this.errorCallback_(m,p)):f(p)}else if(o.canceled){const p=this.appDelete_?VS():_O();f(p)}else{const p=yO();f(p)}};this.canceled_?n(!1,new ah(!1,null,!0)):this.backoffId_=xO(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&CO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ah{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function kO(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function MO(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function VO(i,e){e&&(i["X-Firebase-GMPID"]=e)}function PO(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function UO(i,e,n,s,o,u,f=!0,m=!1){const p=PS(i.urlParams),g=i.url+p,E=Object.assign({},i.headers);return VO(E,e),kO(E,n),MO(E,u),PO(E,s),new OO(g,i.method,E,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,f,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function jO(...i){const e=LO();if(e!==void 0){const n=new e;for(let s=0;s<i.length;s++)n.append(i[s]);return n.getBlob()}else{if(bg())return new Blob(i);throw new mt(dt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function zO(i,e,n){return i.webkitSlice?i.webkitSlice(e,n):i.mozSlice?i.mozSlice(e,n):i.slice?i.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BO(i){if(typeof atob>"u")throw AO("base-64");return atob(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Um{constructor(e,n){this.data=e,this.contentType=n||null}}function qO(i,e){switch(i){case yi.RAW:return new Um(US(e));case yi.BASE64:case yi.BASE64URL:return new Um(LS(i,e));case yi.DATA_URL:return new Um(HO(e),GO(e))}throw Eg()}function US(i){const e=[];for(let n=0;n<i.length;n++){let s=i.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<i.length-1&&(i.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const u=s,f=i.charCodeAt(++n);s=65536|(u&1023)<<10|f&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function FO(i){let e;try{e=decodeURIComponent(i)}catch{throw lu(yi.DATA_URL,"Malformed data URL.")}return US(e)}function LS(i,e){switch(i){case yi.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw lu(i,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case yi.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw lu(i,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=BO(e)}catch(o){throw o.message.includes("polyfill")?o:lu(i,"Invalid character found")}const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}class jS{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw lu(yi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=KO(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function HO(i){const e=new jS(i);return e.base64?LS(yi.BASE64,e.rest):FO(e.rest)}function GO(i){return new jS(i).contentType}function KO(i,e){return i.length>=e.length?i.substring(i.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e,n){let s=0,o="";kE(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(kE(this.data_)){const s=this.data_,o=zO(s,e,n);return o===null?null:new Xr(o)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new Xr(s,!0)}}static getBlob(...e){if(bg()){const n=e.map(s=>s instanceof Xr?s.data_:s);return new Xr(jO.apply(null,n))}else{const n=e.map(f=>Tg(f)?qO(yi.RAW,f).data:f.data_);let s=0;n.forEach(f=>{s+=f.byteLength});const o=new Uint8Array(s);let u=0;return n.forEach(f=>{for(let m=0;m<f.length;m++)o[u++]=f[m]}),new Xr(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(i){let e;try{e=JSON.parse(i)}catch{return null}return DO(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QO(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function YO(i,e){const n=e.split("/").filter(s=>s.length>0).join("/");return i.length===0?n:i+"/"+n}function BS(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WO(i,e){return e}class an{constructor(e,n,s,o){this.server=e,this.local=n||e,this.writable=!!s,this.xform=o||WO}}let oh=null;function XO(i){return!Tg(i)||i.length<2?i:BS(i)}function qS(){if(oh)return oh;const i=[];i.push(new an("bucket")),i.push(new an("generation")),i.push(new an("metageneration")),i.push(new an("name","fullPath",!0));function e(u,f){return XO(f)}const n=new an("name");n.xform=e,i.push(n);function s(u,f){return f!==void 0?Number(f):f}const o=new an("size");return o.xform=s,i.push(o),i.push(new an("timeCreated")),i.push(new an("updated")),i.push(new an("md5Hash",null,!0)),i.push(new an("cacheControl",null,!0)),i.push(new an("contentDisposition",null,!0)),i.push(new an("contentEncoding",null,!0)),i.push(new an("contentLanguage",null,!0)),i.push(new an("contentType",null,!0)),i.push(new an("metadata","customMetadata",!0)),oh=i,oh}function $O(i,e){function n(){const s=i.bucket,o=i.fullPath,u=new An(s,o);return e._makeStorageReference(u)}Object.defineProperty(i,"ref",{get:n})}function ZO(i,e,n){const s={};s.type="file";const o=n.length;for(let u=0;u<o;u++){const f=n[u];s[f.local]=f.xform(s,e[f.server])}return $O(s,i),s}function FS(i,e,n){const s=zS(e);return s===null?null:ZO(i,s,n)}function JO(i,e,n,s){const o=zS(e);if(o===null||!Tg(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const f=encodeURIComponent;return u.split(",").map(g=>{const E=i.bucket,S=i.fullPath,R="/b/"+f(E)+"/o/"+f(S),L=Sg(R,n,s),j=PS({alt:"media",token:g});return L+j})[0]}function ek(i,e){const n={},s=e.length;for(let o=0;o<s;o++){const u=e[o];u.writable&&(n[u.server]=i[u.local])}return JSON.stringify(n)}class HS{constructor(e,n,s,o){this.url=e,this.method=n,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(i){if(!i)throw Eg()}function tk(i,e){function n(s,o){const u=FS(i,o,e);return GS(u!==null),u}return n}function nk(i,e){function n(s,o){const u=FS(i,o,e);return GS(u!==null),JO(u,o,i.host,i._protocol)}return n}function KS(i){function e(n,s){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=pO():o=mO():n.getStatus()===402?o=dO(i.bucket):n.getStatus()===403?o=gO(i.path):o=s,o.status=n.getStatus(),o.serverResponse=s.serverResponse,o}return e}function ik(i){const e=KS(i);function n(s,o){let u=e(s,o);return s.getStatus()===404&&(u=fO(i.path)),u.serverResponse=o.serverResponse,u}return n}function rk(i,e,n){const s=e.fullServerUrl(),o=Sg(s,i.host,i._protocol),u="GET",f=i.maxOperationRetryTime,m=new HS(o,u,nk(i,n),f);return m.errorHandler=ik(e),m}function sk(i,e){return i&&i.contentType||e&&e.type()||"application/octet-stream"}function ak(i,e,n){const s=Object.assign({},n);return s.fullPath=i.path,s.size=e.size(),s.contentType||(s.contentType=sk(null,e)),s}function ok(i,e,n,s,o){const u=e.bucketOnlyServerUrl(),f={"X-Goog-Upload-Protocol":"multipart"};function m(){let ee="";for(let le=0;le<2;le++)ee=ee+Math.random().toString().slice(2);return ee}const p=m();f["Content-Type"]="multipart/related; boundary="+p;const g=ak(e,s,o),E=ek(g,n),S="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+E+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,R=`\r
--`+p+"--",L=Xr.getBlob(S,s,R);if(L===null)throw bO();const j={name:g.fullPath},Y=Sg(u,i.host,i._protocol),U="POST",ie=i.maxUploadRetryTime,ne=new HS(Y,U,tk(i,n),ie);return ne.urlParams=j,ne.headers=f,ne.body=L.uploadData(),ne.errorHandler=KS(e),ne}class lk{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ia.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ia.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ia.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,o,u){if(this.sent_)throw Ql("cannot .send() more than once");if(hs(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),u!==void 0)for(const f in u)u.hasOwnProperty(f)&&this.xhr_.setRequestHeader(f,u[f].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ql("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ql("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ql("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ql("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class uk extends lk{initXhr(){this.xhr_.responseType="text"}}function QS(){return new uk}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,n){this._service=e,n instanceof An?this._location=n:this._location=An.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ca(e,n)}get root(){const e=new An(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return BS(this._location.path)}get storage(){return this._service}get parent(){const e=QO(this._location.path);if(e===null)return null;const n=new An(this._location.bucket,e);return new ca(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw wO(e)}}function ck(i,e,n){i._throwIfRoot("uploadBytes");const s=ok(i.storage,i._location,qS(),new Xr(e,!0),n);return i.storage.makeRequestWithTokens(s,QS).then(o=>({metadata:o,ref:i}))}function hk(i){i._throwIfRoot("getDownloadURL");const e=rk(i.storage,i._location,qS());return i.storage.makeRequestWithTokens(e,QS).then(n=>{if(n===null)throw SO();return n})}function fk(i,e){const n=YO(i._location.path,e),s=new An(i._location.bucket,n);return new ca(i.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dk(i){return/^[A-Za-z]+:\/\//.test(i)}function mk(i,e){return new ca(i,e)}function YS(i,e){if(i instanceof Ag){const n=i;if(n._bucket==null)throw TO();const s=new ca(n,n._bucket);return e!=null?YS(s,e):s}else return e!==void 0?fk(i,e):i}function pk(i,e){if(e&&dk(e)){if(i instanceof Ag)return mk(i,e);throw yp("To use ref(service, url), the first argument must be a Storage instance.")}else return YS(i,e)}function VE(i,e){const n=e?.[MS];return n==null?null:An.makeFromBucketSpec(n,i)}function gk(i,e,n,s={}){i.host=`${e}:${n}`;const o=hs(e);o&&(bp(`https://${i.host}/b`),Sp("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(i._overrideAuthToken=typeof u=="string"?u:dT(u,i.app.options.projectId))}class Ag{constructor(e,n,s,o,u,f=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=f,this._bucket=null,this._host=kS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=cO,this._maxUploadRetryTime=hO,this._requests=new Set,o!=null?this._bucket=An.makeFromBucketSpec(o,this._host):this._bucket=VE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=An.makeFromBucketSpec(this._url,e):this._bucket=VE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){ME("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){ME("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ca(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new RO(VS());{const f=UO(e,this._appId,s,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const PE="@firebase/storage",UE="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS="storage";function XS(i,e,n){return i=st(i),ck(i,e,n)}function $S(i){return i=st(i),hk(i)}function ZS(i,e){return i=st(i),pk(i,e)}function yk(i=Rp(),e){i=st(i);const s=Qh(i,WS).getImmediate({identifier:e}),o=cT("storage");return o&&_k(s,...o),s}function _k(i,e,n,s={}){gk(i,e,n,s)}function vk(i,{instanceIdentifier:e}){const n=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new Ag(n,s,o,e,da)}function Ek(){sa(new rs(WS,vk,"PUBLIC").setMultipleInstances(!0)),_i(PE,UE,""),_i(PE,UE,"esm2020")}Ek();const Tk={apiKey:"AIzaSyD-7jepN9PAOze4SNQJ4pgYThvfwNylMpE",authDomain:"velas-santamarta.firebaseapp.com",projectId:"velas-santamarta",storageBucket:"velas-santamarta.firebasestorage.app",messagingSenderId:"643690285491",appId:"1:643690285491:web:3bc9600444cf0972ace3c6",measurementId:"G-VW13682S10"},wg=gT(Tk),uu=lO(wg),wn=D2(wg),JS=yk(wg);function Io(i,...e){const[n,s]=Q.useState([]),[o,u]=Q.useState(!0);return Q.useEffect(()=>{const f=e.length?z2(Tu(wn,i),...e):Tu(wn,i),m=$b(f,p=>{s(p.docs.map(g=>({id:g.id,...g.data()}))),u(!1)});return()=>m()},[i]),{data:n,loading:o}}const bk=({product:i})=>{const[e,n]=Q.useState(!1),s=i.images?.length?i.images:i.imageUrl?[i.imageUrl]:[],o=s.length>=2;return T.jsxs("div",{style:{backgroundColor:"var(--vsm-white)",borderRadius:"6px",overflow:"hidden",boxShadow:"0 2px 10px rgba(0,0,0,0.07)"},children:[T.jsxs("div",{style:{position:"relative",aspectRatio:"1",backgroundColor:"#F0EBE3",overflow:"hidden",cursor:o?"pointer":"default"},onMouseEnter:()=>o&&n(!0),onMouseLeave:()=>n(!1),children:[i.stock===0&&T.jsx("span",{style:{position:"absolute",top:"8px",left:"8px",zIndex:2,backgroundColor:"#DC2626",color:"#fff",fontSize:"10px",fontWeight:700,padding:"3px 8px",textTransform:"uppercase",letterSpacing:"0.08em",borderRadius:"2px"},children:"Agotado"}),s.length>0?T.jsxs(T.Fragment,{children:[T.jsx("img",{src:s[0],alt:i.name,style:{position:"absolute",inset:0,width:"100%",height:"100%",objectFit:"cover",opacity:e?0:1,transition:"opacity 0.4s ease"}}),s[1]&&T.jsx("img",{src:s[1],alt:i.name,style:{position:"absolute",inset:0,width:"100%",height:"100%",objectFit:"cover",opacity:e?1:0,transition:"opacity 0.4s ease"}})]}):T.jsx("div",{className:"w-full h-full flex items-center justify-center text-6xl",children:""})]}),T.jsxs("div",{style:{padding:"1rem"},children:[T.jsx("h3",{style:{fontSize:"13px",fontWeight:600,marginBottom:"4px",color:"var(--vsm-black)"},children:i.name}),T.jsx("p",{style:{fontSize:"10px",color:"var(--vsm-gray-mid)",marginBottom:"8px",lineHeight:1.5,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:i.description}),T.jsx("p",{style:{fontSize:"16px",fontWeight:800,color:"var(--vsm-black)",marginBottom:"12px"},children:new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",maximumFractionDigits:0}).format(i.price)}),T.jsx(ti,{to:`/producto/${i.id}`,style:{display:"block",textAlign:"center",backgroundColor:i.stock===0?"var(--vsm-gray-mid)":"var(--vsm-brand)",color:"#fff",fontSize:"11px",fontWeight:700,padding:"10px",textTransform:"uppercase",letterSpacing:"0.07em",borderRadius:"4px",textDecoration:"none",pointerEvents:i.stock===0?"none":"auto"},className:"hover:opacity-90 transition-opacity",children:i.stock===0?"Agotado":"Ver producto"})]})]})},Sk=()=>T.jsxs("div",{style:{backgroundColor:"var(--vsm-white)",borderRadius:"6px",overflow:"hidden",boxShadow:"0 2px 10px rgba(0,0,0,0.07)"},children:[T.jsx("div",{style:{aspectRatio:"1",backgroundColor:"var(--vsm-gray)",animation:"pulse 1.5s ease-in-out infinite"}}),T.jsxs("div",{style:{padding:"1rem",display:"flex",flexDirection:"column",gap:"8px"},children:[T.jsx("div",{style:{height:"13px",backgroundColor:"var(--vsm-gray)",borderRadius:"3px",width:"70%",animation:"pulse 1.5s ease-in-out infinite"}}),T.jsx("div",{style:{height:"10px",backgroundColor:"var(--vsm-gray)",borderRadius:"3px",width:"90%",animation:"pulse 1.5s ease-in-out infinite"}}),T.jsx("div",{style:{height:"20px",backgroundColor:"var(--vsm-gray)",borderRadius:"3px",width:"45%",animation:"pulse 1.5s ease-in-out infinite"}})]})]}),Ak=()=>{const{data:i,loading:e}=Io("products");return T.jsx("section",{style:{backgroundColor:"var(--vsm-bg)"},className:"py-20 px-8",children:T.jsxs("div",{className:"max-w-7xl mx-auto",children:[T.jsx("h2",{style:{fontWeight:800,fontSize:"1.6rem",color:"var(--vsm-black)",marginBottom:"1.75rem"},children:"Nuestros Productos"}),e?T.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-5",children:Array.from({length:6}).map((n,s)=>T.jsx(Sk,{},s))}):i.length===0?T.jsx("p",{style:{color:"var(--vsm-gray-mid)",fontSize:"14px"},children:"No hay productos disponibles an."}):T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-5",children:i.map(n=>T.jsx(bk,{product:n},n.id))}),T.jsx("div",{style:{textAlign:"center",marginTop:"2.5rem"},children:T.jsx(ti,{to:"/juguetes",style:{color:"var(--vsm-brand)",fontWeight:700,fontSize:"13px",textDecoration:"underline",textUnderlineOffset:"4px"},children:"Ver todos los productos "})})]})]})})},wk=[{icon:"",name:"Velas de Soya"},{icon:"",name:"Velas de Cera de Abeja"},{icon:"",name:"Velas Decorativas"},{icon:"",name:"Velas Aromticas"}],Rk=()=>T.jsx("section",{style:{backgroundColor:"var(--vsm-white)"},className:"py-20 px-8",children:T.jsxs("div",{className:"max-w-7xl mx-auto",children:[T.jsx("h2",{style:{fontWeight:800,fontSize:"1.6rem",textAlign:"center",color:"var(--vsm-black)",marginBottom:"1rem"},children:"Tipos de Velas Artesanales"}),T.jsx("p",{style:{color:"var(--vsm-gray-mid)",textAlign:"center",maxWidth:"650px",margin:"0 auto 2.5rem",lineHeight:1.8,fontSize:"14px"},children:"Ofrecemos ms de 6 tipos de velas artesanales con variedad de diseos y ms de 10 aromas exclusivos para crear la experiencia perfecta en tu hogar o como regalo especial."}),T.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-5",children:wk.map(i=>T.jsxs(ti,{to:"/juguetes",style:{backgroundColor:"var(--vsm-white)",borderRadius:"8px",overflow:"hidden",boxShadow:"0 2px 12px rgba(0,0,0,0.08)",textDecoration:"none"},className:"hover:shadow-md transition-shadow",children:[T.jsx("div",{style:{backgroundColor:"#FBF6F0",aspectRatio:"1",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"3rem"},children:i.icon}),T.jsx("p",{style:{fontWeight:700,fontSize:"13px",padding:"0.75rem",textAlign:"center",color:"var(--vsm-black)"},children:i.name})]},i.name))})]})}),xk=[{stars:5,text:'"Las velas ms hermosas que he tenido. El aroma a coco me transporta directamente al Caribe. Las recomiendo 100%!"',author:"Mara Martnez, Bogot"},{stars:5,text:'"Compr el pack de lavanda y sndalo para regalar y quedaron fascinados. La presentacin es preciosa y el aroma dura muchsimo."',author:"Andrs Gmez, Medelln"},{stars:5,text:'"Calidad artesanal increble. Se nota que estn hechas con amor y buenos materiales. Ya ped mi tercer pedido."',author:"Luca Herrera, Cali"}],Ck=()=>T.jsx("section",{id:"nosotros",style:{backgroundColor:"var(--vsm-bg)"},className:"py-20 px-8",children:T.jsxs("div",{className:"max-w-7xl mx-auto",children:[T.jsx("h2",{style:{fontWeight:800,fontSize:"1.6rem",textAlign:"center",color:"var(--vsm-black)",marginBottom:"2.5rem"},children:"Lo que dicen nuestros clientes"}),T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:xk.map((i,e)=>T.jsxs("div",{style:{backgroundColor:"var(--vsm-white)",borderRadius:"8px",padding:"1.5rem",boxShadow:"0 2px 10px rgba(0,0,0,0.06)"},children:[T.jsx("div",{style:{fontSize:"14px",color:"#F5A623",marginBottom:"0.75rem"},children:"".repeat(i.stars)}),T.jsx("p",{style:{color:"var(--vsm-gray-mid)",fontSize:"14px",lineHeight:1.75,marginBottom:"1rem",fontStyle:"italic"},children:i.text}),T.jsxs("p",{style:{fontWeight:700,fontSize:"12px",color:"var(--vsm-black)"},children:[" ",i.author]})]},e))})]})}),Ik=()=>T.jsxs("section",{style:{backgroundColor:"var(--vsm-brand)",color:"#fff"},className:"py-16 px-8 text-center",children:[T.jsx("h2",{style:{fontWeight:800,fontSize:"1.75rem",marginBottom:"0.5rem"},children:"Regstrate y obtn 10% OFF"}),T.jsx("p",{style:{fontSize:"15px",opacity:.85,marginBottom:"2rem"},children:"en tu primera compra"}),T.jsxs("form",{className:"flex flex-col sm:flex-row gap-3 max-w-md mx-auto",onSubmit:i=>i.preventDefault(),children:[T.jsx("input",{type:"email",placeholder:"tu@correo.com",style:{flex:1,padding:"12px 16px",borderRadius:"5px",border:"none",fontSize:"14px",outline:"none",color:"var(--vsm-black)"}}),T.jsx("button",{type:"submit",style:{backgroundColor:"#111",color:"#fff",padding:"12px 24px",borderRadius:"5px",border:"none",fontSize:"12px",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.07em",cursor:"pointer",whiteSpace:"nowrap"},className:"hover:opacity-90 transition-opacity",children:"Obtener mi 10% OFF"})]})]}),LE=()=>T.jsxs("div",{className:"w-full",children:[T.jsx(Ww,{}),T.jsx($w,{}),T.jsx(Ak,{}),T.jsx(Rk,{}),T.jsx(Ck,{}),T.jsx(Ik,{})]}),jE={width:"100%",padding:"10px 14px",border:"1px solid var(--vsm-gray)",borderRadius:"5px",fontSize:"14px",fontFamily:"inherit",outline:"none",color:"var(--vsm-black)",backgroundColor:"var(--vsm-white)",transition:"border-color 0.2s"},zE={fontSize:"13px",fontWeight:700,color:"var(--vsm-black)",display:"block",marginBottom:"6px"},Dk=()=>{const[i,e]=$n.useState(""),[n,s]=$n.useState(""),[o,u]=$n.useState(null),[f,m]=$n.useState(!1),p=No(),g=async E=>{E.preventDefault(),m(!0);try{await KD(uu,i,n),u(null),p("/Admin")}catch{u("Correo o contrasea incorrectos. Por favor verifica tus datos."),s("")}finally{m(!1)}};return T.jsx("div",{style:{minHeight:"calc(100vh - 96px)",display:"flex",alignItems:"center",justifyContent:"center",padding:"2rem"},className:"w-full",children:T.jsxs("div",{style:{backgroundColor:"var(--vsm-white)",borderRadius:"8px",boxShadow:"0 4px 24px rgba(0,0,0,0.09)",padding:"2.5rem",width:"100%",maxWidth:"420px"},children:[T.jsx("h2",{style:{fontWeight:800,fontSize:"1.6rem",color:"var(--vsm-black)",marginBottom:"0.4rem"},children:"Acceder"}),T.jsxs("p",{style:{color:"var(--vsm-gray-mid)",fontSize:"13px",marginBottom:"2rem"},children:["No tienes cuenta?"," ",T.jsx(ti,{to:"/Register",style:{color:"var(--vsm-brand)",fontWeight:700,textDecoration:"underline",textUnderlineOffset:"3px"},children:"Regstrate aqu"})]}),T.jsxs("form",{onSubmit:g,noValidate:!0,children:[T.jsxs("div",{style:{marginBottom:"1.25rem"},children:[T.jsxs("label",{htmlFor:"email",style:zE,children:["Nombre de usuario o correo electrnico"," ",T.jsx("span",{style:{color:"#DC2626"},children:"*"})]}),T.jsx("input",{type:"email",id:"email",value:i,onChange:E=>e(E.target.value),onFocus:E=>E.currentTarget.style.borderColor="var(--vsm-brand)",onBlur:E=>E.currentTarget.style.borderColor="var(--vsm-gray)",required:!0,style:jE})]}),T.jsxs("div",{style:{marginBottom:"1.25rem"},children:[T.jsxs("label",{htmlFor:"password",style:zE,children:["Contrasea ",T.jsx("span",{style:{color:"#DC2626"},children:"*"})]}),T.jsx("input",{type:"password",id:"password",value:n,onChange:E=>s(E.target.value),onFocus:E=>E.currentTarget.style.borderColor="var(--vsm-brand)",onBlur:E=>E.currentTarget.style.borderColor="var(--vsm-gray)",required:!0,style:jE})]}),T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"1.5rem"},children:[T.jsx("input",{type:"checkbox",id:"remember",style:{width:"15px",height:"15px",accentColor:"var(--vsm-brand)",cursor:"pointer"}}),T.jsx("label",{htmlFor:"remember",style:{fontSize:"13px",color:"var(--vsm-gray-mid)",cursor:"pointer"},children:"Recurdame"})]}),o&&T.jsx("div",{style:{backgroundColor:"#FEF2F2",border:"1px solid #FECACA",borderRadius:"5px",padding:"10px 14px",marginBottom:"1rem"},children:T.jsx("p",{style:{color:"#DC2626",fontSize:"13px",fontWeight:600},children:o})}),T.jsx("button",{type:"submit",disabled:f,style:{width:"100%",backgroundColor:"var(--vsm-brand)",color:"#fff",padding:"12px",borderRadius:"5px",border:"none",fontSize:"13px",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.07em",cursor:f?"not-allowed":"pointer",opacity:f?.75:1,transition:"opacity 0.2s",fontFamily:"inherit"},children:f?"Verificando...":"Acceso"}),T.jsx("p",{style:{textAlign:"center",marginTop:"1rem"},children:T.jsx("a",{href:"#",style:{color:"var(--vsm-gray-mid)",fontSize:"12px",textDecoration:"underline",textUnderlineOffset:"3px"},onClick:E=>E.preventDefault(),children:"Olvidaste la contrasea?"})})]})]})})},lh={width:"100%",padding:"10px 14px",border:"1px solid var(--vsm-gray)",borderRadius:"5px",fontSize:"14px",fontFamily:"inherit",outline:"none",color:"var(--vsm-black)",backgroundColor:"var(--vsm-white)",transition:"border-color 0.2s"},uh={fontSize:"13px",fontWeight:700,color:"var(--vsm-black)",display:"block",marginBottom:"6px"},Nk=()=>{const[i,e]=$n.useState(""),[n,s]=$n.useState(""),[o,u]=$n.useState(""),[f,m]=$n.useState(""),[p,g]=$n.useState(null),[E,S]=$n.useState(!1),R=No(),L=async j=>{if(j.preventDefault(),i.trim().length===0){g("Ingresa tu nombre completo.");return}if(o!==f){g("Las contraseas no coinciden.");return}if(o.length<6){g("La contrasea debe tener al menos 6 caracteres.");return}S(!0);try{const Y=await GD(uu,n,o);await YD(Y.user,{displayName:i.trim()}),g(null),R("/Login")}catch(Y){Y.code==="auth/email-already-in-use"?g("Este correo ya est registrado. Intenta iniciar sesin."):g("Error al crear la cuenta. Por favor intenta de nuevo."),u(""),m("")}finally{S(!1)}};return T.jsx("div",{style:{minHeight:"calc(100vh - 96px)",display:"flex",alignItems:"center",justifyContent:"center",padding:"2rem"},className:"w-full",children:T.jsxs("div",{style:{backgroundColor:"var(--vsm-white)",borderRadius:"8px",boxShadow:"0 4px 24px rgba(0,0,0,0.09)",padding:"2.5rem",width:"100%",maxWidth:"420px"},children:[T.jsx("h2",{style:{fontWeight:800,fontSize:"1.6rem",color:"var(--vsm-black)",marginBottom:"0.4rem"},children:"Crear cuenta"}),T.jsxs("p",{style:{color:"var(--vsm-gray-mid)",fontSize:"13px",marginBottom:"2rem"},children:["Ya tienes cuenta?"," ",T.jsx(ti,{to:"/Login",style:{color:"var(--vsm-brand)",fontWeight:700,textDecoration:"underline",textUnderlineOffset:"3px"},children:"Inicia sesin aqu"})]}),T.jsxs("form",{onSubmit:L,noValidate:!0,children:[T.jsxs("div",{style:{marginBottom:"1.25rem"},children:[T.jsxs("label",{htmlFor:"name",style:uh,children:["Nombre completo ",T.jsx("span",{style:{color:"#DC2626"},children:"*"})]}),T.jsx("input",{type:"text",id:"name",value:i,onChange:j=>e(j.target.value),onFocus:j=>j.currentTarget.style.borderColor="var(--vsm-brand)",onBlur:j=>j.currentTarget.style.borderColor="var(--vsm-gray)",required:!0,style:lh})]}),T.jsxs("div",{style:{marginBottom:"1.25rem"},children:[T.jsxs("label",{htmlFor:"email",style:uh,children:["Correo electrnico ",T.jsx("span",{style:{color:"#DC2626"},children:"*"})]}),T.jsx("input",{type:"email",id:"email",value:n,onChange:j=>s(j.target.value),onFocus:j=>j.currentTarget.style.borderColor="var(--vsm-brand)",onBlur:j=>j.currentTarget.style.borderColor="var(--vsm-gray)",required:!0,style:lh})]}),T.jsxs("div",{style:{marginBottom:"1.25rem"},children:[T.jsxs("label",{htmlFor:"password",style:uh,children:["Contrasea ",T.jsx("span",{style:{color:"#DC2626"},children:"*"})]}),T.jsx("input",{type:"password",id:"password",value:o,onChange:j=>u(j.target.value),onFocus:j=>j.currentTarget.style.borderColor="var(--vsm-brand)",onBlur:j=>j.currentTarget.style.borderColor="var(--vsm-gray)",required:!0,style:lh}),T.jsx("p",{style:{fontSize:"11px",color:"var(--vsm-gray-mid)",marginTop:"5px"},children:"Mnimo 6 caracteres."})]}),T.jsxs("div",{style:{marginBottom:"1.5rem"},children:[T.jsxs("label",{htmlFor:"confirmPassword",style:uh,children:["Confirmar contrasea ",T.jsx("span",{style:{color:"#DC2626"},children:"*"})]}),T.jsx("input",{type:"password",id:"confirmPassword",value:f,onChange:j=>m(j.target.value),onFocus:j=>j.currentTarget.style.borderColor="var(--vsm-brand)",onBlur:j=>j.currentTarget.style.borderColor="var(--vsm-gray)",required:!0,style:lh})]}),T.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"8px",marginBottom:"1.5rem"},children:[T.jsx("input",{type:"checkbox",id:"privacy",required:!0,style:{width:"15px",height:"15px",marginTop:"2px",accentColor:"var(--vsm-brand)",cursor:"pointer",flexShrink:0}}),T.jsxs("label",{htmlFor:"privacy",style:{fontSize:"12px",color:"var(--vsm-gray-mid)",cursor:"pointer",lineHeight:1.6},children:["He ledo y acepto la"," ",T.jsx("a",{href:"#",style:{color:"var(--vsm-brand)",textDecoration:"underline",textUnderlineOffset:"3px"},children:"Poltica de privacidad"})]})]}),p&&T.jsx("div",{style:{backgroundColor:"#FEF2F2",border:"1px solid #FECACA",borderRadius:"5px",padding:"10px 14px",marginBottom:"1rem"},children:T.jsx("p",{style:{color:"#DC2626",fontSize:"13px",fontWeight:600},children:p})}),T.jsx("button",{type:"submit",disabled:E,style:{width:"100%",backgroundColor:"var(--vsm-brand)",color:"#fff",padding:"12px",borderRadius:"5px",border:"none",fontSize:"13px",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.07em",cursor:E?"not-allowed":"pointer",opacity:E?.75:1,transition:"opacity 0.2s",fontFamily:"inherit"},children:E?"Creando cuenta...":"Registrarme"})]})]})})},Ok=5*60*1e3,BE=["mousemove","mousedown","keydown","scroll","touchstart","click"],e1=Q.createContext({user:null,loading:!0,logout:async()=>{}}),kk=({children:i})=>{const[e,n]=Q.useState(null),[s,o]=Q.useState(!0),u=Q.useRef(null),f=async()=>{u.current&&clearTimeout(u.current),await SE(uu)};return Q.useEffect(()=>{const m=$D(uu,p=>{n(p),o(!1)});return()=>m()},[]),Q.useEffect(()=>{if(!e){u.current&&clearTimeout(u.current);return}const m=()=>{u.current&&clearTimeout(u.current),u.current=setTimeout(()=>SE(uu),Ok)};return BE.forEach(p=>window.addEventListener(p,m,{passive:!0})),m(),()=>{BE.forEach(p=>window.removeEventListener(p,m)),u.current&&clearTimeout(u.current)}},[e]),T.jsx(e1.Provider,{value:{user:e,loading:s,logout:f},children:i})},Rg=()=>Q.useContext(e1);function Mk(){const[i,e]=Q.useState(null),[n,s]=Q.useState(!0);return Q.useEffect(()=>{const o=$b(tr(wn,"settings","general"),u=>{u.exists()?e(u.data()):e(null),s(!1)},()=>{e(null),s(!1)});return()=>o()},[]),{settings:i,loading:n}}const t1="/tiendaVirtual/assets/Logo-CuQzCToE.jpeg",Vk=[{to:"/",text:"Inicio"},{to:"/juguetes",text:"+ Productos"},{to:"/#nosotros",text:"Nosotros"},{to:"/contacto",text:"Contacto"}],Pk=()=>{const{user:i,logout:e}=Rg(),n=No(),{settings:s,loading:o}=Mk(),u=s?.logoUrl||t1,f=async()=>{await e(),n("/Login")};return T.jsx("header",{style:{position:"fixed",top:0,width:"100%",zIndex:40},children:T.jsxs("nav",{style:{backgroundColor:"var(--vsm-white)",borderBottom:"1px solid var(--vsm-gray)"},className:"flex justify-between items-center py-3 px-8",children:[T.jsxs(Kl,{to:"/",className:"flex items-center gap-2 hover:opacity-80 transition-opacity",children:[T.jsx("img",{src:u,alt:"Velas Santa Marta",style:{height:"38px",width:"auto",objectFit:"contain"}}),!o&&T.jsx("div",{children:s?.storeName?T.jsx("span",{style:{fontWeight:800,fontSize:"1rem",color:"#111",display:"block",lineHeight:1.2},children:s.storeName}):T.jsx(T.Fragment,{})})]}),T.jsx("ul",{className:"hidden md:flex items-center gap-8",children:Vk.map(m=>T.jsx("li",{children:T.jsx(Kl,{to:m.to,end:m.to==="/",style:({isActive:p})=>({color:"#111",fontWeight:p?700:600,fontSize:"13px",textDecoration:p?"underline":"none",textUnderlineOffset:"5px",textTransform:"uppercase",letterSpacing:"0.05em"}),className:"hover:opacity-60 transition-opacity",children:m.text})},m.to))}),T.jsx("div",{className:"flex items-center gap-4",children:i?T.jsxs(T.Fragment,{children:[T.jsx(Kl,{to:"/Admin",style:{color:"#111",fontSize:"12px",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.05em"},className:"hover:opacity-60 transition-opacity",children:"Admin"}),T.jsx("button",{onClick:f,style:{backgroundColor:"var(--vsm-black)",color:"#fff",fontSize:"11px",fontWeight:700,padding:"8px 16px",textTransform:"uppercase",letterSpacing:"0.05em",borderRadius:"4px",border:"none",cursor:"pointer",fontFamily:"inherit"},className:"hover:opacity-80 transition-opacity",children:"Cerrar sesin"})]}):T.jsxs(T.Fragment,{children:[T.jsx(Kl,{to:"/Login",style:{color:"#111",fontSize:"12px",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.05em"},className:"hover:opacity-60 transition-opacity",children:"Ingresar"}),T.jsx(Kl,{to:"/Register",style:{backgroundColor:"var(--vsm-brand)",color:"#fff",fontSize:"11px",fontWeight:700,padding:"8px 16px",textTransform:"uppercase",letterSpacing:"0.05em",borderRadius:"4px"},className:"hover:opacity-90 transition-opacity",children:"Registro"})]})})]})})},Uk=[{title:"Nuestras Polticas",links:[{label:"Privacidad",path:"/privacidad"},{label:"Trminos de uso",path:"/terminos"},{label:"Devoluciones",path:"/devoluciones"},{label:"Poltica de envo",path:"/envios"}]},{title:"Ms Informacin",links:[{label:"Contacto",path:"/contacto"},{label:"Nuestros aromas",path:"/aromas"},{label:"Cmo cuidar tu vela",path:"/cuidados"},{label:"Preguntas frecuentes",path:"/faq"}]}],Lk=()=>T.jsxs("footer",{style:{backgroundColor:"var(--vsm-white)",borderTop:"1px solid var(--vsm-gray)"},className:"py-14",children:[T.jsxs("div",{className:"max-w-7xl mx-auto px-8 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-10",children:[T.jsxs("div",{children:[T.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[T.jsx("img",{src:t1,alt:"Velas Santa Marta",style:{height:"36px",width:"auto",objectFit:"contain"}}),T.jsxs("div",{children:[T.jsx("span",{style:{fontWeight:800,fontSize:"1rem",display:"block",lineHeight:1.1,color:"var(--vsm-black)"},children:"Velas"}),T.jsx("span",{style:{fontWeight:600,fontSize:"0.6rem",color:"var(--vsm-brand)",letterSpacing:"0.12em",textTransform:"uppercase"},children:"Santa Marta"})]})]}),T.jsx("div",{className:"flex gap-3 mt-4",children:[{label:"IG",href:"#"},{label:"TK",href:"#"},{label:"FB",href:"#"},{label:"YT",href:"#"}].map(i=>T.jsx("a",{href:i.href,style:{width:"32px",height:"32px",borderRadius:"50%",backgroundColor:"var(--vsm-brand)",color:"#fff",fontSize:"9px",fontWeight:800,display:"flex",alignItems:"center",justifyContent:"center",textDecoration:"none"},className:"hover:opacity-80 transition-opacity",children:i.label},i.label))})]}),T.jsxs("div",{children:[T.jsx("h3",{style:{fontWeight:800,fontSize:"13px",textTransform:"uppercase",letterSpacing:"0.08em",marginBottom:"1rem",color:"var(--vsm-black)"},children:"Sobre Nosotros"}),T.jsx("p",{style:{color:"var(--vsm-gray-mid)",fontSize:"13px",lineHeight:1.8},children:"Somos una pequea empresa artesanal nacida en Santa Marta, Colombia. Elaboramos velas a mano con cera natural e ingredientes del Caribe colombiano para crear experiencias nicas en tu hogar."})]}),Uk.map(i=>T.jsxs("div",{children:[T.jsx("h3",{style:{fontWeight:800,fontSize:"13px",textTransform:"uppercase",letterSpacing:"0.08em",marginBottom:"1rem",color:"var(--vsm-black)"},children:i.title}),T.jsx("ul",{style:{display:"flex",flexDirection:"column",gap:"0.6rem"},children:i.links.map(e=>T.jsx("li",{children:T.jsx(ti,{to:e.path,style:{color:"var(--vsm-gray-mid)",fontSize:"13px",textDecoration:"none"},className:"hover:text-black transition-colors",children:e.label})},e.label))})]},i.title))]}),T.jsxs("div",{style:{borderTop:"1px solid var(--vsm-gray)",marginTop:"3rem",paddingTop:"1.5rem"},className:"max-w-7xl mx-auto px-8 flex flex-col md:flex-row justify-between items-center gap-2",children:[T.jsx("p",{style:{color:"var(--vsm-gray-mid)",fontSize:"12px"},children:"Copyright  2025 Velas Santa Marta"}),T.jsx("p",{style:{color:"var(--vsm-gray-mid)",fontSize:"12px"},children:"Santa Marta, Magdalena, Colombia"})]})]}),jk="96px",zk=({children:i,alignRight:e})=>{const s=fa().pathname==="/";return T.jsx("div",{style:{marginTop:jk},className:`flex flex-col ${s?"":e?"items-end px-4":"items-center px-4"} w-full`,children:i})},Bk=i=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",maximumFractionDigits:0}).format(i),qk=()=>T.jsxs("div",{className:"w-full",style:{maxWidth:"1200px",margin:"0 auto",padding:"2rem 1rem"},children:[T.jsx("div",{style:{width:"140px",height:"14px",backgroundColor:"var(--vsm-gray)",borderRadius:"4px",marginBottom:"2rem",animation:"pulse 1.5s ease-in-out infinite"}}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[3fr_2fr] gap-8 md:gap-12",children:[T.jsxs("div",{children:[T.jsx("div",{style:{aspectRatio:"1",backgroundColor:"var(--vsm-gray)",borderRadius:"12px",animation:"pulse 1.5s ease-in-out infinite"}}),T.jsx("div",{style:{display:"flex",gap:"0.75rem",marginTop:"1rem"},children:[0,1,2].map(i=>T.jsx("div",{style:{width:"72px",height:"72px",backgroundColor:"var(--vsm-gray)",borderRadius:"8px",animation:"pulse 1.5s ease-in-out infinite"}},i))})]}),T.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[[{w:"80px",h:"24px",r:"20px"},{w:"75%",h:"36px",r:"6px"},{w:"45%",h:"32px",r:"6px"},{w:"100%",h:"80px",r:"6px"}].map((i,e)=>T.jsx("div",{style:{width:i.w,height:i.h,backgroundColor:"var(--vsm-gray)",borderRadius:i.r,animation:"pulse 1.5s ease-in-out infinite"}},e)),T.jsx("div",{style:{width:"100%",height:"50px",backgroundColor:"var(--vsm-gray)",borderRadius:"8px",marginTop:"0.5rem",animation:"pulse 1.5s ease-in-out infinite"}})]})]})]}),Fk=()=>T.jsxs("div",{style:{maxWidth:"560px",margin:"5rem auto",padding:"2rem",textAlign:"center"},children:[T.jsx("h2",{style:{fontSize:"1.5rem",fontWeight:800,color:"var(--vsm-black)",marginBottom:"0.75rem"},children:"Producto no encontrado"}),T.jsx("p",{style:{color:"var(--vsm-gray-mid)",marginBottom:"2rem",lineHeight:1.6},children:"El producto que buscas no existe o fue eliminado."}),T.jsx(ti,{to:"/juguetes",style:{color:"var(--vsm-brand)",fontWeight:600,textDecoration:"underline",textUnderlineOffset:"3px"},children:"Volver al catalogo"})]}),Hk=()=>{const{id:i}=_w(),[e,n]=Q.useState(null),[s,o]=Q.useState([]),[u,f]=Q.useState(!0),[m,p]=Q.useState(!1),[g,E]=Q.useState(0),[S,R]=Q.useState(!1),[L,j]=Q.useState(!1),[Y,U]=Q.useState(1);if(Q.useEffect(()=>{i&&(f(!0),p(!1),E(0),U(1),Promise.all([Yb(tr(wn,"products",i)),H2(Tu(wn,"categories"))]).then(([se,ae])=>{if(!se.exists()){p(!0);return}n({id:se.id,...se.data()}),o(ae.docs.map(C=>({id:C.id,...C.data()})))}).catch(()=>p(!0)).finally(()=>f(!1)))},[i]),u)return T.jsx(qk,{});if(m||!e)return T.jsx(Fk,{});const ie=e.images?.length?e.images:e.imageUrl?[e.imageUrl]:[],ne=s.find(se=>se.id===e.categoryId)?.name??"",ee=e.stock===0,le=se=>{se!==g&&(R(!0),setTimeout(()=>{E(se),R(!1)},150))};return T.jsxs("div",{className:"w-full",style:{maxWidth:"1200px",margin:"0 auto",padding:"2rem 1rem"},children:[T.jsx(ti,{to:"/juguetes",style:{display:"inline-flex",alignItems:"center",gap:"0.35rem",color:"var(--vsm-gray-mid)",textDecoration:"none",fontSize:"13px",fontWeight:500,marginBottom:"2rem"},children:" Volver al catalogo"}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[3fr_2fr] gap-8 md:gap-12",children:[T.jsxs("div",{children:[T.jsx("div",{style:{borderRadius:"12px",overflow:"hidden",border:"1px solid var(--vsm-gray)",aspectRatio:"1",backgroundColor:"#F0EBE3",cursor:ie.length>0?"zoom-in":"default"},children:ie.length>0?T.jsx("img",{src:ie[g],alt:e.name,style:{width:"100%",height:"100%",objectFit:"cover",display:"block",opacity:S?0:1,transform:L?"scale(1.08)":"scale(1)",transition:"opacity 0.15s ease, transform 0.35s ease"},onMouseEnter:()=>j(!0),onMouseLeave:()=>j(!1)}):T.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--vsm-gray-mid)",fontSize:"14px"},children:"Sin imagen"})}),ie.length>1&&T.jsx("div",{style:{display:"flex",gap:"0.75rem",marginTop:"1rem",overflowX:"auto",paddingBottom:"4px"},children:ie.map((se,ae)=>T.jsx("button",{onClick:()=>le(ae),style:{flexShrink:0,width:"72px",height:"72px",borderRadius:"8px",overflow:"hidden",border:`2px solid ${ae===g?"var(--vsm-brand)":"var(--vsm-gray)"}`,padding:0,cursor:"pointer",backgroundColor:"#F0EBE3",transition:"border-color 0.2s",outline:"none"},children:T.jsx("img",{src:se,alt:`Vista ${ae+1}`,style:{width:"100%",height:"100%",objectFit:"cover",display:"block"}})},ae))})]}),T.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.25rem"},children:[ne&&T.jsx("span",{style:{display:"inline-block",alignSelf:"flex-start",backgroundColor:"var(--vsm-gray)",color:"var(--vsm-gray-mid)",padding:"0.3rem 0.9rem",borderRadius:"20px",fontSize:"11px",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.06em"},children:ne}),T.jsx("h1",{style:{fontSize:"1.75rem",fontWeight:800,color:"var(--vsm-black)",lineHeight:1.2,margin:0},children:e.name}),T.jsx("p",{style:{fontSize:"2rem",fontWeight:800,color:"var(--vsm-brand)",margin:0},children:Bk(e.price)}),T.jsx("p",{style:{fontSize:"14px",color:"var(--vsm-gray-mid)",lineHeight:1.8,margin:0},children:e.description}),e.aroma&&T.jsxs("div",{style:{padding:"0.875rem 1rem",backgroundColor:"#FFF7F0",borderLeft:"3px solid var(--vsm-brand)",borderRadius:"0 8px 8px 0"},children:[T.jsx("strong",{style:{display:"block",color:"var(--vsm-brand)",fontSize:"11px",textTransform:"uppercase",letterSpacing:"0.06em",marginBottom:"0.3rem"},children:"Aroma"}),T.jsx("span",{style:{color:"var(--vsm-black)",fontSize:"14px"},children:e.aroma})]}),T.jsx("p",{style:{fontSize:"13px",fontWeight:600,margin:0,color:ee?"#DC2626":"#16A34A"},children:ee?"Sin stock":`${e.stock} disponibles`}),!ee&&T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[T.jsx("span",{style:{color:"var(--vsm-gray-mid)",fontSize:"13px",fontWeight:500},children:"Cantidad:"}),T.jsxs("div",{style:{display:"inline-flex",alignItems:"center",border:"1px solid var(--vsm-gray)",borderRadius:"8px",overflow:"hidden"},children:[T.jsx("button",{onClick:()=>U(se=>Math.max(1,se-1)),style:{width:"40px",height:"40px",border:"none",backgroundColor:"transparent",cursor:"pointer",fontSize:"1.1rem",fontWeight:600,color:"var(--vsm-black)"},children:""}),T.jsx("span",{style:{width:"40px",textAlign:"center",fontSize:"14px",fontWeight:700},children:Y}),T.jsx("button",{onClick:()=>U(se=>Math.min(e.stock,se+1)),style:{width:"40px",height:"40px",border:"none",backgroundColor:"transparent",cursor:"pointer",fontSize:"1.1rem",fontWeight:600,color:"var(--vsm-black)"},children:"+"})]})]}),T.jsx("button",{disabled:ee,style:{padding:"14px 24px",backgroundColor:ee?"var(--vsm-gray)":"var(--vsm-brand)",color:ee?"var(--vsm-gray-mid)":"#fff",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.07em",cursor:ee?"not-allowed":"pointer",transition:"background 0.2s ease",fontFamily:"inherit"},children:ee?"Agotado":"Agregar al carrito"}),T.jsx("p",{style:{textAlign:"center",color:"var(--vsm-gray-mid)",fontSize:"12px",margin:0},children:"Envio disponible a todo el pais"})]})]})]})},Gk=()=>{const{data:i,loading:e}=Io("products"),{data:n,loading:s}=Io("categories"),o=e||s,u=i.filter(p=>p.stock===0).length,f=T.jsx("div",{style:{backgroundColor:"var(--vsm-gray)",borderRadius:"8px",height:"110px",animation:"pulse 1.5s ease-in-out infinite"}});if(o)return T.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[f,f,f]});const m=[{label:"Total Productos",value:i.length,color:"var(--vsm-brand)"},{label:"Total Categoras",value:n.length,color:"var(--vsm-brand)"},{label:"Sin Stock",value:u,color:"#DC2626"}];return T.jsxs("div",{children:[T.jsx("h2",{style:{fontWeight:800,fontSize:"1.1rem",color:"var(--vsm-black)",marginBottom:"1.25rem"},children:"Dashboard"}),T.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:m.map(p=>T.jsxs("div",{style:{backgroundColor:"var(--vsm-white)",borderRadius:"8px",padding:"1.25rem 1.5rem",borderTop:`3px solid ${p.color}`,boxShadow:"0 2px 8px rgba(0,0,0,0.06)"},children:[T.jsx("p",{style:{fontSize:"13px",color:"var(--vsm-gray-mid)",fontWeight:600,marginBottom:"0.5rem"},children:p.label}),T.jsx("p",{style:{fontSize:"2rem",fontWeight:800,color:p.color,lineHeight:1},children:p.value})]},p.label))})]})},n1=({isOpen:i,onClose:e,children:n,maxWidth:s="560px"})=>(Q.useEffect(()=>{if(!i)return;document.body.style.overflow="hidden";const o=u=>{u.key==="Escape"&&e()};return window.addEventListener("keydown",o),()=>{document.body.style.overflow="",window.removeEventListener("keydown",o)}},[i,e]),i?T.jsx("div",{onClick:e,style:{position:"fixed",inset:0,zIndex:50,backgroundColor:"rgba(0,0,0,0.45)",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem"},children:T.jsxs("div",{onClick:o=>o.stopPropagation(),style:{backgroundColor:"var(--vsm-white)",borderRadius:"8px",padding:"2rem",width:"100%",maxWidth:s,position:"relative",maxHeight:"90vh",overflowY:"auto"},children:[T.jsx("button",{onClick:e,"aria-label":"Cerrar",style:{position:"absolute",top:"1rem",right:"1rem",background:"none",border:"none",cursor:"pointer",fontSize:"1.25rem",color:"var(--vsm-gray-mid)",lineHeight:1,padding:"4px"},children:""}),n]})}):null),i1=()=>()=>{document.dispatchEvent(new MouseEvent("click",{bubbles:!0}))},ch=5,qE={name:"",description:"",price:"",stock:"",categoryId:"",imageUrl:""},lo={width:"100%",padding:"9px 12px",border:"1px solid var(--vsm-gray)",borderRadius:"5px",fontSize:"13px",fontFamily:"inherit",outline:"none",color:"var(--vsm-black)",backgroundColor:"var(--vsm-white)"},uo={fontSize:"12px",fontWeight:700,color:"var(--vsm-black)",display:"block",marginBottom:"5px"},FE={position:"absolute",top:-6,right:-6,width:20,height:20,borderRadius:"50%",backgroundColor:"#DC2626",color:"#fff",border:"none",cursor:"pointer",fontSize:"10px",fontWeight:700,display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"inherit",lineHeight:1,padding:0},Kk=({isOpen:i,onClose:e,product:n,categories:s})=>{const o=i1(),[u,f]=Q.useState(qE),[m,p]=Q.useState([]),[g,E]=Q.useState([]),[S,R]=Q.useState(""),[L,j]=Q.useState(0),[Y,U]=Q.useState(null),[ie,ne]=Q.useState(!1);Q.useEffect(()=>{if(i){f(n?{name:n.name,description:n.description,price:n.price,stock:n.stock,categoryId:n.categoryId,imageUrl:n.imageUrl}:qE);const fe=n?.images?.length?n.images:n?.imageUrl?[n.imageUrl]:[];p(fe),E([]),R(""),j(ve=>ve+1),U(null)}},[i,n]);const ee=(fe,ve)=>f(K=>({...K,[fe]:ve})),le=m.length+g.length,se=le<ch,ae=()=>{const fe=S.trim();!fe||!se||(p(ve=>[...ve,fe]),R(""))},C=fe=>p(ve=>ve.filter((K,re)=>re!==fe)),w=fe=>E(ve=>ve.filter((K,re)=>re!==fe)),x=fe=>{o();const ve=Array.from(fe.target.files??[]);if(!ve.length)return;const K=ch-le;E(re=>[...re,...ve.slice(0,K)]),j(re=>re+1)},O=async(fe,ve,K)=>{const re=fe.name.split(".").pop(),he=ZS(JS,`products/${ve}/image-${Date.now()}-${K}.${re}`);return await XS(he,fe),$S(he)},N=async fe=>{if(fe.preventDefault(),!u.name.trim()){U("El nombre es obligatorio.");return}ne(!0),U(null);try{const ve={name:u.name.trim(),description:u.description.trim(),price:Number(u.price)||0,stock:Number(u.stock)||0,categoryId:u.categoryId};if(n){const K=[];for(let he=0;he<g.length;he++)try{K.push(await O(g[he],n.id,he))}catch{console.warn("Upload failed for file",he)}const re=[...m,...K];if(await fp(tr(wn,"products",n.id),{...ve,imageUrl:re[0]??"",images:re,updatedAt:au()}),K.length<g.length){U("Producto guardado, pero algunas imgenes no pudieron subirse."),ne(!1);return}}else{const K=await Xb(Tu(wn,"products"),{...ve,imageUrl:m[0]??"",images:m,createdAt:au(),updatedAt:au()});if(g.length>0){const re=[];for(let he=0;he<g.length;he++)try{re.push(await O(g[he],K.id,he))}catch{console.warn("Upload failed for file",he)}if(re.length>0){const he=[...m,...re];await fp(tr(wn,"products",K.id),{imageUrl:he[0]??"",images:he})}if(re.length<g.length){U("Producto creado, pero algunas imgenes no pudieron subirse."),ne(!1);return}}}e()}catch(ve){console.error(ve),U("Error al guardar. Intenta de nuevo.")}finally{ne(!1)}},V=fe=>fe.currentTarget.style.borderColor="var(--vsm-brand)",I=fe=>fe.currentTarget.style.borderColor="var(--vsm-gray)";return T.jsxs(n1,{isOpen:i,onClose:e,maxWidth:"560px",children:[T.jsx("h3",{style:{fontWeight:800,fontSize:"1.1rem",color:"var(--vsm-black)",marginBottom:"1.25rem"},children:n?"Editar producto":"Nuevo producto"}),T.jsx("form",{onSubmit:N,noValidate:!0,children:T.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[T.jsxs("div",{children:[T.jsxs("label",{style:uo,children:["Nombre ",T.jsx("span",{style:{color:"#DC2626"},children:"*"})]}),T.jsx("input",{value:u.name,onChange:fe=>ee("name",fe.target.value),style:lo,onFocus:V,onBlur:I})]}),T.jsxs("div",{children:[T.jsx("label",{style:uo,children:"Descripcin"}),T.jsx("textarea",{value:u.description,onChange:fe=>ee("description",fe.target.value),rows:3,style:{...lo,resize:"vertical"},onFocus:V,onBlur:I})]}),T.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.75rem"},children:[T.jsxs("div",{children:[T.jsx("label",{style:uo,children:"Precio (COP)"}),T.jsx("input",{type:"number",min:"0",value:u.price,placeholder:"0",onChange:fe=>ee("price",fe.target.value===""?"":Number(fe.target.value)),style:lo,onFocus:V,onBlur:I})]}),T.jsxs("div",{children:[T.jsx("label",{style:uo,children:"Stock"}),T.jsx("input",{type:"number",min:"0",value:u.stock,placeholder:"0",onChange:fe=>ee("stock",fe.target.value===""?"":Number(fe.target.value)),style:lo,onFocus:V,onBlur:I})]})]}),T.jsxs("div",{children:[T.jsx("label",{style:uo,children:"Categora"}),T.jsxs("select",{value:u.categoryId,onChange:fe=>ee("categoryId",fe.target.value),style:{...lo,cursor:"pointer"},onFocus:V,onBlur:I,children:[T.jsx("option",{value:"",children:"Sin categora"}),s.map(fe=>T.jsx("option",{value:fe.id,children:fe.name},fe.id))]})]}),T.jsxs("div",{children:[T.jsxs("label",{style:uo,children:["Imgenes"," ",T.jsxs("span",{style:{color:"var(--vsm-gray-mid)",fontWeight:400},children:["(",le,"/",ch,")  la primera es la principal"]})]}),le>0&&T.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"10px",marginBottom:"0.75rem"},children:[m.map((fe,ve)=>T.jsxs("div",{style:{position:"relative",width:72,height:72,flexShrink:0},children:[T.jsx("img",{src:fe,alt:`Imagen ${ve+1}`,style:{width:72,height:72,objectFit:"cover",borderRadius:"5px",border:ve===0?"2px solid var(--vsm-brand)":"1px solid var(--vsm-gray)"}}),ve===0&&T.jsx("span",{style:{position:"absolute",bottom:3,left:3,backgroundColor:"var(--vsm-brand)",color:"#fff",fontSize:"9px",fontWeight:700,padding:"1px 5px",borderRadius:"2px"},children:"Principal"}),T.jsx("button",{type:"button",onClick:()=>C(ve),style:FE,children:""})]},ve)),g.map((fe,ve)=>T.jsxs("div",{style:{position:"relative",width:72,height:72,flexShrink:0},children:[T.jsx("img",{src:URL.createObjectURL(fe),alt:fe.name,style:{width:72,height:72,objectFit:"cover",borderRadius:"5px",border:"2px dashed var(--vsm-brand)"}}),T.jsx("span",{style:{position:"absolute",bottom:3,left:3,backgroundColor:"#F5A623",color:"#fff",fontSize:"9px",fontWeight:700,padding:"1px 5px",borderRadius:"2px"},children:"Por subir"}),T.jsx("button",{type:"button",onClick:()=>w(ve),style:FE,children:""})]},`p-${ve}`))]}),se&&T.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"0.5rem"},children:[T.jsx("input",{value:S,onChange:fe=>R(fe.target.value),onKeyDown:fe=>{fe.key==="Enter"&&(fe.preventDefault(),ae())},placeholder:"https://... pegar URL de imagen",style:{...lo,flex:1},onFocus:V,onBlur:I}),T.jsx("button",{type:"button",onClick:ae,disabled:!S.trim(),style:{padding:"9px 14px",borderRadius:"5px",border:"none",backgroundColor:S.trim()?"var(--vsm-brand)":"var(--vsm-gray)",color:"#fff",fontSize:"12px",fontWeight:700,cursor:S.trim()?"pointer":"not-allowed",fontFamily:"inherit",whiteSpace:"nowrap"},children:"+ URL"})]}),se&&T.jsxs("div",{children:[T.jsx("p",{style:{fontSize:"11px",color:"var(--vsm-gray-mid)",marginBottom:"4px"},children:"O subir archivo(s):"}),T.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:x,style:{fontSize:"13px",color:"var(--vsm-gray-mid)"}},L)]}),!se&&T.jsxs("p",{style:{fontSize:"12px",color:"var(--vsm-gray-mid)",marginTop:"4px"},children:["Mximo de ",ch," imgenes alcanzado."]})]}),Y&&T.jsx("div",{style:{backgroundColor:"#FEF2F2",border:"1px solid #FECACA",borderRadius:"5px",padding:"10px 14px"},children:T.jsx("p",{style:{color:"#DC2626",fontSize:"13px",fontWeight:600},children:Y})}),T.jsxs("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"flex-end",paddingTop:"0.5rem"},children:[T.jsx("button",{type:"button",onClick:e,disabled:ie,style:{padding:"9px 20px",borderRadius:"5px",border:"1px solid var(--vsm-gray)",backgroundColor:"var(--vsm-white)",color:"var(--vsm-gray-mid)",fontSize:"13px",fontWeight:600,cursor:"pointer",fontFamily:"inherit"},children:"Cancelar"}),T.jsx("button",{type:"submit",disabled:ie,style:{padding:"9px 20px",borderRadius:"5px",border:"none",backgroundColor:"var(--vsm-brand)",color:"#fff",fontSize:"13px",fontWeight:700,cursor:ie?"not-allowed":"pointer",opacity:ie?.75:1,fontFamily:"inherit"},children:ie?"Guardando...":"Guardar"})]})]})})]})},r1=({isOpen:i,onClose:e,onConfirm:n,title:s,message:o,loading:u})=>T.jsxs(n1,{isOpen:i,onClose:e,maxWidth:"420px",children:[T.jsx("h3",{style:{fontWeight:800,fontSize:"1.1rem",color:"var(--vsm-black)",marginBottom:"0.75rem"},children:s}),T.jsx("p",{style:{color:"var(--vsm-gray-mid)",fontSize:"14px",marginBottom:"1.5rem",lineHeight:1.6},children:o}),T.jsxs("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"flex-end"},children:[T.jsx("button",{onClick:e,disabled:u,style:{padding:"9px 20px",borderRadius:"5px",border:"1px solid var(--vsm-gray)",backgroundColor:"var(--vsm-white)",color:"var(--vsm-gray-mid)",fontSize:"13px",fontWeight:600,cursor:u?"not-allowed":"pointer",fontFamily:"inherit"},children:"Cancelar"}),T.jsx("button",{onClick:n,disabled:u,style:{padding:"9px 20px",borderRadius:"5px",border:"none",backgroundColor:"#DC2626",color:"#fff",fontSize:"13px",fontWeight:700,cursor:u?"not-allowed":"pointer",opacity:u?.75:1,fontFamily:"inherit"},children:u?"Eliminando...":"Eliminar"})]})]}),HE={padding:"8px 12px",border:"1px solid var(--vsm-gray)",borderRadius:"5px",fontSize:"13px",fontFamily:"inherit",outline:"none",flex:1},Qk=()=>{const{data:i}=Io("categories",B2("createdAt","asc")),[e,n]=Q.useState(""),[s,o]=Q.useState(null),[u,f]=Q.useState(!1),[m,p]=Q.useState(null),[g,E]=Q.useState(""),[S,R]=Q.useState(null),[L,j]=Q.useState(!1),[Y,U]=Q.useState(null),[ie,ne]=Q.useState(!1),ee=async()=>{const C=e.trim();if(!C){o("El nombre no puede estar vaco.");return}if(i.some(w=>w.name.toLowerCase()===C.toLowerCase())){o("Ya existe una categora con ese nombre.");return}f(!0),o(null);try{await Xb(Tu(wn,"categories"),{name:C,createdAt:au()}),n("")}catch{o("Error al agregar. Intenta de nuevo.")}finally{f(!1)}},le=C=>{p(C.id),E(C.name),R(null)},se=async C=>{const w=g.trim();if(!w){R("El nombre no puede estar vaco.");return}if(i.some(x=>x.id!==C.id&&x.name.toLowerCase()===w.toLowerCase())){R("Ya existe una categora con ese nombre.");return}j(!0),R(null);try{await fp(tr(wn,"categories",C.id),{name:w}),p(null)}catch{R("Error al guardar. Intenta de nuevo.")}finally{j(!1)}},ae=async()=>{if(Y){ne(!0);try{await Wb(tr(wn,"categories",Y.id)),U(null)}catch{}finally{ne(!1)}}};return T.jsxs("div",{children:[T.jsx("h3",{style:{fontWeight:700,fontSize:"1rem",color:"var(--vsm-black)",marginBottom:"1rem"},children:"Categoras"}),T.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"0.5rem"},children:[T.jsx("input",{value:e,onChange:C=>{n(C.target.value),o(null)},onKeyDown:C=>{C.key==="Enter"&&ee()},placeholder:"Nueva categora...",style:HE,onFocus:C=>C.currentTarget.style.borderColor="var(--vsm-brand)",onBlur:C=>C.currentTarget.style.borderColor="var(--vsm-gray)"}),T.jsx("button",{onClick:ee,disabled:u,style:{backgroundColor:"var(--vsm-brand)",color:"#fff",border:"none",borderRadius:"5px",padding:"8px 16px",fontSize:"13px",fontWeight:700,cursor:u?"not-allowed":"pointer",fontFamily:"inherit",whiteSpace:"nowrap",opacity:u?.75:1},children:u?"Agregando...":"Agregar"})]}),s&&T.jsx("p",{style:{color:"#DC2626",fontSize:"12px",marginBottom:"0.75rem"},children:s}),i.length===0?T.jsx("p",{style:{color:"var(--vsm-gray-mid)",fontSize:"13px"},children:"No hay categoras an."}):T.jsx("ul",{style:{listStyle:"none",padding:0,margin:0,display:"flex",flexDirection:"column",gap:"0.5rem"},children:i.map(C=>T.jsx("li",{style:{display:"flex",alignItems:"center",gap:"0.5rem",backgroundColor:"var(--vsm-white)",border:"1px solid var(--vsm-gray)",borderRadius:"6px",padding:"8px 12px"},children:m===C.id?T.jsxs(T.Fragment,{children:[T.jsx("input",{value:g,onChange:w=>{E(w.target.value),R(null)},onKeyDown:w=>{w.key==="Enter"&&se(C)},style:{...HE,flex:1},onFocus:w=>w.currentTarget.style.borderColor="var(--vsm-brand)",onBlur:w=>w.currentTarget.style.borderColor="var(--vsm-gray)",autoFocus:!0}),S&&T.jsx("span",{style:{color:"#DC2626",fontSize:"11px"},children:S}),T.jsx("button",{onClick:()=>se(C),disabled:L,style:{...hh,backgroundColor:"var(--vsm-brand)",color:"#fff",opacity:L?.75:1},children:L?"...":"Guardar"}),T.jsx("button",{onClick:()=>p(null),style:{...hh,border:"1px solid var(--vsm-gray)",color:"var(--vsm-gray-mid)"},children:"Cancelar"})]}):T.jsxs(T.Fragment,{children:[T.jsx("span",{style:{flex:1,fontSize:"14px",color:"var(--vsm-black)"},children:C.name}),T.jsx("button",{onClick:()=>le(C),style:{...hh,border:"1px solid var(--vsm-gray)",color:"var(--vsm-gray-mid)"},children:"Editar"}),T.jsx("button",{onClick:()=>U(C),style:{...hh,backgroundColor:"#FEF2F2",color:"#DC2626",border:"1px solid #FECACA"},children:"Eliminar"})]})},C.id))}),T.jsx(r1,{isOpen:!!Y,onClose:()=>U(null),onConfirm:ae,title:"Eliminar categora",message:`Eliminar "${Y?.name}"? Esto no eliminar los productos asociados.`,loading:ie})]})},hh={padding:"5px 12px",borderRadius:"4px",border:"none",fontSize:"12px",fontWeight:600,cursor:"pointer",fontFamily:"inherit",whiteSpace:"nowrap"},Lm=10,Yk=()=>{const{data:i}=Io("products"),{data:e}=Io("categories"),[n,s]=Q.useState("productos"),[o,u]=Q.useState(1);Q.useEffect(()=>{u(1)},[i]);const[f,m]=Q.useState(!1),[p,g]=Q.useState(),[E,S]=Q.useState(null),[R,L]=Q.useState(!1),j=Q.useMemo(()=>new Map(e.map(ae=>[ae.id,ae.name])),[e]),Y=ae=>j.get(ae)??"",U=Math.max(1,Math.ceil(i.length/Lm)),ie=i.slice((o-1)*Lm,o*Lm),ne=async()=>{if(E){L(!0);try{await Wb(tr(wn,"products",E.id)),S(null)}catch{}finally{L(!1)}}},ee=()=>{g(void 0),m(!0)},le=ae=>{g(ae),m(!0)},se=ae=>({padding:"7px 18px",border:"none",borderBottom:ae?"2px solid var(--vsm-brand)":"2px solid transparent",backgroundColor:"transparent",color:ae?"var(--vsm-brand)":"var(--vsm-gray-mid)",fontWeight:ae?700:600,fontSize:"13px",cursor:"pointer",fontFamily:"inherit"});return T.jsxs("div",{children:[T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[T.jsx("h2",{style:{fontWeight:800,fontSize:"1.1rem",color:"var(--vsm-black)"},children:"Productos"}),n==="productos"&&T.jsx("button",{onClick:ee,style:{backgroundColor:"var(--vsm-brand)",color:"#fff",border:"none",borderRadius:"5px",padding:"8px 18px",fontSize:"13px",fontWeight:700,cursor:"pointer",fontFamily:"inherit"},children:"+ Nuevo Producto"})]}),T.jsxs("div",{style:{borderBottom:"1px solid var(--vsm-gray)",marginBottom:"1.25rem",display:"flex"},children:[T.jsx("button",{style:se(n==="productos"),onClick:()=>s("productos"),children:"Productos"}),T.jsx("button",{style:se(n==="categorias"),onClick:()=>s("categorias"),children:"Categoras"})]}),n==="categorias"?T.jsx(Qk,{}):T.jsxs(T.Fragment,{children:[i.length===0?T.jsx("p",{style:{color:"var(--vsm-gray-mid)",fontSize:"13px"},children:"No hay productos an. Crea el primero."}):T.jsxs(T.Fragment,{children:[T.jsx("div",{style:{overflowX:"auto"},children:T.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"13px"},children:[T.jsx("thead",{children:T.jsx("tr",{style:{borderBottom:"2px solid var(--vsm-gray)"},children:["Imagen","Nombre","Categora","Precio","Stock","Acciones"].map(ae=>T.jsx("th",{style:{textAlign:"left",padding:"8px 10px",fontWeight:700,color:"var(--vsm-gray-mid)",whiteSpace:"nowrap"},children:ae},ae))})}),T.jsx("tbody",{children:ie.map(ae=>T.jsxs("tr",{style:{borderBottom:"1px solid var(--vsm-gray)"},children:[T.jsx("td",{style:{padding:"8px 10px"},children:ae.imageUrl?T.jsx("img",{src:ae.imageUrl,alt:ae.name,style:{width:48,height:48,objectFit:"cover",borderRadius:"4px",border:"1px solid var(--vsm-gray)"}}):T.jsx("span",{style:{fontSize:"1.5rem"},children:""})}),T.jsx("td",{style:{padding:"8px 10px",fontWeight:600,color:"var(--vsm-black)"},children:ae.name}),T.jsx("td",{style:{padding:"8px 10px",color:"var(--vsm-gray-mid)"},children:Y(ae.categoryId)}),T.jsx("td",{style:{padding:"8px 10px",color:"var(--vsm-black)"},children:new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",maximumFractionDigits:0}).format(ae.price)}),T.jsx("td",{style:{padding:"8px 10px",fontWeight:ae.stock===0?700:400,color:ae.stock===0?"#DC2626":"var(--vsm-black)"},children:ae.stock}),T.jsx("td",{style:{padding:"8px 10px"},children:T.jsxs("div",{style:{display:"flex",gap:"0.4rem"},children:[T.jsx("button",{onClick:()=>le(ae),style:GE("#E8E8E8","#111"),children:"Editar"}),T.jsx("button",{onClick:()=>S(ae),style:GE("#FEF2F2","#DC2626"),children:"Eliminar"})]})})]},ae.id))})]})}),U>1&&T.jsxs("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"flex-end",marginTop:"1rem",alignItems:"center"},children:[T.jsx("button",{onClick:()=>u(ae=>Math.max(1,ae-1)),disabled:o===1,style:KE(o===1),children:" Ant"}),T.jsxs("span",{style:{fontSize:"12px",color:"var(--vsm-gray-mid)"},children:["Pg ",o," / ",U]}),T.jsx("button",{onClick:()=>u(ae=>Math.min(U,ae+1)),disabled:o===U,style:KE(o===U),children:"Sig "})]})]}),T.jsx(Kk,{isOpen:f,onClose:()=>m(!1),product:p,categories:e}),T.jsx(r1,{isOpen:!!E,onClose:()=>S(null),onConfirm:ne,title:"Eliminar producto",message:`Eliminar "${E?.name}"? Esta accin no se puede deshacer.`,loading:R})]})]})},GE=(i,e)=>({padding:"4px 10px",borderRadius:"4px",border:"none",backgroundColor:i,color:e,fontSize:"12px",fontWeight:600,cursor:"pointer",fontFamily:"inherit"}),KE=i=>({padding:"5px 12px",borderRadius:"4px",border:"1px solid var(--vsm-gray)",backgroundColor:i?"var(--vsm-gray)":"var(--vsm-white)",color:i?"var(--vsm-gray-mid)":"var(--vsm-black)",fontSize:"12px",fontWeight:600,cursor:i?"not-allowed":"pointer",fontFamily:"inherit"}),s1=tr(wn,"settings","general");async function Wk(){const i=await Yb(s1);return i.exists()?i.data():null}async function Xk(i){const e=i.name.split(".").pop(),n=ZS(JS,`logos/store-logo.${e}`);return await XS(n,i),$S(n)}async function $k(i,e){await G2(s1,{...i,logoUrl:e,updatedAt:au()},{merge:!0})}const QE={storeName:"",description:"",email:"",phone:"",social:{instagram:"",facebook:"",whatsapp:"",tiktok:""}},Yl={width:"100%",padding:"9px 12px",border:"1px solid var(--vsm-gray)",borderRadius:"5px",fontSize:"13px",fontFamily:"inherit",outline:"none",color:"var(--vsm-black)",backgroundColor:"var(--vsm-white)"},co={fontSize:"12px",fontWeight:700,color:"var(--vsm-black)",display:"block",marginBottom:"5px"},Zk=()=>{const i=i1(),[e,n]=Q.useState(QE),[s,o]=Q.useState(""),[u,f]=Q.useState(null),[m,p]=Q.useState(null),[g,E]=Q.useState(0),[S,R]=Q.useState(!1),[L,j]=Q.useState(!0),[Y,U]=Q.useState(!1),[ie,ne]=Q.useState(null);Q.useEffect(()=>{Wk().then(x=>{x&&(n({storeName:x.storeName??"",description:x.description??"",email:x.email??"",phone:x.phone??"",social:x.social??QE.social}),o(x.logoUrl??"")),j(!1)}).catch(()=>j(!1))},[]);const ee=(x,O)=>n(N=>({...N,[x]:O})),le=(x,O)=>n(N=>({...N,social:{...N.social,[x]:O}})),se=x=>{i();const O=x.target.files?.[0];O&&(f(O),p(URL.createObjectURL(O)))},ae=async x=>{x.preventDefault(),R(!0),ne(null),U(!1);try{let O=s;u&&(O=await Xk(u),o(O),f(null),p(null),E(N=>N+1)),await $k(e,O),U(!0),setTimeout(()=>U(!1),3e3)}catch{ne("Error al guardar. Intenta de nuevo.")}finally{R(!1)}},C=x=>x.currentTarget.style.borderColor="var(--vsm-brand)",w=x=>x.currentTarget.style.borderColor="var(--vsm-gray)";return L?T.jsx("div",{style:{color:"var(--vsm-gray-mid)",fontSize:"13px"},children:"Cargando configuracin..."}):T.jsxs("div",{children:[T.jsx("h2",{style:{fontWeight:800,fontSize:"1.1rem",color:"var(--vsm-black)",marginBottom:"1.25rem"},children:"Configuracin de la tienda"}),T.jsx("form",{onSubmit:ae,noValidate:!0,children:T.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.25rem",maxWidth:"540px"},children:[T.jsxs("div",{children:[T.jsx("label",{style:co,children:"Logo de la tienda"}),T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"0.5rem"},children:[(m||s)&&T.jsx("div",{style:{position:"relative",width:72,height:72},children:T.jsx("img",{src:m??s,alt:"Logo",style:{width:72,height:72,objectFit:"contain",borderRadius:"6px",border:"1px solid var(--vsm-gray)"}})}),T.jsx("input",{type:"file",accept:"image/*",onChange:se,style:{fontSize:"13px",color:"var(--vsm-gray-mid)"}},g)]}),u&&T.jsxs("p",{style:{fontSize:"12px",color:"var(--vsm-gray-mid)"},children:["Nuevo logo: ",u.name]})]}),T.jsxs("div",{children:[T.jsx("label",{style:co,children:"Nombre de la tienda"}),T.jsx("input",{value:e.storeName,onChange:x=>ee("storeName",x.target.value),style:Yl,onFocus:C,onBlur:w})]}),T.jsxs("div",{children:[T.jsx("label",{style:co,children:"Descripcin"}),T.jsx("textarea",{value:e.description,onChange:x=>n(O=>({...O,description:x.target.value})),rows:3,style:{...Yl,resize:"vertical"},onFocus:C,onBlur:w})]}),T.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.75rem"},children:[T.jsxs("div",{children:[T.jsx("label",{style:co,children:"Correo de contacto"}),T.jsx("input",{value:e.email,onChange:x=>ee("email",x.target.value),type:"email",style:Yl,onFocus:C,onBlur:w})]}),T.jsxs("div",{children:[T.jsx("label",{style:co,children:"Telfono / WhatsApp"}),T.jsx("input",{value:e.phone,onChange:x=>ee("phone",x.target.value),style:Yl,onFocus:C,onBlur:w})]})]}),T.jsxs("div",{children:[T.jsx("label",{style:{...co,marginBottom:"0.75rem"},children:"Redes sociales"}),T.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.6rem"},children:["instagram","facebook","whatsapp","tiktok"].map(x=>T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[T.jsx("span",{style:{fontSize:"12px",width:80,color:"var(--vsm-gray-mid)",fontWeight:600,textTransform:"capitalize"},children:x}),T.jsx("input",{value:e.social[x],onChange:O=>le(x,O.target.value),placeholder:`URL de ${x}`,style:{...Yl,flex:1},onFocus:C,onBlur:w})]},x))})]}),ie&&T.jsx("div",{style:{backgroundColor:"#FEF2F2",border:"1px solid #FECACA",borderRadius:"5px",padding:"10px 14px"},children:T.jsx("p",{style:{color:"#DC2626",fontSize:"13px",fontWeight:600},children:ie})}),Y&&T.jsx("div",{style:{backgroundColor:"#F0FDF4",border:"1px solid #86EFAC",borderRadius:"5px",padding:"10px 14px"},children:T.jsx("p",{style:{color:"#16A34A",fontSize:"13px",fontWeight:600},children:"Configuracin guardada correctamente."})}),T.jsx("button",{type:"submit",disabled:S,style:{alignSelf:"flex-start",backgroundColor:"var(--vsm-brand)",color:"#fff",border:"none",borderRadius:"5px",padding:"10px 24px",fontSize:"13px",fontWeight:700,cursor:S?"not-allowed":"pointer",opacity:S?.75:1,fontFamily:"inherit"},children:S?"Guardando...":"Guardar cambios"})]})})]})},YE=[{id:"dashboard",label:"Dashboard"},{id:"productos",label:"Productos"},{id:"configuracion",label:"Configuracin"}],Jk=()=>{const{user:i,logout:e}=Rg(),n=No(),[s,o]=Q.useState("dashboard"),u=async()=>{await e(),n("/Login")},f=i?.displayName??i?.email??"Admin",m=p=>({display:"block",width:"100%",textAlign:"left",padding:"10px 14px",borderRadius:"6px",border:"none",backgroundColor:s===p.id?"var(--vsm-brand)":"transparent",color:s===p.id?"#fff":"var(--vsm-gray-mid)",fontWeight:s===p.id?700:600,fontSize:"13px",cursor:"pointer",fontFamily:"inherit",transition:"background-color 0.15s, color 0.15s"});return T.jsxs("div",{style:{minHeight:"calc(100vh - 96px)",padding:"2rem 1rem"},className:"max-w-6xl w-full mx-auto",children:[T.jsxs("header",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",paddingBottom:"1.25rem",borderBottom:"1px solid var(--vsm-gray)",flexWrap:"wrap",gap:"1rem"},children:[T.jsxs("div",{children:[T.jsx("h1",{style:{fontWeight:800,fontSize:"1.4rem",color:"var(--vsm-black)"},children:"Panel de Administracin"}),T.jsxs("p",{style:{color:"var(--vsm-gray-mid)",fontSize:"13px",marginTop:"4px"},children:["Hola, ",T.jsx("strong",{style:{color:"var(--vsm-black)"},children:f})]})]}),T.jsx("button",{onClick:u,style:{backgroundColor:"var(--vsm-black)",color:"#fff",padding:"10px 20px",borderRadius:"5px",border:"none",fontSize:"12px",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.07em",cursor:"pointer",fontFamily:"inherit",whiteSpace:"nowrap"},className:"hover:opacity-80 transition-opacity",children:"Cerrar sesin"})]}),T.jsxs("div",{style:{display:"flex",gap:"1.5rem",marginTop:"1.5rem",flexWrap:"wrap"},children:[T.jsx("nav",{className:"hidden md:flex",style:{flexDirection:"column",width:200,flexShrink:0,gap:"0.25rem"},children:YE.map(p=>T.jsx("button",{onClick:()=>o(p.id),style:m(p),children:p.label},p.id))}),T.jsx("nav",{className:"flex md:hidden",style:{width:"100%",borderBottom:"1px solid var(--vsm-gray)",paddingBottom:"0.5rem",gap:"0.25rem"},children:YE.map(p=>T.jsx("button",{onClick:()=>o(p.id),style:{flex:1,padding:"8px 4px",borderRadius:"5px",border:"none",backgroundColor:s===p.id?"var(--vsm-brand)":"transparent",color:s===p.id?"#fff":"var(--vsm-gray-mid)",fontWeight:s===p.id?700:600,fontSize:"12px",cursor:"pointer",fontFamily:"inherit"},children:p.label},p.id))}),T.jsxs("main",{style:{flex:1,minWidth:0},children:[s==="dashboard"&&T.jsx(Gk,{}),s==="productos"&&T.jsx(Yk,{}),s==="configuracion"&&T.jsx(Zk,{})]})]})]})},eM=({children:i})=>{const{user:e,loading:n}=Rg();return n?T.jsx("p",{children:"cargando..."}):e?T.jsx(T.Fragment,{children:i}):T.jsx(kw,{to:"/Login"})};function tM(){return T.jsxs(Fw,{children:[T.jsx(Pk,{}),T.jsx(zk,{children:T.jsxs(Vw,{children:[T.jsx(Gr,{path:"/",element:T.jsx(LE,{})}),T.jsx(Gr,{path:"/juguetes",element:T.jsx(LE,{})}),T.jsx(Gr,{path:"/producto/:id",element:T.jsx(Hk,{})}),T.jsx(Gr,{path:"/Login",element:T.jsx(Dk,{})}),T.jsx(Gr,{path:"/Register",element:T.jsx(Nk,{})}),T.jsx(Gr,{path:"/Admin",element:T.jsx(eM,{children:T.jsx(Jk,{})})}),T.jsx(Gr,{path:"*",element:T.jsx("p",{children:"Not Found"})})]})}),T.jsx(Lk,{})]})}HA.createRoot(document.getElementById("root")).render(T.jsx(Q.StrictMode,{children:T.jsx(kk,{children:T.jsx(tM,{})})}));
