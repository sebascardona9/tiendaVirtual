function OA(i,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in i)){const u=Object.getOwnPropertyDescriptor(s,o);u&&Object.defineProperty(i,o,u.get?u:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function kA(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var pm={exports:{}},Hl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mv;function MA(){if(Mv)return Hl;Mv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Hl.Fragment=e,Hl.jsx=n,Hl.jsxs=n,Hl}var Vv;function VA(){return Vv||(Vv=1,pm.exports=MA()),pm.exports}var T=VA(),gm={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pv;function PA(){if(Pv)return Ie;Pv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function x(k){return k===null||typeof k!="object"?null:(k=S&&k[S]||k["@@iterator"],typeof k=="function"?k:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,Y={};function P(k,ee,de){this.props=k,this.context=ee,this.refs=Y,this.updater=de||L}P.prototype.isReactComponent={},P.prototype.setState=function(k,ee){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,ee,"setState")},P.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function re(){}re.prototype=P.prototype;function ne(k,ee,de){this.props=k,this.context=ee,this.refs=Y,this.updater=de||L}var te=ne.prototype=new re;te.constructor=ne,z(te,P.prototype),te.isPureReactComponent=!0;var oe=Array.isArray,ue={H:null,A:null,T:null,S:null,V:null},ae=Object.prototype.hasOwnProperty;function D(k,ee,de,le,ye,Me){return de=Me.ref,{$$typeof:i,type:k,key:ee,ref:de!==void 0?de:null,props:Me}}function w(k,ee){return D(k.type,ee,void 0,void 0,void 0,k.props)}function R(k){return typeof k=="object"&&k!==null&&k.$$typeof===i}function O(k){var ee={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(de){return ee[de]})}var N=/\/+/g;function V(k,ee){return typeof k=="object"&&k!==null&&k.key!=null?O(""+k.key):ee.toString(36)}function C(){}function fe(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(C,C):(k.status="pending",k.then(function(ee){k.status==="pending"&&(k.status="fulfilled",k.value=ee)},function(ee){k.status==="pending"&&(k.status="rejected",k.reason=ee)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function ve(k,ee,de,le,ye){var Me=typeof k;(Me==="undefined"||Me==="boolean")&&(k=null);var Ae=!1;if(k===null)Ae=!0;else switch(Me){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(k.$$typeof){case i:case e:Ae=!0;break;case E:return Ae=k._init,ve(Ae(k._payload),ee,de,le,ye)}}if(Ae)return ye=ye(k),Ae=le===""?"."+V(k,0):le,oe(ye)?(de="",Ae!=null&&(de=Ae.replace(N,"$&/")+"/"),ve(ye,ee,de,"",function(zn){return zn})):ye!=null&&(R(ye)&&(ye=w(ye,de+(ye.key==null||k&&k.key===ye.key?"":(""+ye.key).replace(N,"$&/")+"/")+Ae)),ee.push(ye)),1;Ae=0;var Lt=le===""?".":le+":";if(oe(k))for(var Qe=0;Qe<k.length;Qe++)le=k[Qe],Me=Lt+V(le,Qe),Ae+=ve(le,ee,de,Me,ye);else if(Qe=x(k),typeof Qe=="function")for(k=Qe.call(k),Qe=0;!(le=k.next()).done;)le=le.value,Me=Lt+V(le,Qe++),Ae+=ve(le,ee,de,Me,ye);else if(Me==="object"){if(typeof k.then=="function")return ve(fe(k),ee,de,le,ye);throw ee=String(k),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function K(k,ee,de){if(k==null)return k;var le=[],ye=0;return ve(k,le,"","",function(Me){return ee.call(de,Me,ye++)}),le}function ie(k){if(k._status===-1){var ee=k._result;ee=ee(),ee.then(function(de){(k._status===0||k._status===-1)&&(k._status=1,k._result=de)},function(de){(k._status===0||k._status===-1)&&(k._status=2,k._result=de)}),k._status===-1&&(k._status=0,k._result=ee)}if(k._status===1)return k._result.default;throw k._result}var ce=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function ze(){}return Ie.Children={map:K,forEach:function(k,ee,de){K(k,function(){ee.apply(this,arguments)},de)},count:function(k){var ee=0;return K(k,function(){ee++}),ee},toArray:function(k){return K(k,function(ee){return ee})||[]},only:function(k){if(!R(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Ie.Component=P,Ie.Fragment=n,Ie.Profiler=o,Ie.PureComponent=ne,Ie.StrictMode=s,Ie.Suspense=p,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ue,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(k){return ue.H.useMemoCache(k)}},Ie.cache=function(k){return function(){return k.apply(null,arguments)}},Ie.cloneElement=function(k,ee,de){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var le=z({},k.props),ye=k.key,Me=void 0;if(ee!=null)for(Ae in ee.ref!==void 0&&(Me=void 0),ee.key!==void 0&&(ye=""+ee.key),ee)!ae.call(ee,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&ee.ref===void 0||(le[Ae]=ee[Ae]);var Ae=arguments.length-2;if(Ae===1)le.children=de;else if(1<Ae){for(var Lt=Array(Ae),Qe=0;Qe<Ae;Qe++)Lt[Qe]=arguments[Qe+2];le.children=Lt}return D(k.type,ye,void 0,void 0,Me,le)},Ie.createContext=function(k){return k={$$typeof:f,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},Ie.createElement=function(k,ee,de){var le,ye={},Me=null;if(ee!=null)for(le in ee.key!==void 0&&(Me=""+ee.key),ee)ae.call(ee,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ye[le]=ee[le]);var Ae=arguments.length-2;if(Ae===1)ye.children=de;else if(1<Ae){for(var Lt=Array(Ae),Qe=0;Qe<Ae;Qe++)Lt[Qe]=arguments[Qe+2];ye.children=Lt}if(k&&k.defaultProps)for(le in Ae=k.defaultProps,Ae)ye[le]===void 0&&(ye[le]=Ae[le]);return D(k,Me,void 0,void 0,null,ye)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(k){return{$$typeof:m,render:k}},Ie.isValidElement=R,Ie.lazy=function(k){return{$$typeof:E,_payload:{_status:-1,_result:k},_init:ie}},Ie.memo=function(k,ee){return{$$typeof:g,type:k,compare:ee===void 0?null:ee}},Ie.startTransition=function(k){var ee=ue.T,de={};ue.T=de;try{var le=k(),ye=ue.S;ye!==null&&ye(de,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(ze,ce)}catch(Me){ce(Me)}finally{ue.T=ee}},Ie.unstable_useCacheRefresh=function(){return ue.H.useCacheRefresh()},Ie.use=function(k){return ue.H.use(k)},Ie.useActionState=function(k,ee,de){return ue.H.useActionState(k,ee,de)},Ie.useCallback=function(k,ee){return ue.H.useCallback(k,ee)},Ie.useContext=function(k){return ue.H.useContext(k)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(k,ee){return ue.H.useDeferredValue(k,ee)},Ie.useEffect=function(k,ee,de){var le=ue.H;if(typeof de=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return le.useEffect(k,ee)},Ie.useId=function(){return ue.H.useId()},Ie.useImperativeHandle=function(k,ee,de){return ue.H.useImperativeHandle(k,ee,de)},Ie.useInsertionEffect=function(k,ee){return ue.H.useInsertionEffect(k,ee)},Ie.useLayoutEffect=function(k,ee){return ue.H.useLayoutEffect(k,ee)},Ie.useMemo=function(k,ee){return ue.H.useMemo(k,ee)},Ie.useOptimistic=function(k,ee){return ue.H.useOptimistic(k,ee)},Ie.useReducer=function(k,ee,de){return ue.H.useReducer(k,ee,de)},Ie.useRef=function(k){return ue.H.useRef(k)},Ie.useState=function(k){return ue.H.useState(k)},Ie.useSyncExternalStore=function(k,ee,de){return ue.H.useSyncExternalStore(k,ee,de)},Ie.useTransition=function(){return ue.H.useTransition()},Ie.version="19.1.0",Ie}var Uv;function yp(){return Uv||(Uv=1,gm.exports=PA()),gm.exports}var Q=yp();const $n=kA(Q),UA=OA({__proto__:null,default:$n},[Q]);var ym={exports:{}},Gl={},_m={exports:{}},vm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lv;function LA(){return Lv||(Lv=1,function(i){function e(K,ie){var ce=K.length;K.push(ie);e:for(;0<ce;){var ze=ce-1>>>1,k=K[ze];if(0<o(k,ie))K[ze]=ie,K[ce]=k,ce=ze;else break e}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var ie=K[0],ce=K.pop();if(ce!==ie){K[0]=ce;e:for(var ze=0,k=K.length,ee=k>>>1;ze<ee;){var de=2*(ze+1)-1,le=K[de],ye=de+1,Me=K[ye];if(0>o(le,ce))ye<k&&0>o(Me,le)?(K[ze]=Me,K[ye]=ce,ze=ye):(K[ze]=le,K[de]=ce,ze=de);else if(ye<k&&0>o(Me,ce))K[ze]=Me,K[ye]=ce,ze=ye;else break e}}return ie}function o(K,ie){var ce=K.sortIndex-ie.sortIndex;return ce!==0?ce:K.id-ie.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,S=null,x=3,L=!1,z=!1,Y=!1,P=!1,re=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function oe(K){for(var ie=n(g);ie!==null;){if(ie.callback===null)s(g);else if(ie.startTime<=K)s(g),ie.sortIndex=ie.expirationTime,e(p,ie);else break;ie=n(g)}}function ue(K){if(Y=!1,oe(K),!z)if(n(p)!==null)z=!0,ae||(ae=!0,V());else{var ie=n(g);ie!==null&&ve(ue,ie.startTime-K)}}var ae=!1,D=-1,w=5,R=-1;function O(){return P?!0:!(i.unstable_now()-R<w)}function N(){if(P=!1,ae){var K=i.unstable_now();R=K;var ie=!0;try{e:{z=!1,Y&&(Y=!1,ne(D),D=-1),L=!0;var ce=x;try{t:{for(oe(K),S=n(p);S!==null&&!(S.expirationTime>K&&O());){var ze=S.callback;if(typeof ze=="function"){S.callback=null,x=S.priorityLevel;var k=ze(S.expirationTime<=K);if(K=i.unstable_now(),typeof k=="function"){S.callback=k,oe(K),ie=!0;break t}S===n(p)&&s(p),oe(K)}else s(p);S=n(p)}if(S!==null)ie=!0;else{var ee=n(g);ee!==null&&ve(ue,ee.startTime-K),ie=!1}}break e}finally{S=null,x=ce,L=!1}ie=void 0}}finally{ie?V():ae=!1}}}var V;if(typeof te=="function")V=function(){te(N)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,fe=C.port2;C.port1.onmessage=N,V=function(){fe.postMessage(null)}}else V=function(){re(N,0)};function ve(K,ie){D=re(function(){K(i.unstable_now())},ie)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(K){K.callback=null},i.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<K?Math.floor(1e3/K):5},i.unstable_getCurrentPriorityLevel=function(){return x},i.unstable_next=function(K){switch(x){case 1:case 2:case 3:var ie=3;break;default:ie=x}var ce=x;x=ie;try{return K()}finally{x=ce}},i.unstable_requestPaint=function(){P=!0},i.unstable_runWithPriority=function(K,ie){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ce=x;x=K;try{return ie()}finally{x=ce}},i.unstable_scheduleCallback=function(K,ie,ce){var ze=i.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?ze+ce:ze):ce=ze,K){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=ce+k,K={id:E++,callback:ie,priorityLevel:K,startTime:ce,expirationTime:k,sortIndex:-1},ce>ze?(K.sortIndex=ce,e(g,K),n(p)===null&&K===n(g)&&(Y?(ne(D),D=-1):Y=!0,ve(ue,ce-ze))):(K.sortIndex=k,e(p,K),z||L||(z=!0,ae||(ae=!0,V()))),K},i.unstable_shouldYield=O,i.unstable_wrapCallback=function(K){var ie=x;return function(){var ce=x;x=ie;try{return K.apply(this,arguments)}finally{x=ce}}}}(vm)),vm}var jv;function jA(){return jv||(jv=1,_m.exports=LA()),_m.exports}var Em={exports:{}},Xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv;function zA(){if(zv)return Xt;zv=1;var i=yp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:g,implementation:E}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Xt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Xt.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},Xt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Xt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Xt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,S=m(E,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,L=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:x,fetchPriority:L}):E==="script"&&s.d.X(p,{crossOrigin:S,integrity:x,fetchPriority:L,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Xt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Xt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,S=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Xt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Xt.requestFormReset=function(p){s.d.r(p)},Xt.unstable_batchedUpdates=function(p,g){return p(g)},Xt.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},Xt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Xt.version="19.1.0",Xt}var Bv;function HE(){if(Bv)return Em.exports;Bv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Em.exports=zA(),Em.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv;function BA(){if(qv)return Gl;qv=1;var i=jA(),e=yp(),n=HE();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function f(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,b=h.child;b;){if(b===a){v=!0,a=h,l=d;break}if(b===l){v=!0,l=h,a=d;break}b=b.sibling}if(!v){for(b=d.child;b;){if(b===a){v=!0,a=d,l=h;break}if(b===l){v=!0,l=d,a=h;break}b=b.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function g(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=g(t),r!==null)return r;t=t.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),re=Symbol.for("react.provider"),ne=Symbol.for("react.consumer"),te=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function fe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case z:return"Fragment";case P:return"Profiler";case Y:return"StrictMode";case ue:return"Suspense";case ae:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case L:return"Portal";case te:return(t.displayName||"Context")+".Provider";case ne:return(t._context.displayName||"Context")+".Consumer";case oe:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return r=t.displayName||null,r!==null?r:fe(t.type)||"Memo";case w:r=t._payload,t=t._init;try{return fe(t(r))}catch{}}return null}var ve=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},ze=[],k=-1;function ee(t){return{current:t}}function de(t){0>k||(t.current=ze[k],ze[k]=null,k--)}function le(t,r){k++,ze[k]=t.current,t.current=r}var ye=ee(null),Me=ee(null),Ae=ee(null),Lt=ee(null);function Qe(t,r){switch(le(Ae,r),le(Me,t),le(ye,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?lv(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=lv(r),t=uv(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}de(ye),le(ye,t)}function zn(){de(ye),de(Me),de(Ae)}function Lo(t){t.memoizedState!==null&&le(Lt,t);var r=ye.current,a=uv(r,t.type);r!==a&&(le(Me,t),le(ye,a))}function ga(t){Me.current===t&&(de(ye),de(Me)),Lt.current===t&&(de(Lt),jl._currentValue=ce)}var ya=Object.prototype.hasOwnProperty,ps=i.unstable_scheduleCallback,_a=i.unstable_cancelCallback,gf=i.unstable_shouldYield,jo=i.unstable_requestPaint,on=i.unstable_now,Mu=i.unstable_getCurrentPriorityLevel,xt=i.unstable_ImmediatePriority,Ot=i.unstable_UserBlockingPriority,xi=i.unstable_NormalPriority,yf=i.unstable_LowPriority,zo=i.unstable_IdlePriority,_f=i.log,gs=i.unstable_setDisableYieldValue,sr=null,Kt=null;function An(t){if(typeof _f=="function"&&gs(t),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(sr,t)}catch{}}var en=Math.clz32?Math.clz32:Pu,vf=Math.log,Vu=Math.LN2;function Pu(t){return t>>>=0,t===0?32:31-(vf(t)/Vu|0)|0}var ti=256,ar=4194304;function Bn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function wn(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?h=Bn(l):(v&=b,v!==0?h=Bn(v):a||(a=b&~t,a!==0&&(h=Bn(a))))):(b=l&~d,b!==0?h=Bn(b):v!==0?h=Bn(v):a||(a=l&~t,a!==0&&(h=Bn(a)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:h}function or(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function va(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bo(){var t=ti;return ti<<=1,(ti&4194048)===0&&(ti=256),t}function lr(){var t=ar;return ar<<=1,(ar&62914560)===0&&(ar=4194304),t}function Ea(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function pt(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Uu(t,r,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,I=t.expirationTimes,q=t.hiddenUpdates;for(a=v&~a;0<a;){var X=31-en(a),Z=1<<X;b[X]=0,I[X]=-1;var F=q[X];if(F!==null)for(q[X]=null,X=0;X<F.length;X++){var H=F[X];H!==null&&(H.lane&=-536870913)}a&=~Z}l!==0&&ur(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~r))}function ur(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-en(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function cr(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-en(a),h=1<<l;h&r|t[l]&r&&(t[l]|=r),a&=~h}}function qo(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Fo(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ci(){var t=ie.p;return t!==0?t:(t=window.event,t===void 0?32:Cv(t.type))}function Ef(t,r){var a=ie.p;try{return ie.p=t,r()}finally{ie.p=a}}var ni=Math.random().toString(36).slice(2),gt="__reactFiber$"+ni,jt="__reactProps$"+ni,Ii="__reactContainer$"+ni,ys="__reactEvents$"+ni,_s="__reactListeners$"+ni,Tf="__reactHandles$"+ni,qn="__reactResources$"+ni,hr="__reactMarker$"+ni;function Ta(t){delete t[gt],delete t[jt],delete t[ys],delete t[_s],delete t[Tf]}function ii(t){var r=t[gt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Ii]||a[gt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=dv(t);t!==null;){if(a=t[gt])return a;t=dv(t)}return r}t=a,a=t.parentNode}return null}function ri(t){if(t=t[gt]||t[Ii]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function fr(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function dr(t){var r=t[qn];return r||(r=t[qn]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function yt(t){t[hr]=!0}var Lu=new Set,vs={};function si(t,r){ai(t,r),ai(t+"Capture",r)}function ai(t,r){for(vs[t]=r,t=0;t<r.length;t++)Lu.add(r[t])}var Es=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),oi={},ba={};function bf(t){return ya.call(ba,t)?!0:ya.call(oi,t)?!1:Es.test(t)?ba[t]=!0:(oi[t]=!0,!1)}function Ts(t,r,a){if(bf(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function bs(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Rn(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}var Ss,Sa;function Di(t){if(Ss===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Ss=r&&r[1]||"",Sa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ss+t+Sa}var Aa=!1;function wa(t,r){if(!t||Aa)return"";Aa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(H){var F=H}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(H){F=H}t.call(Z.prototype)}}else{try{throw Error()}catch(H){F=H}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(H){if(H&&F&&typeof H.stack=="string")return[H.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],b=d[1];if(v&&b){var I=v.split(`
`),q=b.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===q.length)for(l=I.length-1,h=q.length-1;1<=l&&0<=h&&I[l]!==q[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==q[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==q[h]){var X=`
`+I[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{Aa=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Di(a):""}function Sf(t){switch(t.tag){case 26:case 27:case 5:return Di(t.type);case 16:return Di("Lazy");case 13:return Di("Suspense");case 19:return Di("SuspenseList");case 0:case 15:return wa(t.type,!1);case 11:return wa(t.type.render,!1);case 1:return wa(t.type,!0);case 31:return Di("Activity");default:return""}}function Fn(t){try{var r="";do r+=Sf(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function at(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function mr(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function As(t){var r=mr(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function pr(t){t._valueTracker||(t._valueTracker=As(t))}function Ye(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=mr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function Ni(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ws=/[\n"\\]/g;function kt(t){return t.replace(ws,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ho(t,r,a,l,h,d,v,b){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),r!=null?v==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+at(r)):t.value!==""+at(r)&&(t.value=""+at(r)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),r!=null?Ko(t,v,at(r)):a!=null?Ko(t,v,at(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+at(b):t.removeAttribute("name")}function Go(t,r,a,l,h,d,v,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+at(a):"",r=r!=null?""+at(r):a,b||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function Ko(t,r,a){r==="number"&&Ni(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function gr(t,r,a,l){if(t=t.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=r.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+at(a),r=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function ju(t,r,a){if(r!=null&&(r=""+at(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+at(a):""}function zu(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(ve(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=at(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function xn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var Oi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qo(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||Oi.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function Yo(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&Qo(t,h,l)}else for(var d in r)r.hasOwnProperty(d)&&Qo(t,d,r[d])}function Ra(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hn(t){return qu.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Xo=null;function Wo(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var yr=null,tn=null;function Fu(t){var r=ri(t);if(r&&(t=r.stateNode)){var a=t[jt]||null;e:switch(t=r.stateNode,r.type){case"input":if(Ho(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+kt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var h=l[jt]||null;if(!h)throw Error(s(90));Ho(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Ye(l)}break e;case"textarea":ju(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&gr(t,!!a.multiple,r,!1)}}}var Rs=!1;function xs(t,r,a){if(Rs)return t(r,a);Rs=!0;try{var l=t(r);return l}finally{if(Rs=!1,(yr!==null||tn!==null)&&(Oc(),yr&&(r=yr,t=tn,tn=yr=null,Fu(r),t)))for(r=0;r<t.length;r++)Fu(t[r])}}function _r(t,r){var a=t.stateNode;if(a===null)return null;var l=a[jt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ki=!1;if(nn)try{var vr={};Object.defineProperty(vr,"passive",{get:function(){ki=!0}}),window.addEventListener("test",vr,vr),window.removeEventListener("test",vr,vr)}catch{ki=!1}var Cn=null,Je=null,xa=null;function Hu(){if(xa)return xa;var t,r=Je,a=r.length,l,h="value"in Cn?Cn.value:Cn.textContent,d=h.length;for(t=0;t<a&&r[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&r[a-l]===h[d-l];l++);return xa=h.slice(t,1<l?1-l:void 0)}function Cs(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Is(){return!0}function $o(){return!1}function Ct(t){function r(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Is:$o,this.isPropagationStopped=$o,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Is)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Is)},persist:function(){},isPersistent:Is}),r}var Qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ds=Ct(Qt),Ns=E({},Qt,{view:0,detail:0}),Os=Ct(Ns),Ca,ks,li,Ms=E({},Ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Na,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==li&&(li&&t.type==="mousemove"?(Ca=t.screenX-li.screenX,ks=t.screenY-li.screenY):ks=Ca=0,li=t),Ca)},movementY:function(t){return"movementY"in t?t.movementY:ks}}),Vs=Ct(Ms),Af=E({},Ms,{dataTransfer:0}),Gu=Ct(Af),Ps=E({},Ns,{relatedTarget:0}),Ia=Ct(Ps),Ku=E({},Qt,{animationName:0,elapsedTime:0,pseudoElement:0}),Zo=Ct(Ku),Jo=E({},Qt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Qu=Ct(Jo),Da=E({},Qt,{data:0}),el=Ct(Da),Yu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wu(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Xu[t])?!!r[t]:!1}function Na(){return Wu}var $u=E({},Ns,{key:function(t){if(t.key){var r=Yu[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Cs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Mi[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Na,charCode:function(t){return t.type==="keypress"?Cs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Cs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Oa=Ct($u),rn=E({},Ms,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tl=Ct(rn),Zu=E({},Ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Na}),Er=Ct(Zu),c=E({},Qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),y=Ct(c),_=E({},Ms,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),A=Ct(_),B=E({},Qt,{newState:0,oldState:0}),G=Ct(B),se=[9,13,27,32],xe=nn&&"CompositionEvent"in window,nt=null;nn&&"documentMode"in document&&(nt=document.documentMode);var He=nn&&"TextEvent"in window&&!nt,_t=nn&&(!xe||nt&&8<nt&&11>=nt),dn=" ",ui=!1;function Gn(t,r){switch(t){case"keyup":return se.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kn(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qn=!1;function nl(t,r){switch(t){case"compositionend":return Kn(r);case"keypress":return r.which!==32?null:(ui=!0,dn);case"textInput":return t=r.data,t===dn&&ui?null:t;default:return null}}function s1(t,r){if(Qn)return t==="compositionend"||!xe&&Gn(t,r)?(t=Hu(),xa=Je=Cn=null,Qn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _t&&r.locale!=="ko"?null:r.data;default:return null}}var a1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bg(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!a1[t.type]:r==="textarea"}function Sg(t,r,a,l){yr?tn?tn.push(l):tn=[l]:yr=l,r=Lc(r,"onChange"),0<r.length&&(a=new Ds("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var il=null,rl=null;function o1(t){iv(t,0)}function Ju(t){var r=fr(t);if(Ye(r))return t}function Ag(t,r){if(t==="change")return r}var wg=!1;if(nn){var wf;if(nn){var Rf="oninput"in document;if(!Rf){var Rg=document.createElement("div");Rg.setAttribute("oninput","return;"),Rf=typeof Rg.oninput=="function"}wf=Rf}else wf=!1;wg=wf&&(!document.documentMode||9<document.documentMode)}function xg(){il&&(il.detachEvent("onpropertychange",Cg),rl=il=null)}function Cg(t){if(t.propertyName==="value"&&Ju(rl)){var r=[];Sg(r,rl,t,Wo(t)),xs(o1,r)}}function l1(t,r,a){t==="focusin"?(xg(),il=r,rl=a,il.attachEvent("onpropertychange",Cg)):t==="focusout"&&xg()}function u1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ju(rl)}function c1(t,r){if(t==="click")return Ju(r)}function h1(t,r){if(t==="input"||t==="change")return Ju(r)}function f1(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var mn=typeof Object.is=="function"?Object.is:f1;function sl(t,r){if(mn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ya.call(r,h)||!mn(t[h],r[h]))return!1}return!0}function Ig(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Dg(t,r){var a=Ig(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ig(a)}}function Ng(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Ng(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Og(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Ni(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Ni(t.document)}return r}function xf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var d1=nn&&"documentMode"in document&&11>=document.documentMode,ka=null,Cf=null,al=null,If=!1;function kg(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;If||ka==null||ka!==Ni(l)||(l=ka,"selectionStart"in l&&xf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),al&&sl(al,l)||(al=l,l=Lc(Cf,"onSelect"),0<l.length&&(r=new Ds("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=ka)))}function Us(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Ma={animationend:Us("Animation","AnimationEnd"),animationiteration:Us("Animation","AnimationIteration"),animationstart:Us("Animation","AnimationStart"),transitionrun:Us("Transition","TransitionRun"),transitionstart:Us("Transition","TransitionStart"),transitioncancel:Us("Transition","TransitionCancel"),transitionend:Us("Transition","TransitionEnd")},Df={},Mg={};nn&&(Mg=document.createElement("div").style,"AnimationEvent"in window||(delete Ma.animationend.animation,delete Ma.animationiteration.animation,delete Ma.animationstart.animation),"TransitionEvent"in window||delete Ma.transitionend.transition);function Ls(t){if(Df[t])return Df[t];if(!Ma[t])return t;var r=Ma[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in Mg)return Df[t]=r[a];return t}var Vg=Ls("animationend"),Pg=Ls("animationiteration"),Ug=Ls("animationstart"),m1=Ls("transitionrun"),p1=Ls("transitionstart"),g1=Ls("transitioncancel"),Lg=Ls("transitionend"),jg=new Map,Nf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Nf.push("scrollEnd");function Yn(t,r){jg.set(t,r),si(r,[t])}var zg=new WeakMap;function In(t,r){if(typeof t=="object"&&t!==null){var a=zg.get(t);return a!==void 0?a:(r={value:t,source:r,stack:Fn(r)},zg.set(t,r),r)}return{value:t,source:r,stack:Fn(r)}}var Dn=[],Va=0,Of=0;function ec(){for(var t=Va,r=Of=Va=0;r<t;){var a=Dn[r];Dn[r++]=null;var l=Dn[r];Dn[r++]=null;var h=Dn[r];Dn[r++]=null;var d=Dn[r];if(Dn[r++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Bg(a,h,d)}}function tc(t,r,a,l){Dn[Va++]=t,Dn[Va++]=r,Dn[Va++]=a,Dn[Va++]=l,Of|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function kf(t,r,a,l){return tc(t,r,a,l),nc(t)}function Pa(t,r){return tc(t,null,null,r),nc(t)}function Bg(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&r!==null&&(h=31-en(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[r]:l.push(r),r.lane=a|536870912),d):null}function nc(t){if(50<Nl)throw Nl=0,jd=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Ua={};function y1(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(t,r,a,l){return new y1(t,r,a,l)}function Mf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Vi(t,r){var a=t.alternate;return a===null?(a=pn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function qg(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function ic(t,r,a,l,h,d){var v=0;if(l=t,typeof t=="function")Mf(t)&&(v=1);else if(typeof t=="string")v=vA(t,a,ye.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=pn(31,a,r,h),t.elementType=R,t.lanes=d,t;case z:return js(a.children,h,d,r);case Y:v=8,h|=24;break;case P:return t=pn(12,a,r,h|2),t.elementType=P,t.lanes=d,t;case ue:return t=pn(13,a,r,h),t.elementType=ue,t.lanes=d,t;case ae:return t=pn(19,a,r,h),t.elementType=ae,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case re:case te:v=10;break e;case ne:v=9;break e;case oe:v=11;break e;case D:v=14;break e;case w:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=pn(v,a,r,h),r.elementType=t,r.type=l,r.lanes=d,r}function js(t,r,a,l){return t=pn(7,t,l,r),t.lanes=a,t}function Vf(t,r,a){return t=pn(6,t,null,r),t.lanes=a,t}function Pf(t,r,a){return r=pn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var La=[],ja=0,rc=null,sc=0,Nn=[],On=0,zs=null,Pi=1,Ui="";function Bs(t,r){La[ja++]=sc,La[ja++]=rc,rc=t,sc=r}function Fg(t,r,a){Nn[On++]=Pi,Nn[On++]=Ui,Nn[On++]=zs,zs=t;var l=Pi;t=Ui;var h=32-en(l)-1;l&=~(1<<h),a+=1;var d=32-en(r)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Pi=1<<32-en(r)+h|a<<h|l,Ui=d+t}else Pi=1<<d|a<<h|l,Ui=t}function Uf(t){t.return!==null&&(Bs(t,1),Fg(t,1,0))}function Lf(t){for(;t===rc;)rc=La[--ja],La[ja]=null,sc=La[--ja],La[ja]=null;for(;t===zs;)zs=Nn[--On],Nn[On]=null,Ui=Nn[--On],Nn[On]=null,Pi=Nn[--On],Nn[On]=null}var sn=null,ct=null,qe=!1,qs=null,ci=!1,jf=Error(s(519));function Fs(t){var r=Error(s(418,""));throw ul(In(r,t)),jf}function Hg(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[gt]=t,r[jt]=l,a){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(a=0;a<kl.length;a++)ke(kl[a],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":ke("invalid",r),Go(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),pr(r);break;case"select":ke("invalid",r);break;case"textarea":ke("invalid",r),zu(r,l.value,l.defaultValue,l.children),pr(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||ov(r.textContent,a)?(l.popover!=null&&(ke("beforetoggle",r),ke("toggle",r)),l.onScroll!=null&&ke("scroll",r),l.onScrollEnd!=null&&ke("scrollend",r),l.onClick!=null&&(r.onclick=jc),r=!0):r=!1,r||Fs(t)}function Gg(t){for(sn=t.return;sn;)switch(sn.tag){case 5:case 13:ci=!1;return;case 27:case 3:ci=!0;return;default:sn=sn.return}}function ol(t){if(t!==sn)return!1;if(!qe)return Gg(t),qe=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||tm(t.type,t.memoizedProps)),a=!a),a&&ct&&Fs(t),Gg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){ct=Wn(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}ct=null}}else r===27?(r=ct,Pr(t.type)?(t=sm,sm=null,ct=t):ct=r):ct=sn?Wn(t.stateNode.nextSibling):null;return!0}function ll(){ct=sn=null,qe=!1}function Kg(){var t=qs;return t!==null&&(cn===null?cn=t:cn.push.apply(cn,t),qs=null),t}function ul(t){qs===null?qs=[t]:qs.push(t)}var zf=ee(null),Hs=null,Li=null;function Tr(t,r,a){le(zf,r._currentValue),r._currentValue=a}function ji(t){t._currentValue=zf.current,de(zf)}function Bf(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function qf(t,r,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=h;for(var I=0;I<r.length;I++)if(b.context===r[I]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),Bf(d.return,a,t),l||(v=null);break e}d=b.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Bf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function cl(t,r,a,l){t=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var b=h.type;mn(h.pendingProps.value,v.value)||(t!==null?t.push(b):t=[b])}}else if(h===Lt.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(jl):t=[jl])}h=h.return}t!==null&&qf(r,t,a,l),r.flags|=262144}function ac(t){for(t=t.firstContext;t!==null;){if(!mn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Gs(t){Hs=t,Li=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Yt(t){return Qg(Hs,t)}function oc(t,r){return Hs===null&&Gs(t),Qg(t,r)}function Qg(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Li===null){if(t===null)throw Error(s(308));Li=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Li=Li.next=r;return a}var _1=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},v1=i.unstable_scheduleCallback,E1=i.unstable_NormalPriority,It={$$typeof:te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ff(){return{controller:new _1,data:new Map,refCount:0}}function hl(t){t.refCount--,t.refCount===0&&v1(E1,function(){t.controller.abort()})}var fl=null,Hf=0,za=0,Ba=null;function T1(t,r){if(fl===null){var a=fl=[];Hf=0,za=Kd(),Ba={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Hf++,r.then(Yg,Yg),r}function Yg(){if(--Hf===0&&fl!==null){Ba!==null&&(Ba.status="fulfilled");var t=fl;fl=null,za=0,Ba=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function b1(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Xg=K.S;K.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&T1(t,r),Xg!==null&&Xg(t,r)};var Ks=ee(null);function Gf(){var t=Ks.current;return t!==null?t:et.pooledCache}function lc(t,r){r===null?le(Ks,Ks.current):le(Ks,r.pool)}function Wg(){var t=Gf();return t===null?null:{parent:It._currentValue,pool:t}}var dl=Error(s(460)),$g=Error(s(474)),uc=Error(s(542)),Kf={then:function(){}};function Zg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function cc(){}function Jg(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(cc,cc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,ty(t),t;default:if(typeof r.status=="string")r.then(cc,cc);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,ty(t),t}throw ml=r,dl}}var ml=null;function ey(){if(ml===null)throw Error(s(459));var t=ml;return ml=null,t}function ty(t){if(t===dl||t===uc)throw Error(s(483))}var br=!1;function Qf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Sr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ar(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=nc(t),Bg(t,null,a),r}return tc(t,l,r,a),nc(t)}function pl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,cr(t,a)}}function Xf(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=r:d=d.next=r}else h=d=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var Wf=!1;function gl(){if(Wf){var t=Ba;if(t!==null)throw t}}function yl(t,r,a,l){Wf=!1;var h=t.updateQueue;br=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var I=b,q=I.next;I.next=null,v===null?d=q:v.next=q,v=I;var X=t.alternate;X!==null&&(X=X.updateQueue,b=X.lastBaseUpdate,b!==v&&(b===null?X.firstBaseUpdate=q:b.next=q,X.lastBaseUpdate=I))}if(d!==null){var Z=h.baseState;v=0,X=q=I=null,b=d;do{var F=b.lane&-536870913,H=F!==b.lane;if(H?(Le&F)===F:(l&F)===F){F!==0&&F===za&&(Wf=!0),X!==null&&(X=X.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var we=t,Ee=b;F=r;var $e=a;switch(Ee.tag){case 1:if(we=Ee.payload,typeof we=="function"){Z=we.call($e,Z,F);break e}Z=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=Ee.payload,F=typeof we=="function"?we.call($e,Z,F):we,F==null)break e;Z=E({},Z,F);break e;case 2:br=!0}}F=b.callback,F!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[F]:H.push(F))}else H={lane:F,tag:b.tag,payload:b.payload,callback:b.callback,next:null},X===null?(q=X=H,I=Z):X=X.next=H,v|=F;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;H=b,b=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);X===null&&(I=Z),h.baseState=I,h.firstBaseUpdate=q,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),Or|=v,t.lanes=v,t.memoizedState=Z}}function ny(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function iy(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)ny(a[t],r)}var qa=ee(null),hc=ee(0);function ry(t,r){t=Ki,le(hc,t),le(qa,r),Ki=t|r.baseLanes}function $f(){le(hc,Ki),le(qa,qa.current)}function Zf(){Ki=hc.current,de(qa),de(hc)}var wr=0,De=null,Xe=null,bt=null,fc=!1,Fa=!1,Qs=!1,dc=0,_l=0,Ha=null,S1=0;function vt(){throw Error(s(321))}function Jf(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!mn(t[a],r[a]))return!1;return!0}function ed(t,r,a,l,h,d){return wr=d,De=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,K.H=t===null||t.memoizedState===null?By:qy,Qs=!1,d=a(l,h),Qs=!1,Fa&&(d=ay(r,a,l,h)),sy(t),d}function sy(t){K.H=vc;var r=Xe!==null&&Xe.next!==null;if(wr=0,bt=Xe=De=null,fc=!1,_l=0,Ha=null,r)throw Error(s(300));t===null||Mt||(t=t.dependencies,t!==null&&ac(t)&&(Mt=!0))}function ay(t,r,a,l){De=t;var h=0;do{if(Fa&&(Ha=null),_l=0,Fa=!1,25<=h)throw Error(s(301));if(h+=1,bt=Xe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=D1,d=r(a,l)}while(Fa);return d}function A1(){var t=K.H,r=t.useState()[0];return r=typeof r.then=="function"?vl(r):r,t=t.useState()[0],(Xe!==null?Xe.memoizedState:null)!==t&&(De.flags|=1024),r}function td(){var t=dc!==0;return dc=0,t}function nd(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function id(t){if(fc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}fc=!1}wr=0,bt=Xe=De=null,Fa=!1,_l=dc=0,Ha=null}function ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?De.memoizedState=bt=t:bt=bt.next=t,bt}function St(){if(Xe===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var r=bt===null?De.memoizedState:bt.next;if(r!==null)bt=r,Xe=t;else{if(t===null)throw De.alternate===null?Error(s(467)):Error(s(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},bt===null?De.memoizedState=bt=t:bt=bt.next=t}return bt}function rd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vl(t){var r=_l;return _l+=1,Ha===null&&(Ha=[]),t=Jg(Ha,t,r),r=De,(bt===null?r.memoizedState:bt.next)===null&&(r=r.alternate,K.H=r===null||r.memoizedState===null?By:qy),t}function mc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return vl(t);if(t.$$typeof===te)return Yt(t)}throw Error(s(438,String(t)))}function sd(t){var r=null,a=De.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=De.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=rd(),De.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=O;return r.index++,a}function zi(t,r){return typeof r=="function"?r(t):r}function pc(t){var r=St();return ad(r,Xe,t)}function ad(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}r.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{r=h.next;var b=v=null,I=null,q=r,X=!1;do{var Z=q.lane&-536870913;if(Z!==q.lane?(Le&Z)===Z:(wr&Z)===Z){var F=q.revertLane;if(F===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),Z===za&&(X=!0);else if((wr&F)===F){q=q.next,F===za&&(X=!0);continue}else Z={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},I===null?(b=I=Z,v=d):I=I.next=Z,De.lanes|=F,Or|=F;Z=q.action,Qs&&a(d,Z),d=q.hasEagerState?q.eagerState:a(d,Z)}else F={lane:Z,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},I===null?(b=I=F,v=d):I=I.next=F,De.lanes|=Z,Or|=Z;q=q.next}while(q!==null&&q!==r);if(I===null?v=d:I.next=b,!mn(d,t.memoizedState)&&(Mt=!0,X&&(a=Ba,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function od(t){var r=St(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=r.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);mn(d,r.memoizedState)||(Mt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function oy(t,r,a){var l=De,h=St(),d=qe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!mn((Xe||h).memoizedState,a);v&&(h.memoizedState=a,Mt=!0),h=h.queue;var b=cy.bind(null,l,h,t);if(El(2048,8,b,[t]),h.getSnapshot!==r||v||bt!==null&&bt.memoizedState.tag&1){if(l.flags|=2048,Ga(9,gc(),uy.bind(null,l,h,a,r),null),et===null)throw Error(s(349));d||(wr&124)!==0||ly(l,r,a)}return a}function ly(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=De.updateQueue,r===null?(r=rd(),De.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function uy(t,r,a,l){r.value=a,r.getSnapshot=l,hy(r)&&fy(t)}function cy(t,r,a){return a(function(){hy(r)&&fy(t)})}function hy(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!mn(t,a)}catch{return!0}}function fy(t){var r=Pa(t,2);r!==null&&En(r,t,2)}function ld(t){var r=ln();if(typeof t=="function"){var a=t;if(t=a(),Qs){An(!0);try{a()}finally{An(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:t},r}function dy(t,r,a,l){return t.baseState=a,ad(t,Xe,typeof l=="function"?l:zi)}function w1(t,r,a,l,h){if(_c(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};K.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,my(r,d)):(d.next=a.next,r.pending=a.next=d)}}function my(t,r){var a=r.action,l=r.payload,h=t.state;if(r.isTransition){var d=K.T,v={};K.T=v;try{var b=a(h,l),I=K.S;I!==null&&I(v,b),py(t,r,b)}catch(q){ud(t,r,q)}finally{K.T=d}}else try{d=a(h,l),py(t,r,d)}catch(q){ud(t,r,q)}}function py(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){gy(t,r,l)},function(l){return ud(t,r,l)}):gy(t,r,a)}function gy(t,r,a){r.status="fulfilled",r.value=a,yy(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,my(t,a)))}function ud(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,yy(r),r=r.next;while(r!==l)}t.action=null}function yy(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function _y(t,r){return r}function vy(t,r){if(qe){var a=et.formState;if(a!==null){e:{var l=De;if(qe){if(ct){t:{for(var h=ct,d=ci;h.nodeType!==8;){if(!d){h=null;break t}if(h=Wn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ct=Wn(h.nextSibling),l=h.data==="F!";break e}}Fs(l)}l=!1}l&&(r=a[0])}}return a=ln(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_y,lastRenderedState:r},a.queue=l,a=Ly.bind(null,De,l),l.dispatch=a,l=ld(!1),d=md.bind(null,De,!1,l.queue),l=ln(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,a=w1.bind(null,De,h,d,a),h.dispatch=a,l.memoizedState=t,[r,a,!1]}function Ey(t){var r=St();return Ty(r,Xe,t)}function Ty(t,r,a){if(r=ad(t,r,_y)[0],t=pc(zi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=vl(r)}catch(v){throw v===dl?uc:v}else l=r;r=St();var h=r.queue,d=h.dispatch;return a!==r.memoizedState&&(De.flags|=2048,Ga(9,gc(),R1.bind(null,h,a),null)),[l,d,t]}function R1(t,r){t.action=r}function by(t){var r=St(),a=Xe;if(a!==null)return Ty(r,a,t);St(),r=r.memoizedState,a=St();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function Ga(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=De.updateQueue,r===null&&(r=rd(),De.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function gc(){return{destroy:void 0,resource:void 0}}function Sy(){return St().memoizedState}function yc(t,r,a,l){var h=ln();l=l===void 0?null:l,De.flags|=t,h.memoizedState=Ga(1|r,gc(),a,l)}function El(t,r,a,l){var h=St();l=l===void 0?null:l;var d=h.memoizedState.inst;Xe!==null&&l!==null&&Jf(l,Xe.memoizedState.deps)?h.memoizedState=Ga(r,d,a,l):(De.flags|=t,h.memoizedState=Ga(1|r,d,a,l))}function Ay(t,r){yc(8390656,8,t,r)}function wy(t,r){El(2048,8,t,r)}function Ry(t,r){return El(4,2,t,r)}function xy(t,r){return El(4,4,t,r)}function Cy(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Iy(t,r,a){a=a!=null?a.concat([t]):null,El(4,4,Cy.bind(null,r,t),a)}function cd(){}function Dy(t,r){var a=St();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Jf(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function Ny(t,r){var a=St();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Jf(r,l[1]))return l[0];if(l=t(),Qs){An(!0);try{t()}finally{An(!1)}}return a.memoizedState=[l,r],l}function hd(t,r,a){return a===void 0||(wr&1073741824)!==0?t.memoizedState=r:(t.memoizedState=a,t=M_(),De.lanes|=t,Or|=t,a)}function Oy(t,r,a,l){return mn(a,r)?a:qa.current!==null?(t=hd(t,a,l),mn(t,r)||(Mt=!0),t):(wr&42)===0?(Mt=!0,t.memoizedState=a):(t=M_(),De.lanes|=t,Or|=t,r)}function ky(t,r,a,l,h){var d=ie.p;ie.p=d!==0&&8>d?d:8;var v=K.T,b={};K.T=b,md(t,!1,r,a);try{var I=h(),q=K.S;if(q!==null&&q(b,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var X=b1(I,l);Tl(t,r,X,vn(t))}else Tl(t,r,l,vn(t))}catch(Z){Tl(t,r,{then:function(){},status:"rejected",reason:Z},vn())}finally{ie.p=d,K.T=v}}function x1(){}function fd(t,r,a,l){if(t.tag!==5)throw Error(s(476));var h=My(t).queue;ky(t,h,r,ce,a===null?x1:function(){return Vy(t),a(l)})}function My(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:ce},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Vy(t){var r=My(t).next.queue;Tl(t,r,{},vn())}function dd(){return Yt(jl)}function Py(){return St().memoizedState}function Uy(){return St().memoizedState}function C1(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=vn();t=Sr(a);var l=Ar(r,t,a);l!==null&&(En(l,r,a),pl(l,r,a)),r={cache:Ff()},t.payload=r;return}r=r.return}}function I1(t,r,a){var l=vn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},_c(t)?jy(r,a):(a=kf(t,r,a,l),a!==null&&(En(a,t,l),zy(a,r,l)))}function Ly(t,r,a){var l=vn();Tl(t,r,a,l)}function Tl(t,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(_c(t))jy(r,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var v=r.lastRenderedState,b=d(v,a);if(h.hasEagerState=!0,h.eagerState=b,mn(b,v))return tc(t,r,h,0),et===null&&ec(),!1}catch{}finally{}if(a=kf(t,r,h,l),a!==null)return En(a,t,l),zy(a,r,l),!0}return!1}function md(t,r,a,l){if(l={lane:2,revertLane:Kd(),action:l,hasEagerState:!1,eagerState:null,next:null},_c(t)){if(r)throw Error(s(479))}else r=kf(t,a,l,2),r!==null&&En(r,t,2)}function _c(t){var r=t.alternate;return t===De||r!==null&&r===De}function jy(t,r){Fa=fc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function zy(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,cr(t,a)}}var vc={readContext:Yt,use:mc,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useLayoutEffect:vt,useInsertionEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useSyncExternalStore:vt,useId:vt,useHostTransitionStatus:vt,useFormState:vt,useActionState:vt,useOptimistic:vt,useMemoCache:vt,useCacheRefresh:vt},By={readContext:Yt,use:mc,useCallback:function(t,r){return ln().memoizedState=[t,r===void 0?null:r],t},useContext:Yt,useEffect:Ay,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,yc(4194308,4,Cy.bind(null,r,t),a)},useLayoutEffect:function(t,r){return yc(4194308,4,t,r)},useInsertionEffect:function(t,r){yc(4,2,t,r)},useMemo:function(t,r){var a=ln();r=r===void 0?null:r;var l=t();if(Qs){An(!0);try{t()}finally{An(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=ln();if(a!==void 0){var h=a(r);if(Qs){An(!0);try{a(r)}finally{An(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=I1.bind(null,De,t),[l.memoizedState,t]},useRef:function(t){var r=ln();return t={current:t},r.memoizedState=t},useState:function(t){t=ld(t);var r=t.queue,a=Ly.bind(null,De,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:cd,useDeferredValue:function(t,r){var a=ln();return hd(a,t,r)},useTransition:function(){var t=ld(!1);return t=ky.bind(null,De,t.queue,!0,!1),ln().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=De,h=ln();if(qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),et===null)throw Error(s(349));(Le&124)!==0||ly(l,r,a)}h.memoizedState=a;var d={value:a,getSnapshot:r};return h.queue=d,Ay(cy.bind(null,l,d,t),[t]),l.flags|=2048,Ga(9,gc(),uy.bind(null,l,d,a,r),null),a},useId:function(){var t=ln(),r=et.identifierPrefix;if(qe){var a=Ui,l=Pi;a=(l&~(1<<32-en(l)-1)).toString(32)+a,r=""+r+"R"+a,a=dc++,0<a&&(r+="H"+a.toString(32)),r+=""}else a=S1++,r=""+r+"r"+a.toString(32)+"";return t.memoizedState=r},useHostTransitionStatus:dd,useFormState:vy,useActionState:vy,useOptimistic:function(t){var r=ln();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=md.bind(null,De,!0,a),a.dispatch=r,[t,r]},useMemoCache:sd,useCacheRefresh:function(){return ln().memoizedState=C1.bind(null,De)}},qy={readContext:Yt,use:mc,useCallback:Dy,useContext:Yt,useEffect:wy,useImperativeHandle:Iy,useInsertionEffect:Ry,useLayoutEffect:xy,useMemo:Ny,useReducer:pc,useRef:Sy,useState:function(){return pc(zi)},useDebugValue:cd,useDeferredValue:function(t,r){var a=St();return Oy(a,Xe.memoizedState,t,r)},useTransition:function(){var t=pc(zi)[0],r=St().memoizedState;return[typeof t=="boolean"?t:vl(t),r]},useSyncExternalStore:oy,useId:Py,useHostTransitionStatus:dd,useFormState:Ey,useActionState:Ey,useOptimistic:function(t,r){var a=St();return dy(a,Xe,t,r)},useMemoCache:sd,useCacheRefresh:Uy},D1={readContext:Yt,use:mc,useCallback:Dy,useContext:Yt,useEffect:wy,useImperativeHandle:Iy,useInsertionEffect:Ry,useLayoutEffect:xy,useMemo:Ny,useReducer:od,useRef:Sy,useState:function(){return od(zi)},useDebugValue:cd,useDeferredValue:function(t,r){var a=St();return Xe===null?hd(a,t,r):Oy(a,Xe.memoizedState,t,r)},useTransition:function(){var t=od(zi)[0],r=St().memoizedState;return[typeof t=="boolean"?t:vl(t),r]},useSyncExternalStore:oy,useId:Py,useHostTransitionStatus:dd,useFormState:by,useActionState:by,useOptimistic:function(t,r){var a=St();return Xe!==null?dy(a,Xe,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:sd,useCacheRefresh:Uy},Ka=null,bl=0;function Ec(t){var r=bl;return bl+=1,Ka===null&&(Ka=[]),Jg(Ka,t,r)}function Sl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function Tc(t,r){throw r.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Fy(t){var r=t._init;return r(t._payload)}function Hy(t){function r(U,M){if(t){var j=U.deletions;j===null?(U.deletions=[M],U.flags|=16):j.push(M)}}function a(U,M){if(!t)return null;for(;M!==null;)r(U,M),M=M.sibling;return null}function l(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function h(U,M){return U=Vi(U,M),U.index=0,U.sibling=null,U}function d(U,M,j){return U.index=j,t?(j=U.alternate,j!==null?(j=j.index,j<M?(U.flags|=67108866,M):j):(U.flags|=67108866,M)):(U.flags|=1048576,M)}function v(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function b(U,M,j,W){return M===null||M.tag!==6?(M=Vf(j,U.mode,W),M.return=U,M):(M=h(M,j),M.return=U,M)}function I(U,M,j,W){var pe=j.type;return pe===z?X(U,M,j.props.children,W,j.key):M!==null&&(M.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===w&&Fy(pe)===M.type)?(M=h(M,j.props),Sl(M,j),M.return=U,M):(M=ic(j.type,j.key,j.props,null,U.mode,W),Sl(M,j),M.return=U,M)}function q(U,M,j,W){return M===null||M.tag!==4||M.stateNode.containerInfo!==j.containerInfo||M.stateNode.implementation!==j.implementation?(M=Pf(j,U.mode,W),M.return=U,M):(M=h(M,j.children||[]),M.return=U,M)}function X(U,M,j,W,pe){return M===null||M.tag!==7?(M=js(j,U.mode,W,pe),M.return=U,M):(M=h(M,j),M.return=U,M)}function Z(U,M,j){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Vf(""+M,U.mode,j),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case x:return j=ic(M.type,M.key,M.props,null,U.mode,j),Sl(j,M),j.return=U,j;case L:return M=Pf(M,U.mode,j),M.return=U,M;case w:var W=M._init;return M=W(M._payload),Z(U,M,j)}if(ve(M)||V(M))return M=js(M,U.mode,j,null),M.return=U,M;if(typeof M.then=="function")return Z(U,Ec(M),j);if(M.$$typeof===te)return Z(U,oc(U,M),j);Tc(U,M)}return null}function F(U,M,j,W){var pe=M!==null?M.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return pe!==null?null:b(U,M,""+j,W);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case x:return j.key===pe?I(U,M,j,W):null;case L:return j.key===pe?q(U,M,j,W):null;case w:return pe=j._init,j=pe(j._payload),F(U,M,j,W)}if(ve(j)||V(j))return pe!==null?null:X(U,M,j,W,null);if(typeof j.then=="function")return F(U,M,Ec(j),W);if(j.$$typeof===te)return F(U,M,oc(U,j),W);Tc(U,j)}return null}function H(U,M,j,W,pe){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return U=U.get(j)||null,b(M,U,""+W,pe);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case x:return U=U.get(W.key===null?j:W.key)||null,I(M,U,W,pe);case L:return U=U.get(W.key===null?j:W.key)||null,q(M,U,W,pe);case w:var Ne=W._init;return W=Ne(W._payload),H(U,M,j,W,pe)}if(ve(W)||V(W))return U=U.get(j)||null,X(M,U,W,pe,null);if(typeof W.then=="function")return H(U,M,j,Ec(W),pe);if(W.$$typeof===te)return H(U,M,j,oc(M,W),pe);Tc(M,W)}return null}function we(U,M,j,W){for(var pe=null,Ne=null,ge=M,Te=M=0,Pt=null;ge!==null&&Te<j.length;Te++){ge.index>Te?(Pt=ge,ge=null):Pt=ge.sibling;var Be=F(U,ge,j[Te],W);if(Be===null){ge===null&&(ge=Pt);break}t&&ge&&Be.alternate===null&&r(U,ge),M=d(Be,M,Te),Ne===null?pe=Be:Ne.sibling=Be,Ne=Be,ge=Pt}if(Te===j.length)return a(U,ge),qe&&Bs(U,Te),pe;if(ge===null){for(;Te<j.length;Te++)ge=Z(U,j[Te],W),ge!==null&&(M=d(ge,M,Te),Ne===null?pe=ge:Ne.sibling=ge,Ne=ge);return qe&&Bs(U,Te),pe}for(ge=l(ge);Te<j.length;Te++)Pt=H(ge,U,Te,j[Te],W),Pt!==null&&(t&&Pt.alternate!==null&&ge.delete(Pt.key===null?Te:Pt.key),M=d(Pt,M,Te),Ne===null?pe=Pt:Ne.sibling=Pt,Ne=Pt);return t&&ge.forEach(function(Br){return r(U,Br)}),qe&&Bs(U,Te),pe}function Ee(U,M,j,W){if(j==null)throw Error(s(151));for(var pe=null,Ne=null,ge=M,Te=M=0,Pt=null,Be=j.next();ge!==null&&!Be.done;Te++,Be=j.next()){ge.index>Te?(Pt=ge,ge=null):Pt=ge.sibling;var Br=F(U,ge,Be.value,W);if(Br===null){ge===null&&(ge=Pt);break}t&&ge&&Br.alternate===null&&r(U,ge),M=d(Br,M,Te),Ne===null?pe=Br:Ne.sibling=Br,Ne=Br,ge=Pt}if(Be.done)return a(U,ge),qe&&Bs(U,Te),pe;if(ge===null){for(;!Be.done;Te++,Be=j.next())Be=Z(U,Be.value,W),Be!==null&&(M=d(Be,M,Te),Ne===null?pe=Be:Ne.sibling=Be,Ne=Be);return qe&&Bs(U,Te),pe}for(ge=l(ge);!Be.done;Te++,Be=j.next())Be=H(ge,U,Te,Be.value,W),Be!==null&&(t&&Be.alternate!==null&&ge.delete(Be.key===null?Te:Be.key),M=d(Be,M,Te),Ne===null?pe=Be:Ne.sibling=Be,Ne=Be);return t&&ge.forEach(function(NA){return r(U,NA)}),qe&&Bs(U,Te),pe}function $e(U,M,j,W){if(typeof j=="object"&&j!==null&&j.type===z&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case x:e:{for(var pe=j.key;M!==null;){if(M.key===pe){if(pe=j.type,pe===z){if(M.tag===7){a(U,M.sibling),W=h(M,j.props.children),W.return=U,U=W;break e}}else if(M.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===w&&Fy(pe)===M.type){a(U,M.sibling),W=h(M,j.props),Sl(W,j),W.return=U,U=W;break e}a(U,M);break}else r(U,M);M=M.sibling}j.type===z?(W=js(j.props.children,U.mode,W,j.key),W.return=U,U=W):(W=ic(j.type,j.key,j.props,null,U.mode,W),Sl(W,j),W.return=U,U=W)}return v(U);case L:e:{for(pe=j.key;M!==null;){if(M.key===pe)if(M.tag===4&&M.stateNode.containerInfo===j.containerInfo&&M.stateNode.implementation===j.implementation){a(U,M.sibling),W=h(M,j.children||[]),W.return=U,U=W;break e}else{a(U,M);break}else r(U,M);M=M.sibling}W=Pf(j,U.mode,W),W.return=U,U=W}return v(U);case w:return pe=j._init,j=pe(j._payload),$e(U,M,j,W)}if(ve(j))return we(U,M,j,W);if(V(j)){if(pe=V(j),typeof pe!="function")throw Error(s(150));return j=pe.call(j),Ee(U,M,j,W)}if(typeof j.then=="function")return $e(U,M,Ec(j),W);if(j.$$typeof===te)return $e(U,M,oc(U,j),W);Tc(U,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,M!==null&&M.tag===6?(a(U,M.sibling),W=h(M,j),W.return=U,U=W):(a(U,M),W=Vf(j,U.mode,W),W.return=U,U=W),v(U)):a(U,M)}return function(U,M,j,W){try{bl=0;var pe=$e(U,M,j,W);return Ka=null,pe}catch(ge){if(ge===dl||ge===uc)throw ge;var Ne=pn(29,ge,null,U.mode);return Ne.lanes=W,Ne.return=U,Ne}finally{}}}var Qa=Hy(!0),Gy=Hy(!1),kn=ee(null),hi=null;function Rr(t){var r=t.alternate;le(Dt,Dt.current&1),le(kn,t),hi===null&&(r===null||qa.current!==null||r.memoizedState!==null)&&(hi=t)}function Ky(t){if(t.tag===22){if(le(Dt,Dt.current),le(kn,t),hi===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(hi=t)}}else xr()}function xr(){le(Dt,Dt.current),le(kn,kn.current)}function Bi(t){de(kn),hi===t&&(hi=null),de(Dt)}var Dt=ee(0);function bc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||rm(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function pd(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:E({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var gd={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=vn(),h=Sr(l);h.payload=r,a!=null&&(h.callback=a),r=Ar(t,h,l),r!==null&&(En(r,t,l),pl(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=vn(),h=Sr(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=Ar(t,h,l),r!==null&&(En(r,t,l),pl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=vn(),l=Sr(a);l.tag=2,r!=null&&(l.callback=r),r=Ar(t,l,a),r!==null&&(En(r,t,a),pl(r,t,a))}};function Qy(t,r,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):r.prototype&&r.prototype.isPureReactComponent?!sl(a,l)||!sl(h,d):!0}function Yy(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&gd.enqueueReplaceState(r,r.state,null)}function Ys(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var Sc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Xy(t){Sc(t)}function Wy(t){console.error(t)}function $y(t){Sc(t)}function Ac(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Zy(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function yd(t,r,a){return a=Sr(a),a.tag=3,a.payload={element:null},a.callback=function(){Ac(t,r)},a}function Jy(t){return t=Sr(t),t.tag=3,t}function e_(t,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Zy(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Zy(r,a,l),typeof h!="function"&&(kr===null?kr=new Set([this]):kr.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function N1(t,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&cl(r,a,h,!0),a=kn.current,a!==null){switch(a.tag){case 13:return hi===null?Bd():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Kf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Fd(t,l,h)),!1;case 22:return a.flags|=65536,l===Kf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Fd(t,l,h)),!1}throw Error(s(435,a.tag))}return Fd(t,l,h),Bd(),!1}if(qe)return r=kn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==jf&&(t=Error(s(422),{cause:l}),ul(In(t,a)))):(l!==jf&&(r=Error(s(423),{cause:l}),ul(In(r,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=In(l,a),h=yd(t.stateNode,l,h),Xf(t,h),ht!==4&&(ht=2)),!1;var d=Error(s(520),{cause:l});if(d=In(d,a),Dl===null?Dl=[d]:Dl.push(d),ht!==4&&(ht=2),r===null)return!0;l=In(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=yd(a.stateNode,l,t),Xf(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(kr===null||!kr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Jy(h),e_(h,t,a,l),Xf(a,h),!1}a=a.return}while(a!==null);return!1}var t_=Error(s(461)),Mt=!1;function zt(t,r,a,l){r.child=t===null?Gy(r,null,a,l):Qa(r,t.child,a,l)}function n_(t,r,a,l,h){a=a.render;var d=r.ref;if("ref"in l){var v={};for(var b in l)b!=="ref"&&(v[b]=l[b])}else v=l;return Gs(r),l=ed(t,r,a,v,d,h),b=td(),t!==null&&!Mt?(nd(t,r,h),qi(t,r,h)):(qe&&b&&Uf(r),r.flags|=1,zt(t,r,l,h),r.child)}function i_(t,r,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Mf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,r_(t,r,d,l,h)):(t=ic(a.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!wd(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:sl,a(v,l)&&t.ref===r.ref)return qi(t,r,h)}return r.flags|=1,t=Vi(d,l),t.ref=r.ref,t.return=r,r.child=t}function r_(t,r,a,l,h){if(t!==null){var d=t.memoizedProps;if(sl(d,l)&&t.ref===r.ref)if(Mt=!1,r.pendingProps=l=d,wd(t,h))(t.flags&131072)!==0&&(Mt=!0);else return r.lanes=t.lanes,qi(t,r,h)}return _d(t,r,a,l,h)}function s_(t,r,a){var l=r.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=r.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return a_(t,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&lc(r,d!==null?d.cachePool:null),d!==null?ry(r,d):$f(),Ky(r);else return r.lanes=r.childLanes=536870912,a_(t,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(lc(r,d.cachePool),ry(r,d),xr(),r.memoizedState=null):(t!==null&&lc(r,null),$f(),xr());return zt(t,r,h,a),r.child}function a_(t,r,a,l){var h=Gf();return h=h===null?null:{parent:It._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},t!==null&&lc(r,null),$f(),Ky(r),t!==null&&cl(t,r,l,!0),null}function wc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function _d(t,r,a,l,h){return Gs(r),a=ed(t,r,a,l,void 0,h),l=td(),t!==null&&!Mt?(nd(t,r,h),qi(t,r,h)):(qe&&l&&Uf(r),r.flags|=1,zt(t,r,a,h),r.child)}function o_(t,r,a,l,h,d){return Gs(r),r.updateQueue=null,a=ay(r,l,a,h),sy(t),l=td(),t!==null&&!Mt?(nd(t,r,d),qi(t,r,d)):(qe&&l&&Uf(r),r.flags|=1,zt(t,r,a,d),r.child)}function l_(t,r,a,l,h){if(Gs(r),r.stateNode===null){var d=Ua,v=a.contextType;typeof v=="object"&&v!==null&&(d=Yt(v)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=gd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Qf(r),v=a.contextType,d.context=typeof v=="object"&&v!==null?Yt(v):Ua,d.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(pd(r,a,v,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&gd.enqueueReplaceState(d,d.state,null),yl(r,l,d,h),gl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var b=r.memoizedProps,I=Ys(a,b);d.props=I;var q=d.context,X=a.contextType;v=Ua,typeof X=="object"&&X!==null&&(v=Yt(X));var Z=a.getDerivedStateFromProps;X=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=r.pendingProps!==b,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||q!==v)&&Yy(r,d,l,v),br=!1;var F=r.memoizedState;d.state=F,yl(r,l,d,h),gl(),q=r.memoizedState,b||F!==q||br?(typeof Z=="function"&&(pd(r,a,Z,l),q=r.memoizedState),(I=br||Qy(r,a,I,l,F,q,v))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=q),d.props=l,d.state=q,d.context=v,l=I):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Yf(t,r),v=r.memoizedProps,X=Ys(a,v),d.props=X,Z=r.pendingProps,F=d.context,q=a.contextType,I=Ua,typeof q=="object"&&q!==null&&(I=Yt(q)),b=a.getDerivedStateFromProps,(q=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==Z||F!==I)&&Yy(r,d,l,I),br=!1,F=r.memoizedState,d.state=F,yl(r,l,d,h),gl();var H=r.memoizedState;v!==Z||F!==H||br||t!==null&&t.dependencies!==null&&ac(t.dependencies)?(typeof b=="function"&&(pd(r,a,b,l),H=r.memoizedState),(X=br||Qy(r,a,X,l,F,H,I)||t!==null&&t.dependencies!==null&&ac(t.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,H,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,H,I)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=H),d.props=l,d.state=H,d.context=I,l=X):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,wc(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=Qa(r,t.child,null,h),r.child=Qa(r,null,a,h)):zt(t,r,a,h),r.memoizedState=d.state,t=r.child):t=qi(t,r,h),t}function u_(t,r,a,l){return ll(),r.flags|=256,zt(t,r,a,l),r.child}var vd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ed(t){return{baseLanes:t,cachePool:Wg()}}function Td(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Mn),t}function c_(t,r,a){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(Dt.current&2)!==0),v&&(h=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,t===null){if(qe){if(h?Rr(r):xr(),qe){var b=ct,I;if(I=b){e:{for(I=b,b=ci;I.nodeType!==8;){if(!b){b=null;break e}if(I=Wn(I.nextSibling),I===null){b=null;break e}}b=I}b!==null?(r.memoizedState={dehydrated:b,treeContext:zs!==null?{id:Pi,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},I=pn(18,null,null,0),I.stateNode=b,I.return=r,r.child=I,sn=r,ct=null,I=!0):I=!1}I||Fs(r)}if(b=r.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return rm(b)?r.lanes=32:r.lanes=536870912,null;Bi(r)}return b=l.children,l=l.fallback,h?(xr(),h=r.mode,b=Rc({mode:"hidden",children:b},h),l=js(l,h,a,null),b.return=r,l.return=r,b.sibling=l,r.child=b,h=r.child,h.memoizedState=Ed(a),h.childLanes=Td(t,v,a),r.memoizedState=vd,l):(Rr(r),bd(r,b))}if(I=t.memoizedState,I!==null&&(b=I.dehydrated,b!==null)){if(d)r.flags&256?(Rr(r),r.flags&=-257,r=Sd(t,r,a)):r.memoizedState!==null?(xr(),r.child=t.child,r.flags|=128,r=null):(xr(),h=l.fallback,b=r.mode,l=Rc({mode:"visible",children:l.children},b),h=js(h,b,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,Qa(r,t.child,null,a),l=r.child,l.memoizedState=Ed(a),l.childLanes=Td(t,v,a),r.memoizedState=vd,r=h);else if(Rr(r),rm(b)){if(v=b.nextSibling&&b.nextSibling.dataset,v)var q=v.dgst;v=q,l=Error(s(419)),l.stack="",l.digest=v,ul({value:l,source:null,stack:null}),r=Sd(t,r,a)}else if(Mt||cl(t,r,a,!1),v=(a&t.childLanes)!==0,Mt||v){if(v=et,v!==null&&(l=a&-a,l=(l&42)!==0?1:qo(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,Pa(t,l),En(v,t,l),t_;b.data==="$?"||Bd(),r=Sd(t,r,a)}else b.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=I.treeContext,ct=Wn(b.nextSibling),sn=r,qe=!0,qs=null,ci=!1,t!==null&&(Nn[On++]=Pi,Nn[On++]=Ui,Nn[On++]=zs,Pi=t.id,Ui=t.overflow,zs=r),r=bd(r,l.children),r.flags|=4096);return r}return h?(xr(),h=l.fallback,b=r.mode,I=t.child,q=I.sibling,l=Vi(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,q!==null?h=Vi(q,h):(h=js(h,b,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,b=t.child.memoizedState,b===null?b=Ed(a):(I=b.cachePool,I!==null?(q=It._currentValue,I=I.parent!==q?{parent:q,pool:q}:I):I=Wg(),b={baseLanes:b.baseLanes|a,cachePool:I}),h.memoizedState=b,h.childLanes=Td(t,v,a),r.memoizedState=vd,l):(Rr(r),a=t.child,t=a.sibling,a=Vi(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(v=r.deletions,v===null?(r.deletions=[t],r.flags|=16):v.push(t)),r.child=a,r.memoizedState=null,a)}function bd(t,r){return r=Rc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Rc(t,r){return t=pn(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Sd(t,r,a){return Qa(r,t.child,null,a),t=bd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function h_(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),Bf(t.return,r,a)}function Ad(t,r,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function f_(t,r,a){var l=r.pendingProps,h=l.revealOrder,d=l.tail;if(zt(t,r,l.children,a),l=Dt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&h_(t,a,r);else if(t.tag===19)h_(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(le(Dt,l),h){case"forwards":for(a=r.child,h=null;a!==null;)t=a.alternate,t!==null&&bc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),Ad(r,!1,h,a,d);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&bc(t)===null){r.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Ad(r,!0,a,null,d);break;case"together":Ad(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function qi(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Or|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(cl(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Vi(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Vi(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function wd(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&ac(t)))}function O1(t,r,a){switch(r.tag){case 3:Qe(r,r.stateNode.containerInfo),Tr(r,It,t.memoizedState.cache),ll();break;case 27:case 5:Lo(r);break;case 4:Qe(r,r.stateNode.containerInfo);break;case 10:Tr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Rr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?c_(t,r,a):(Rr(r),t=qi(t,r,a),t!==null?t.sibling:null);Rr(r);break;case 19:var h=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(cl(t,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return f_(t,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),le(Dt,Dt.current),l)break;return null;case 22:case 23:return r.lanes=0,s_(t,r,a);case 24:Tr(r,It,t.memoizedState.cache)}return qi(t,r,a)}function d_(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Mt=!0;else{if(!wd(t,a)&&(r.flags&128)===0)return Mt=!1,O1(t,r,a);Mt=(t.flags&131072)!==0}else Mt=!1,qe&&(r.flags&1048576)!==0&&Fg(r,sc,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")Mf(l)?(t=Ys(l,t),r.tag=1,r=l_(null,r,l,t,a)):(r.tag=0,r=_d(null,r,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===oe){r.tag=11,r=n_(null,r,l,t,a);break e}else if(h===D){r.tag=14,r=i_(null,r,l,t,a);break e}}throw r=fe(l)||l,Error(s(306,r,""))}}return r;case 0:return _d(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=Ys(l,r.pendingProps),l_(t,r,l,h,a);case 3:e:{if(Qe(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;h=d.element,Yf(t,r),yl(r,l,null,a);var v=r.memoizedState;if(l=v.cache,Tr(r,It,l),l!==d.cache&&qf(r,[It],a,!0),gl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=u_(t,r,l,a);break e}else if(l!==h){h=In(Error(s(424)),r),ul(h),r=u_(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ct=Wn(t.firstChild),sn=r,qe=!0,qs=null,ci=!0,a=Gy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ll(),l===h){r=qi(t,r,a);break e}zt(t,r,l,a)}r=r.child}return r;case 26:return wc(t,r),t===null?(a=yv(r.type,null,r.pendingProps,null))?r.memoizedState=a:qe||(a=r.type,t=r.pendingProps,l=zc(Ae.current).createElement(a),l[gt]=r,l[jt]=t,qt(l,a,t),yt(l),r.stateNode=l):r.memoizedState=yv(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Lo(r),t===null&&qe&&(l=r.stateNode=mv(r.type,r.pendingProps,Ae.current),sn=r,ci=!0,h=ct,Pr(r.type)?(sm=h,ct=Wn(l.firstChild)):ct=h),zt(t,r,r.pendingProps.children,a),wc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&qe&&((h=l=ct)&&(l=aA(l,r.type,r.pendingProps,ci),l!==null?(r.stateNode=l,sn=r,ct=Wn(l.firstChild),ci=!1,h=!0):h=!1),h||Fs(r)),Lo(r),h=r.type,d=r.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,tm(h,d)?l=null:v!==null&&tm(h,v)&&(r.flags|=32),r.memoizedState!==null&&(h=ed(t,r,A1,null,null,a),jl._currentValue=h),wc(t,r),zt(t,r,l,a),r.child;case 6:return t===null&&qe&&((t=a=ct)&&(a=oA(a,r.pendingProps,ci),a!==null?(r.stateNode=a,sn=r,ct=null,t=!0):t=!1),t||Fs(r)),null;case 13:return c_(t,r,a);case 4:return Qe(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Qa(r,null,l,a):zt(t,r,l,a),r.child;case 11:return n_(t,r,r.type,r.pendingProps,a);case 7:return zt(t,r,r.pendingProps,a),r.child;case 8:return zt(t,r,r.pendingProps.children,a),r.child;case 12:return zt(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Tr(r,r.type,l.value),zt(t,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,Gs(r),h=Yt(h),l=l(h),r.flags|=1,zt(t,r,l,a),r.child;case 14:return i_(t,r,r.type,r.pendingProps,a);case 15:return r_(t,r,r.type,r.pendingProps,a);case 19:return f_(t,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},t===null?(a=Rc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Vi(t.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return s_(t,r,a);case 24:return Gs(r),l=Yt(It),t===null?(h=Gf(),h===null&&(h=et,d=Ff(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),r.memoizedState={parent:l,cache:h},Qf(r),Tr(r,It,h)):((t.lanes&a)!==0&&(Yf(t,r),yl(r,null,null,a),gl()),h=t.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Tr(r,It,l)):(l=d.cache,Tr(r,It,l),l!==h.cache&&qf(r,[It],a,!0))),zt(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Fi(t){t.flags|=4}function m_(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!bv(r)){if(r=kn.current,r!==null&&((Le&4194048)===Le?hi!==null:(Le&62914560)!==Le&&(Le&536870912)===0||r!==hi))throw ml=Kf,$g;t.flags|=8192}}function xc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?lr():536870912,t.lanes|=r,$a|=r)}function Al(t,r){if(!qe)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ot(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function k1(t,r,a){var l=r.pendingProps;switch(Lf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(r),null;case 1:return ot(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),ji(It),zn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ol(r)?Fi(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Kg())),ot(r),null;case 26:return a=r.memoizedState,t===null?(Fi(r),a!==null?(ot(r),m_(r,a)):(ot(r),r.flags&=-16777217)):a?a!==t.memoizedState?(Fi(r),ot(r),m_(r,a)):(ot(r),r.flags&=-16777217):(t.memoizedProps!==l&&Fi(r),ot(r),r.flags&=-16777217),null;case 27:ga(r),a=Ae.current;var h=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Fi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ot(r),null}t=ye.current,ol(r)?Hg(r):(t=mv(h,l,a),r.stateNode=t,Fi(r))}return ot(r),null;case 5:if(ga(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Fi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ot(r),null}if(t=ye.current,ol(r))Hg(r);else{switch(h=zc(Ae.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[gt]=r,t[jt]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=t;e:switch(qt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Fi(r)}}return ot(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&Fi(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=Ae.current,ol(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,h=sn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[gt]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||ov(t.nodeValue,a)),t||Fs(r)}else t=zc(t).createTextNode(l),t[gt]=r,r.stateNode=t}return ot(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ol(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[gt]=r}else ll(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ot(r),h=!1}else h=Kg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(Bi(r),r):(Bi(r),null)}if(Bi(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),xc(r,r.updateQueue),ot(r),null;case 4:return zn(),t===null&&Wd(r.stateNode.containerInfo),ot(r),null;case 10:return ji(r.type),ot(r),null;case 19:if(de(Dt),h=r.memoizedState,h===null)return ot(r),null;if(l=(r.flags&128)!==0,d=h.rendering,d===null)if(l)Al(h,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=bc(t),d!==null){for(r.flags|=128,Al(h,!1),t=d.updateQueue,r.updateQueue=t,xc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)qg(a,t),a=a.sibling;return le(Dt,Dt.current&1|2),r.child}t=t.sibling}h.tail!==null&&on()>Dc&&(r.flags|=128,l=!0,Al(h,!1),r.lanes=4194304)}else{if(!l)if(t=bc(d),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,xc(r,t),Al(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!qe)return ot(r),null}else 2*on()-h.renderingStartTime>Dc&&a!==536870912&&(r.flags|=128,l=!0,Al(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(t=h.last,t!==null?t.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=on(),r.sibling=null,t=Dt.current,le(Dt,l?t&1|2:t&1),r):(ot(r),null);case 22:case 23:return Bi(r),Zf(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ot(r),r.subtreeFlags&6&&(r.flags|=8192)):ot(r),a=r.updateQueue,a!==null&&xc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&de(Ks),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),ji(It),ot(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function M1(t,r){switch(Lf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return ji(It),zn(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return ga(r),null;case 13:if(Bi(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ll()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return de(Dt),null;case 4:return zn(),null;case 10:return ji(r.type),null;case 22:case 23:return Bi(r),Zf(),t!==null&&de(Ks),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return ji(It),null;case 25:return null;default:return null}}function p_(t,r){switch(Lf(r),r.tag){case 3:ji(It),zn();break;case 26:case 27:case 5:ga(r);break;case 4:zn();break;case 13:Bi(r);break;case 19:de(Dt);break;case 10:ji(r.type);break;case 22:case 23:Bi(r),Zf(),t!==null&&de(Ks);break;case 24:ji(It)}}function wl(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(b){Ze(r,r.return,b)}}function Cr(t,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,b=v.destroy;if(b!==void 0){v.destroy=void 0,h=r;var I=a,q=b;try{q()}catch(X){Ze(h,I,X)}}}l=l.next}while(l!==d)}}catch(X){Ze(r,r.return,X)}}function g_(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{iy(r,a)}catch(l){Ze(t,t.return,l)}}}function y_(t,r,a){a.props=Ys(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ze(t,r,l)}}function Rl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Ze(t,r,h)}}function fi(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Ze(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ze(t,r,h)}else a.current=null}function __(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Ze(t,t.return,h)}}function Rd(t,r,a){try{var l=t.stateNode;tA(l,t.type,a,r),l[jt]=r}catch(h){Ze(t,t.return,h)}}function v_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Pr(t.type)||t.tag===4}function xd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||v_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Pr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Cd(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=jc));else if(l!==4&&(l===27&&Pr(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(Cd(t,r,a),t=t.sibling;t!==null;)Cd(t,r,a),t=t.sibling}function Cc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&Pr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Cc(t,r,a),t=t.sibling;t!==null;)Cc(t,r,a),t=t.sibling}function E_(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);qt(r,l,a),r[gt]=t,r[jt]=a}catch(d){Ze(t,t.return,d)}}var Hi=!1,Et=!1,Id=!1,T_=typeof WeakSet=="function"?WeakSet:Set,Vt=null;function V1(t,r){if(t=t.containerInfo,Jd=Kc,t=Og(t),xf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,b=-1,I=-1,q=0,X=0,Z=t,F=null;t:for(;;){for(var H;Z!==a||h!==0&&Z.nodeType!==3||(b=v+h),Z!==d||l!==0&&Z.nodeType!==3||(I=v+l),Z.nodeType===3&&(v+=Z.nodeValue.length),(H=Z.firstChild)!==null;)F=Z,Z=H;for(;;){if(Z===t)break t;if(F===a&&++q===h&&(b=v),F===d&&++X===l&&(I=v),(H=Z.nextSibling)!==null)break;Z=F,F=Z.parentNode}Z=H}a=b===-1||I===-1?null:{start:b,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(em={focusedElem:t,selectionRange:a},Kc=!1,Vt=r;Vt!==null;)if(r=Vt,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,Vt=t;else for(;Vt!==null;){switch(r=Vt,d=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var we=Ys(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(we,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ee){Ze(a,a.return,Ee)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)im(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":im(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Vt=t;break}Vt=r.return}}function b_(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ir(t,a),l&4&&wl(5,a);break;case 1:if(Ir(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(v){Ze(a,a.return,v)}else{var h=Ys(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Ze(a,a.return,v)}}l&64&&g_(a),l&512&&Rl(a,a.return);break;case 3:if(Ir(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{iy(t,r)}catch(v){Ze(a,a.return,v)}}break;case 27:r===null&&l&4&&E_(a);case 26:case 5:Ir(t,a),r===null&&l&4&&__(a),l&512&&Rl(a,a.return);break;case 12:Ir(t,a);break;case 13:Ir(t,a),l&4&&w_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=H1.bind(null,a),lA(t,a))));break;case 22:if(l=a.memoizedState!==null||Hi,!l){r=r!==null&&r.memoizedState!==null||Et,h=Hi;var d=Et;Hi=l,(Et=r)&&!d?Dr(t,a,(a.subtreeFlags&8772)!==0):Ir(t,a),Hi=h,Et=d}break;case 30:break;default:Ir(t,a)}}function S_(t){var r=t.alternate;r!==null&&(t.alternate=null,S_(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Ta(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var rt=null,un=!1;function Gi(t,r,a){for(a=a.child;a!==null;)A_(t,r,a),a=a.sibling}function A_(t,r,a){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(sr,a)}catch{}switch(a.tag){case 26:Et||fi(a,r),Gi(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Et||fi(a,r);var l=rt,h=un;Pr(a.type)&&(rt=a.stateNode,un=!1),Gi(t,r,a),Vl(a.stateNode),rt=l,un=h;break;case 5:Et||fi(a,r);case 6:if(l=rt,h=un,rt=null,Gi(t,r,a),rt=l,un=h,rt!==null)if(un)try{(rt.nodeType===9?rt.body:rt.nodeName==="HTML"?rt.ownerDocument.body:rt).removeChild(a.stateNode)}catch(d){Ze(a,r,d)}else try{rt.removeChild(a.stateNode)}catch(d){Ze(a,r,d)}break;case 18:rt!==null&&(un?(t=rt,fv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Fl(t)):fv(rt,a.stateNode));break;case 4:l=rt,h=un,rt=a.stateNode.containerInfo,un=!0,Gi(t,r,a),rt=l,un=h;break;case 0:case 11:case 14:case 15:Et||Cr(2,a,r),Et||Cr(4,a,r),Gi(t,r,a);break;case 1:Et||(fi(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&y_(a,r,l)),Gi(t,r,a);break;case 21:Gi(t,r,a);break;case 22:Et=(l=Et)||a.memoizedState!==null,Gi(t,r,a),Et=l;break;default:Gi(t,r,a)}}function w_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Fl(t)}catch(a){Ze(r,r.return,a)}}function P1(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new T_),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new T_),r;default:throw Error(s(435,t.tag))}}function Dd(t,r){var a=P1(t);r.forEach(function(l){var h=G1.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function gn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=r,b=v;e:for(;b!==null;){switch(b.tag){case 27:if(Pr(b.type)){rt=b.stateNode,un=!1;break e}break;case 5:rt=b.stateNode,un=!1;break e;case 3:case 4:rt=b.stateNode.containerInfo,un=!0;break e}b=b.return}if(rt===null)throw Error(s(160));A_(d,v,h),rt=null,un=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)R_(r,t),r=r.sibling}var Xn=null;function R_(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:gn(r,t),yn(t),l&4&&(Cr(3,t,t.return),wl(3,t),Cr(5,t,t.return));break;case 1:gn(r,t),yn(t),l&512&&(Et||a===null||fi(a,a.return)),l&64&&Hi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Xn;if(gn(r,t),yn(t),l&512&&(Et||a===null||fi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[hr]||d[gt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),qt(d,l,a),d[gt]=t,yt(d),l=d;break e;case"link":var v=Ev("link","href",h).get(l+(a.href||""));if(v){for(var b=0;b<v.length;b++)if(d=v[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(b,1);break t}}d=h.createElement(l),qt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=Ev("meta","content",h).get(l+(a.content||""))){for(b=0;b<v.length;b++)if(d=v[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(b,1);break t}}d=h.createElement(l),qt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[gt]=t,yt(d),l=d}t.stateNode=l}else Tv(h,t.type,t.stateNode);else t.stateNode=vv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Tv(h,t.type,t.stateNode):vv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Rd(t,t.memoizedProps,a.memoizedProps)}break;case 27:gn(r,t),yn(t),l&512&&(Et||a===null||fi(a,a.return)),a!==null&&l&4&&Rd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(gn(r,t),yn(t),l&512&&(Et||a===null||fi(a,a.return)),t.flags&32){h=t.stateNode;try{xn(h,"")}catch(H){Ze(t,t.return,H)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Rd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Id=!0);break;case 6:if(gn(r,t),yn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(H){Ze(t,t.return,H)}}break;case 3:if(Fc=null,h=Xn,Xn=Bc(r.containerInfo),gn(r,t),Xn=h,yn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Fl(r.containerInfo)}catch(H){Ze(t,t.return,H)}Id&&(Id=!1,x_(t));break;case 4:l=Xn,Xn=Bc(t.stateNode.containerInfo),gn(r,t),yn(t),Xn=l;break;case 12:gn(r,t),yn(t);break;case 13:gn(r,t),yn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Pd=on()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Dd(t,l)));break;case 22:h=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,q=Hi,X=Et;if(Hi=q||h,Et=X||I,gn(r,t),Et=X,Hi=q,yn(t),l&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||I||Hi||Et||Xs(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){I=a=r;try{if(d=I.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{b=I.stateNode;var Z=I.memoizedProps.style,F=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;b.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(H){Ze(I,I.return,H)}}}else if(r.tag===6){if(a===null){I=r;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(H){Ze(I,I.return,H)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Dd(t,a))));break;case 19:gn(r,t),yn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Dd(t,l)));break;case 30:break;case 21:break;default:gn(r,t),yn(t)}}function yn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(v_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=xd(t);Cc(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(xn(v,""),a.flags&=-33);var b=xd(t);Cc(t,b,v);break;case 3:case 4:var I=a.stateNode.containerInfo,q=xd(t);Cd(t,q,I);break;default:throw Error(s(161))}}catch(X){Ze(t,t.return,X)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function x_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;x_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Ir(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)b_(t,r.alternate,r),r=r.sibling}function Xs(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Cr(4,r,r.return),Xs(r);break;case 1:fi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&y_(r,r.return,a),Xs(r);break;case 27:Vl(r.stateNode);case 26:case 5:fi(r,r.return),Xs(r);break;case 22:r.memoizedState===null&&Xs(r);break;case 30:Xs(r);break;default:Xs(r)}t=t.sibling}}function Dr(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,d=r,v=d.flags;switch(d.tag){case 0:case 11:case 15:Dr(h,d,a),wl(4,d);break;case 1:if(Dr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){Ze(l,l.return,q)}if(l=d,h=l.updateQueue,h!==null){var b=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)ny(I[h],b)}catch(q){Ze(l,l.return,q)}}a&&v&64&&g_(d),Rl(d,d.return);break;case 27:E_(d);case 26:case 5:Dr(h,d,a),a&&l===null&&v&4&&__(d),Rl(d,d.return);break;case 12:Dr(h,d,a);break;case 13:Dr(h,d,a),a&&v&4&&w_(h,d);break;case 22:d.memoizedState===null&&Dr(h,d,a),Rl(d,d.return);break;case 30:break;default:Dr(h,d,a)}r=r.sibling}}function Nd(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&hl(a))}function Od(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&hl(t))}function di(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)C_(t,r,a,l),r=r.sibling}function C_(t,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:di(t,r,a,l),h&2048&&wl(9,r);break;case 1:di(t,r,a,l);break;case 3:di(t,r,a,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&hl(t)));break;case 12:if(h&2048){di(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,v=d.id,b=d.onPostCommit;typeof b=="function"&&b(v,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Ze(r,r.return,I)}}else di(t,r,a,l);break;case 13:di(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,v=r.alternate,r.memoizedState!==null?d._visibility&2?di(t,r,a,l):xl(t,r):d._visibility&2?di(t,r,a,l):(d._visibility|=2,Ya(t,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&Nd(v,r);break;case 24:di(t,r,a,l),h&2048&&Od(r.alternate,r);break;default:di(t,r,a,l)}}function Ya(t,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=t,v=r,b=a,I=l,q=v.flags;switch(v.tag){case 0:case 11:case 15:Ya(d,v,b,I,h),wl(8,v);break;case 23:break;case 22:var X=v.stateNode;v.memoizedState!==null?X._visibility&2?Ya(d,v,b,I,h):xl(d,v):(X._visibility|=2,Ya(d,v,b,I,h)),h&&q&2048&&Nd(v.alternate,v);break;case 24:Ya(d,v,b,I,h),h&&q&2048&&Od(v.alternate,v);break;default:Ya(d,v,b,I,h)}r=r.sibling}}function xl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,h=l.flags;switch(l.tag){case 22:xl(a,l),h&2048&&Nd(l.alternate,l);break;case 24:xl(a,l),h&2048&&Od(l.alternate,l);break;default:xl(a,l)}r=r.sibling}}var Cl=8192;function Xa(t){if(t.subtreeFlags&Cl)for(t=t.child;t!==null;)I_(t),t=t.sibling}function I_(t){switch(t.tag){case 26:Xa(t),t.flags&Cl&&t.memoizedState!==null&&TA(Xn,t.memoizedState,t.memoizedProps);break;case 5:Xa(t);break;case 3:case 4:var r=Xn;Xn=Bc(t.stateNode.containerInfo),Xa(t),Xn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=Cl,Cl=16777216,Xa(t),Cl=r):Xa(t));break;default:Xa(t)}}function D_(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Il(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Vt=l,O_(l,t)}D_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)N_(t),t=t.sibling}function N_(t){switch(t.tag){case 0:case 11:case 15:Il(t),t.flags&2048&&Cr(9,t,t.return);break;case 3:Il(t);break;case 12:Il(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Ic(t)):Il(t);break;default:Il(t)}}function Ic(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Vt=l,O_(l,t)}D_(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Cr(8,r,r.return),Ic(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Ic(r));break;default:Ic(r)}t=t.sibling}}function O_(t,r){for(;Vt!==null;){var a=Vt;switch(a.tag){case 0:case 11:case 15:Cr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:hl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Vt=l;else e:for(a=t;Vt!==null;){l=Vt;var h=l.sibling,d=l.return;if(S_(l),l===a){Vt=null;break e}if(h!==null){h.return=d,Vt=h;break e}Vt=d}}}var U1={getCacheForType:function(t){var r=Yt(It),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},L1=typeof WeakMap=="function"?WeakMap:Map,Ge=0,et=null,Oe=null,Le=0,Ke=0,_n=null,Nr=!1,Wa=!1,kd=!1,Ki=0,ht=0,Or=0,Ws=0,Md=0,Mn=0,$a=0,Dl=null,cn=null,Vd=!1,Pd=0,Dc=1/0,Nc=null,kr=null,Bt=0,Mr=null,Za=null,Ja=0,Ud=0,Ld=null,k_=null,Nl=0,jd=null;function vn(){if((Ge&2)!==0&&Le!==0)return Le&-Le;if(K.T!==null){var t=za;return t!==0?t:Kd()}return Ci()}function M_(){Mn===0&&(Mn=(Le&536870912)===0||qe?Bo():536870912);var t=kn.current;return t!==null&&(t.flags|=32),Mn}function En(t,r,a){(t===et&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(eo(t,0),Vr(t,Le,Mn,!1)),pt(t,a),((Ge&2)===0||t!==et)&&(t===et&&((Ge&2)===0&&(Ws|=a),ht===4&&Vr(t,Le,Mn,!1)),mi(t))}function V_(t,r,a){if((Ge&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&t.expiredLanes)===0||or(t,r),h=l?B1(t,r):qd(t,r,!0),d=l;do{if(h===0){Wa&&!l&&Vr(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!j1(a)){h=qd(t,r,!1),d=!1;continue}if(h===2){if(d=r,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var b=t;h=Dl;var I=b.current.memoizedState.isDehydrated;if(I&&(eo(b,v).flags|=256),v=qd(b,v,!1),v!==2){if(kd&&!I){b.errorRecoveryDisabledLanes|=d,Ws|=d,h=4;break e}d=cn,cn=h,d!==null&&(cn===null?cn=d:cn.push.apply(cn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){eo(t,0),Vr(t,r,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Vr(l,r,Mn,!Nr);break e;case 2:cn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=Pd+300-on(),10<h)){if(Vr(l,r,Mn,!Nr),wn(l,0,!0)!==0)break e;l.timeoutHandle=cv(P_.bind(null,l,a,cn,Nc,Vd,r,Mn,Ws,$a,Nr,d,2,-0,0),h);break e}P_(l,a,cn,Nc,Vd,r,Mn,Ws,$a,Nr,d,0,-0,0)}}break}while(!0);mi(t)}function P_(t,r,a,l,h,d,v,b,I,q,X,Z,F,H){if(t.timeoutHandle=-1,Z=r.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(Ll={stylesheets:null,count:0,unsuspend:EA},I_(r),Z=bA(),Z!==null)){t.cancelPendingCommit=Z(F_.bind(null,t,r,d,a,l,h,v,b,I,X,1,F,H)),Vr(t,d,v,!q);return}F_(t,r,d,a,l,h,v,b,I)}function j1(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!mn(d(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Vr(t,r,a,l){r&=~Md,r&=~Ws,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var d=31-en(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&ur(t,a,r)}function Oc(){return(Ge&6)===0?(Ol(0),!1):!0}function zd(){if(Oe!==null){if(Ke===0)var t=Oe.return;else t=Oe,Li=Hs=null,id(t),Ka=null,bl=0,t=Oe;for(;t!==null;)p_(t.alternate,t),t=t.return;Oe=null}}function eo(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,iA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),zd(),et=t,Oe=a=Vi(t.current,null),Le=r,Ke=0,_n=null,Nr=!1,Wa=or(t,r),kd=!1,$a=Mn=Md=Ws=Or=ht=0,cn=Dl=null,Vd=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-en(l),d=1<<h;r|=t[h],l&=~d}return Ki=r,ec(),a}function U_(t,r){De=null,K.H=vc,r===dl||r===uc?(r=ey(),Ke=3):r===$g?(r=ey(),Ke=4):Ke=r===t_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,_n=r,Oe===null&&(ht=1,Ac(t,In(r,t.current)))}function L_(){var t=K.H;return K.H=vc,t===null?vc:t}function j_(){var t=K.A;return K.A=U1,t}function Bd(){ht=4,Nr||(Le&4194048)!==Le&&kn.current!==null||(Wa=!0),(Or&134217727)===0&&(Ws&134217727)===0||et===null||Vr(et,Le,Mn,!1)}function qd(t,r,a){var l=Ge;Ge|=2;var h=L_(),d=j_();(et!==t||Le!==r)&&(Nc=null,eo(t,r)),r=!1;var v=ht;e:do try{if(Ke!==0&&Oe!==null){var b=Oe,I=_n;switch(Ke){case 8:zd(),v=6;break e;case 3:case 2:case 9:case 6:kn.current===null&&(r=!0);var q=Ke;if(Ke=0,_n=null,to(t,b,I,q),a&&Wa){v=0;break e}break;default:q=Ke,Ke=0,_n=null,to(t,b,I,q)}}z1(),v=ht;break}catch(X){U_(t,X)}while(!0);return r&&t.shellSuspendCounter++,Li=Hs=null,Ge=l,K.H=h,K.A=d,Oe===null&&(et=null,Le=0,ec()),v}function z1(){for(;Oe!==null;)z_(Oe)}function B1(t,r){var a=Ge;Ge|=2;var l=L_(),h=j_();et!==t||Le!==r?(Nc=null,Dc=on()+500,eo(t,r)):Wa=or(t,r);e:do try{if(Ke!==0&&Oe!==null){r=Oe;var d=_n;t:switch(Ke){case 1:Ke=0,_n=null,to(t,r,d,1);break;case 2:case 9:if(Zg(d)){Ke=0,_n=null,B_(r);break}r=function(){Ke!==2&&Ke!==9||et!==t||(Ke=7),mi(t)},d.then(r,r);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:Zg(d)?(Ke=0,_n=null,B_(r)):(Ke=0,_n=null,to(t,r,d,7));break;case 5:var v=null;switch(Oe.tag){case 26:v=Oe.memoizedState;case 5:case 27:var b=Oe;if(!v||bv(v)){Ke=0,_n=null;var I=b.sibling;if(I!==null)Oe=I;else{var q=b.return;q!==null?(Oe=q,kc(q)):Oe=null}break t}}Ke=0,_n=null,to(t,r,d,5);break;case 6:Ke=0,_n=null,to(t,r,d,6);break;case 8:zd(),ht=6;break e;default:throw Error(s(462))}}q1();break}catch(X){U_(t,X)}while(!0);return Li=Hs=null,K.H=l,K.A=h,Ge=a,Oe!==null?0:(et=null,Le=0,ec(),ht)}function q1(){for(;Oe!==null&&!gf();)z_(Oe)}function z_(t){var r=d_(t.alternate,t,Ki);t.memoizedProps=t.pendingProps,r===null?kc(t):Oe=r}function B_(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=o_(a,r,r.pendingProps,r.type,void 0,Le);break;case 11:r=o_(a,r,r.pendingProps,r.type.render,r.ref,Le);break;case 5:id(r);default:p_(a,r),r=Oe=qg(r,Ki),r=d_(a,r,Ki)}t.memoizedProps=t.pendingProps,r===null?kc(t):Oe=r}function to(t,r,a,l){Li=Hs=null,id(r),Ka=null,bl=0;var h=r.return;try{if(N1(t,h,r,a,Le)){ht=1,Ac(t,In(a,t.current)),Oe=null;return}}catch(d){if(h!==null)throw Oe=h,d;ht=1,Ac(t,In(a,t.current)),Oe=null;return}r.flags&32768?(qe||l===1?t=!0:Wa||(Le&536870912)!==0?t=!1:(Nr=t=!0,(l===2||l===9||l===3||l===6)&&(l=kn.current,l!==null&&l.tag===13&&(l.flags|=16384))),q_(r,t)):kc(r)}function kc(t){var r=t;do{if((r.flags&32768)!==0){q_(r,Nr);return}t=r.return;var a=k1(r.alternate,r,Ki);if(a!==null){Oe=a;return}if(r=r.sibling,r!==null){Oe=r;return}Oe=r=t}while(r!==null);ht===0&&(ht=5)}function q_(t,r){do{var a=M1(t.alternate,t);if(a!==null){a.flags&=32767,Oe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=a}while(t!==null);ht=6,Oe=null}function F_(t,r,a,l,h,d,v,b,I){t.cancelPendingCommit=null;do Mc();while(Bt!==0);if((Ge&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Of,Uu(t,a,d,v,b,I),t===et&&(Oe=et=null,Le=0),Za=r,Mr=t,Ja=a,Ud=d,Ld=h,k_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,K1(xi,function(){return Y_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=ie.p,ie.p=2,v=Ge,Ge|=4;try{V1(t,r,a)}finally{Ge=v,ie.p=h,K.T=l}}Bt=1,H_(),G_(),K_()}}function H_(){if(Bt===1){Bt=0;var t=Mr,r=Za,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=ie.p;ie.p=2;var h=Ge;Ge|=4;try{R_(r,t);var d=em,v=Og(t.containerInfo),b=d.focusedElem,I=d.selectionRange;if(v!==b&&b&&b.ownerDocument&&Ng(b.ownerDocument.documentElement,b)){if(I!==null&&xf(b)){var q=I.start,X=I.end;if(X===void 0&&(X=q),"selectionStart"in b)b.selectionStart=q,b.selectionEnd=Math.min(X,b.value.length);else{var Z=b.ownerDocument||document,F=Z&&Z.defaultView||window;if(F.getSelection){var H=F.getSelection(),we=b.textContent.length,Ee=Math.min(I.start,we),$e=I.end===void 0?Ee:Math.min(I.end,we);!H.extend&&Ee>$e&&(v=$e,$e=Ee,Ee=v);var U=Dg(b,Ee),M=Dg(b,$e);if(U&&M&&(H.rangeCount!==1||H.anchorNode!==U.node||H.anchorOffset!==U.offset||H.focusNode!==M.node||H.focusOffset!==M.offset)){var j=Z.createRange();j.setStart(U.node,U.offset),H.removeAllRanges(),Ee>$e?(H.addRange(j),H.extend(M.node,M.offset)):(j.setEnd(M.node,M.offset),H.addRange(j))}}}}for(Z=[],H=b;H=H.parentNode;)H.nodeType===1&&Z.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<Z.length;b++){var W=Z[b];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Kc=!!Jd,em=Jd=null}finally{Ge=h,ie.p=l,K.T=a}}t.current=r,Bt=2}}function G_(){if(Bt===2){Bt=0;var t=Mr,r=Za,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=ie.p;ie.p=2;var h=Ge;Ge|=4;try{b_(t,r.alternate,r)}finally{Ge=h,ie.p=l,K.T=a}}Bt=3}}function K_(){if(Bt===4||Bt===3){Bt=0,jo();var t=Mr,r=Za,a=Ja,l=k_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Bt=5:(Bt=0,Za=Mr=null,Q_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(kr=null),Fo(a),r=r.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(sr,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=K.T,h=ie.p,ie.p=2,K.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var b=l[v];d(b.value,{componentStack:b.stack})}}finally{K.T=r,ie.p=h}}(Ja&3)!==0&&Mc(),mi(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===jd?Nl++:(Nl=0,jd=t):Nl=0,Ol(0)}}function Q_(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,hl(r)))}function Mc(t){return H_(),G_(),K_(),Y_()}function Y_(){if(Bt!==5)return!1;var t=Mr,r=Ud;Ud=0;var a=Fo(Ja),l=K.T,h=ie.p;try{ie.p=32>a?32:a,K.T=null,a=Ld,Ld=null;var d=Mr,v=Ja;if(Bt=0,Za=Mr=null,Ja=0,(Ge&6)!==0)throw Error(s(331));var b=Ge;if(Ge|=4,N_(d.current),C_(d,d.current,v,a),Ge=b,Ol(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(sr,d)}catch{}return!0}finally{ie.p=h,K.T=l,Q_(t,r)}}function X_(t,r,a){r=In(a,r),r=yd(t.stateNode,r,2),t=Ar(t,r,2),t!==null&&(pt(t,2),mi(t))}function Ze(t,r,a){if(t.tag===3)X_(t,t,a);else for(;r!==null;){if(r.tag===3){X_(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(kr===null||!kr.has(l))){t=In(a,t),a=Jy(2),l=Ar(r,a,2),l!==null&&(e_(a,l,r,t),pt(l,2),mi(l));break}}r=r.return}}function Fd(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new L1;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(kd=!0,h.add(a),t=F1.bind(null,t,r,a),r.then(t,t))}function F1(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(Le&a)===a&&(ht===4||ht===3&&(Le&62914560)===Le&&300>on()-Pd?(Ge&2)===0&&eo(t,0):Md|=a,$a===Le&&($a=0)),mi(t)}function W_(t,r){r===0&&(r=lr()),t=Pa(t,r),t!==null&&(pt(t,r),mi(t))}function H1(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),W_(t,a)}function G1(t,r){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),W_(t,a)}function K1(t,r){return ps(t,r)}var Vc=null,no=null,Hd=!1,Pc=!1,Gd=!1,$s=0;function mi(t){t!==no&&t.next===null&&(no===null?Vc=no=t:no=no.next=t),Pc=!0,Hd||(Hd=!0,Y1())}function Ol(t,r){if(!Gd&&Pc){Gd=!0;do for(var a=!1,l=Vc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-en(42|t)+1)-1,d&=h&~(v&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,ev(l,d))}else d=Le,d=wn(l,l===et?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||or(l,d)||(a=!0,ev(l,d));l=l.next}while(a);Gd=!1}}function Q1(){$_()}function $_(){Pc=Hd=!1;var t=0;$s!==0&&(nA()&&(t=$s),$s=0);for(var r=on(),a=null,l=Vc;l!==null;){var h=l.next,d=Z_(l,r);d===0?(l.next=null,a===null?Vc=h:a.next=h,h===null&&(no=a)):(a=l,(t!==0||(d&3)!==0)&&(Pc=!0)),l=h}Ol(t)}function Z_(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-en(d),b=1<<v,I=h[v];I===-1?((b&a)===0||(b&l)!==0)&&(h[v]=va(b,r)):I<=r&&(t.expiredLanes|=b),d&=~b}if(r=et,a=Le,a=wn(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&_a(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||or(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&_a(l),Fo(a)){case 2:case 8:a=Ot;break;case 32:a=xi;break;case 268435456:a=zo;break;default:a=xi}return l=J_.bind(null,t),a=ps(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&_a(l),t.callbackPriority=2,t.callbackNode=null,2}function J_(t,r){if(Bt!==0&&Bt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Mc()&&t.callbackNode!==a)return null;var l=Le;return l=wn(t,t===et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(V_(t,l,r),Z_(t,on()),t.callbackNode!=null&&t.callbackNode===a?J_.bind(null,t):null)}function ev(t,r){if(Mc())return null;V_(t,r,!0)}function Y1(){rA(function(){(Ge&6)!==0?ps(xt,Q1):$_()})}function Kd(){return $s===0&&($s=Bo()),$s}function tv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Hn(""+t)}function nv(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function X1(t,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var d=tv((h[jt]||null).action),v=l.submitter;v&&(r=(r=v[jt]||null)?tv(r.formAction):v.getAttribute("formAction"),r!==null&&(d=r,v=null));var b=new Ds("action","action",null,l,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if($s!==0){var I=v?nv(h,v):new FormData(h);fd(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(b.preventDefault(),I=v?nv(h,v):new FormData(h),fd(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var Qd=0;Qd<Nf.length;Qd++){var Yd=Nf[Qd],W1=Yd.toLowerCase(),$1=Yd[0].toUpperCase()+Yd.slice(1);Yn(W1,"on"+$1)}Yn(Vg,"onAnimationEnd"),Yn(Pg,"onAnimationIteration"),Yn(Ug,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(m1,"onTransitionRun"),Yn(p1,"onTransitionStart"),Yn(g1,"onTransitionCancel"),Yn(Lg,"onTransitionEnd"),ai("onMouseEnter",["mouseout","mouseover"]),ai("onMouseLeave",["mouseout","mouseover"]),ai("onPointerEnter",["pointerout","pointerover"]),ai("onPointerLeave",["pointerout","pointerover"]),si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),si("onBeforeInput",["compositionend","keypress","textInput","paste"]),si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Z1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kl));function iv(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var v=l.length-1;0<=v;v--){var b=l[v],I=b.instance,q=b.currentTarget;if(b=b.listener,I!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=q;try{d(h)}catch(X){Sc(X)}h.currentTarget=null,d=I}else for(v=0;v<l.length;v++){if(b=l[v],I=b.instance,q=b.currentTarget,b=b.listener,I!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=q;try{d(h)}catch(X){Sc(X)}h.currentTarget=null,d=I}}}}function ke(t,r){var a=r[ys];a===void 0&&(a=r[ys]=new Set);var l=t+"__bubble";a.has(l)||(rv(r,t,2,!1),a.add(l))}function Xd(t,r,a){var l=0;r&&(l|=4),rv(a,t,l,r)}var Uc="_reactListening"+Math.random().toString(36).slice(2);function Wd(t){if(!t[Uc]){t[Uc]=!0,Lu.forEach(function(a){a!=="selectionchange"&&(Z1.has(a)||Xd(a,!1,t),Xd(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Uc]||(r[Uc]=!0,Xd("selectionchange",!1,r))}}function rv(t,r,a,l){switch(Cv(r)){case 2:var h=wA;break;case 8:h=RA;break;default:h=cm}a=h.bind(null,r,a,t),h=void 0,!ki||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,a,{capture:!0,passive:h}):t.addEventListener(r,a,!0):h!==void 0?t.addEventListener(r,a,{passive:h}):t.addEventListener(r,a,!1)}function $d(t,r,a,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var b=l.stateNode.containerInfo;if(b===h)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;b!==null;){if(v=ii(b),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=d=v;continue e}b=b.parentNode}}l=l.return}xs(function(){var q=d,X=Wo(a),Z=[];e:{var F=jg.get(t);if(F!==void 0){var H=Ds,we=t;switch(t){case"keypress":if(Cs(a)===0)break e;case"keydown":case"keyup":H=Oa;break;case"focusin":we="focus",H=Ia;break;case"focusout":we="blur",H=Ia;break;case"beforeblur":case"afterblur":H=Ia;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Vs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Gu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=Er;break;case Vg:case Pg:case Ug:H=Zo;break;case Lg:H=y;break;case"scroll":case"scrollend":H=Os;break;case"wheel":H=A;break;case"copy":case"cut":case"paste":H=Qu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=tl;break;case"toggle":case"beforetoggle":H=G}var Ee=(r&4)!==0,$e=!Ee&&(t==="scroll"||t==="scrollend"),U=Ee?F!==null?F+"Capture":null:F;Ee=[];for(var M=q,j;M!==null;){var W=M;if(j=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||j===null||U===null||(W=_r(M,U),W!=null&&Ee.push(Ml(M,W,j))),$e)break;M=M.return}0<Ee.length&&(F=new H(F,we,null,a,X),Z.push({event:F,listeners:Ee}))}}if((r&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",F&&a!==Xo&&(we=a.relatedTarget||a.fromElement)&&(ii(we)||we[Ii]))break e;if((H||F)&&(F=X.window===X?X:(F=X.ownerDocument)?F.defaultView||F.parentWindow:window,H?(we=a.relatedTarget||a.toElement,H=q,we=we?ii(we):null,we!==null&&($e=u(we),Ee=we.tag,we!==$e||Ee!==5&&Ee!==27&&Ee!==6)&&(we=null)):(H=null,we=q),H!==we)){if(Ee=Vs,W="onMouseLeave",U="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(Ee=tl,W="onPointerLeave",U="onPointerEnter",M="pointer"),$e=H==null?F:fr(H),j=we==null?F:fr(we),F=new Ee(W,M+"leave",H,a,X),F.target=$e,F.relatedTarget=j,W=null,ii(X)===q&&(Ee=new Ee(U,M+"enter",we,a,X),Ee.target=j,Ee.relatedTarget=$e,W=Ee),$e=W,H&&we)t:{for(Ee=H,U=we,M=0,j=Ee;j;j=io(j))M++;for(j=0,W=U;W;W=io(W))j++;for(;0<M-j;)Ee=io(Ee),M--;for(;0<j-M;)U=io(U),j--;for(;M--;){if(Ee===U||U!==null&&Ee===U.alternate)break t;Ee=io(Ee),U=io(U)}Ee=null}else Ee=null;H!==null&&sv(Z,F,H,Ee,!1),we!==null&&$e!==null&&sv(Z,$e,we,Ee,!0)}}e:{if(F=q?fr(q):window,H=F.nodeName&&F.nodeName.toLowerCase(),H==="select"||H==="input"&&F.type==="file")var pe=Ag;else if(bg(F))if(wg)pe=h1;else{pe=u1;var Ne=l1}else H=F.nodeName,!H||H.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?q&&Ra(q.elementType)&&(pe=Ag):pe=c1;if(pe&&(pe=pe(t,q))){Sg(Z,pe,a,X);break e}Ne&&Ne(t,F,q),t==="focusout"&&q&&F.type==="number"&&q.memoizedProps.value!=null&&Ko(F,"number",F.value)}switch(Ne=q?fr(q):window,t){case"focusin":(bg(Ne)||Ne.contentEditable==="true")&&(ka=Ne,Cf=q,al=null);break;case"focusout":al=Cf=ka=null;break;case"mousedown":If=!0;break;case"contextmenu":case"mouseup":case"dragend":If=!1,kg(Z,a,X);break;case"selectionchange":if(d1)break;case"keydown":case"keyup":kg(Z,a,X)}var ge;if(xe)e:{switch(t){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else Qn?Gn(t,a)&&(Te="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Te="onCompositionStart");Te&&(_t&&a.locale!=="ko"&&(Qn||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&Qn&&(ge=Hu()):(Cn=X,Je="value"in Cn?Cn.value:Cn.textContent,Qn=!0)),Ne=Lc(q,Te),0<Ne.length&&(Te=new el(Te,t,null,a,X),Z.push({event:Te,listeners:Ne}),ge?Te.data=ge:(ge=Kn(a),ge!==null&&(Te.data=ge)))),(ge=He?nl(t,a):s1(t,a))&&(Te=Lc(q,"onBeforeInput"),0<Te.length&&(Ne=new el("onBeforeInput","beforeinput",null,a,X),Z.push({event:Ne,listeners:Te}),Ne.data=ge)),X1(Z,t,q,a,X)}iv(Z,r)})}function Ml(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Lc(t,r){for(var a=r+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=_r(t,a),h!=null&&l.unshift(Ml(t,h,d)),h=_r(t,r),h!=null&&l.push(Ml(t,h,d))),t.tag===3)return l;t=t.return}return[]}function io(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function sv(t,r,a,l,h){for(var d=r._reactName,v=[];a!==null&&a!==l;){var b=a,I=b.alternate,q=b.stateNode;if(b=b.tag,I!==null&&I===l)break;b!==5&&b!==26&&b!==27||q===null||(I=q,h?(q=_r(a,d),q!=null&&v.unshift(Ml(a,q,I))):h||(q=_r(a,d),q!=null&&v.push(Ml(a,q,I)))),a=a.return}v.length!==0&&t.push({event:r,listeners:v})}var J1=/\r\n?/g,eA=/\u0000|\uFFFD/g;function av(t){return(typeof t=="string"?t:""+t).replace(J1,`
`).replace(eA,"")}function ov(t,r){return r=av(r),av(t)===r}function jc(){}function We(t,r,a,l,h,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||xn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&xn(t,""+l);break;case"className":bs(t,"class",l);break;case"tabIndex":bs(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":bs(t,a,l);break;case"style":Yo(t,l,d);break;case"data":if(r!=="object"){bs(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Hn(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&We(t,r,"name",h.name,h,null),We(t,r,"formEncType",h.formEncType,h,null),We(t,r,"formMethod",h.formMethod,h,null),We(t,r,"formTarget",h.formTarget,h,null)):(We(t,r,"encType",h.encType,h,null),We(t,r,"method",h.method,h,null),We(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Hn(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=jc);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Hn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":ke("beforetoggle",t),ke("toggle",t),Ts(t,"popover",l);break;case"xlinkActuate":Rn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Rn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Rn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Rn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Rn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Rn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Rn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Rn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Rn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ts(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Bu.get(a)||a,Ts(t,a,l))}}function Zd(t,r,a,l,h,d){switch(a){case"style":Yo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?xn(t,l):(typeof l=="number"||typeof l=="bigint")&&xn(t,""+l);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"onClick":l!=null&&(t.onclick=jc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vs.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),d=t[jt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ts(t,a,l)}}}function qt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",t),ke("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:We(t,r,d,v,a,null)}}h&&We(t,r,"srcSet",a.srcSet,a,null),l&&We(t,r,"src",a.src,a,null);return;case"input":ke("invalid",t);var b=d=v=h=null,I=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":v=X;break;case"checked":I=X;break;case"defaultChecked":q=X;break;case"value":d=X;break;case"defaultValue":b=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:We(t,r,l,X,a,null)}}Go(t,d,b,I,q,v,h,!1),pr(t);return;case"select":ke("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":d=b;break;case"defaultValue":v=b;break;case"multiple":l=b;default:We(t,r,h,b,a,null)}r=d,a=v,t.multiple=!!l,r!=null?gr(t,!!l,r,!1):a!=null&&gr(t,!!l,a,!0);return;case"textarea":ke("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(b=a[v],b!=null))switch(v){case"value":l=b;break;case"defaultValue":h=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:We(t,r,v,b,a,null)}zu(t,l,h,d),pr(t);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:We(t,r,I,l,a,null)}return;case"dialog":ke("beforetoggle",t),ke("toggle",t),ke("cancel",t),ke("close",t);break;case"iframe":case"object":ke("load",t);break;case"video":case"audio":for(l=0;l<kl.length;l++)ke(kl[l],t);break;case"image":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"embed":case"source":case"link":ke("error",t),ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:We(t,r,q,l,a,null)}return;default:if(Ra(r)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Zd(t,r,X,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&We(t,r,b,l,a,null))}function tA(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,b=null,I=null,q=null,X=null;for(H in a){var Z=a[H];if(a.hasOwnProperty(H)&&Z!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":I=Z;default:l.hasOwnProperty(H)||We(t,r,H,null,l,Z)}}for(var F in l){var H=l[F];if(Z=a[F],l.hasOwnProperty(F)&&(H!=null||Z!=null))switch(F){case"type":d=H;break;case"name":h=H;break;case"checked":q=H;break;case"defaultChecked":X=H;break;case"value":v=H;break;case"defaultValue":b=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,r));break;default:H!==Z&&We(t,r,F,H,l,Z)}}Ho(t,v,b,I,q,X,d,h);return;case"select":H=v=b=F=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":H=I;default:l.hasOwnProperty(d)||We(t,r,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":F=d;break;case"defaultValue":b=d;break;case"multiple":v=d;default:d!==I&&We(t,r,h,d,l,I)}r=b,a=v,l=H,F!=null?gr(t,!!a,F,!1):!!l!=!!a&&(r!=null?gr(t,!!a,r,!0):gr(t,!!a,a?[]:"",!1));return;case"textarea":H=F=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:We(t,r,b,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":F=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&We(t,r,v,h,l,d)}ju(t,F,H);return;case"option":for(var we in a)if(F=a[we],a.hasOwnProperty(we)&&F!=null&&!l.hasOwnProperty(we))switch(we){case"selected":t.selected=!1;break;default:We(t,r,we,null,l,F)}for(I in l)if(F=l[I],H=a[I],l.hasOwnProperty(I)&&F!==H&&(F!=null||H!=null))switch(I){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:We(t,r,I,F,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in a)F=a[Ee],a.hasOwnProperty(Ee)&&F!=null&&!l.hasOwnProperty(Ee)&&We(t,r,Ee,null,l,F);for(q in l)if(F=l[q],H=a[q],l.hasOwnProperty(q)&&F!==H&&(F!=null||H!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:We(t,r,q,F,l,H)}return;default:if(Ra(r)){for(var $e in a)F=a[$e],a.hasOwnProperty($e)&&F!==void 0&&!l.hasOwnProperty($e)&&Zd(t,r,$e,void 0,l,F);for(X in l)F=l[X],H=a[X],!l.hasOwnProperty(X)||F===H||F===void 0&&H===void 0||Zd(t,r,X,F,l,H);return}}for(var U in a)F=a[U],a.hasOwnProperty(U)&&F!=null&&!l.hasOwnProperty(U)&&We(t,r,U,null,l,F);for(Z in l)F=l[Z],H=a[Z],!l.hasOwnProperty(Z)||F===H||F==null&&H==null||We(t,r,Z,F,l,H)}var Jd=null,em=null;function zc(t){return t.nodeType===9?t:t.ownerDocument}function lv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function uv(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function tm(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var nm=null;function nA(){var t=window.event;return t&&t.type==="popstate"?t===nm?!1:(nm=t,!0):(nm=null,!1)}var cv=typeof setTimeout=="function"?setTimeout:void 0,iA=typeof clearTimeout=="function"?clearTimeout:void 0,hv=typeof Promise=="function"?Promise:void 0,rA=typeof queueMicrotask=="function"?queueMicrotask:typeof hv<"u"?function(t){return hv.resolve(null).then(t).catch(sA)}:cv;function sA(t){setTimeout(function(){throw t})}function Pr(t){return t==="head"}function fv(t,r){var a=r,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&Vl(v.documentElement),a&2&&Vl(v.body),a&4)for(a=v.head,Vl(a),v=a.firstChild;v;){var b=v.nextSibling,I=v.nodeName;v[hr]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=b}}if(h===0){t.removeChild(d),Fl(r);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Fl(r)}function im(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":im(a),Ta(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function aA(t,r,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[hr])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Wn(t.nextSibling),t===null)break}return null}function oA(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Wn(t.nextSibling),t===null))return null;return t}function rm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function lA(t,r){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Wn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var sm=null;function dv(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function mv(t,r,a){switch(r=zc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Vl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Ta(t)}var Vn=new Map,pv=new Set;function Bc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Qi=ie.d;ie.d={f:uA,r:cA,D:hA,C:fA,L:dA,m:mA,X:gA,S:pA,M:yA};function uA(){var t=Qi.f(),r=Oc();return t||r}function cA(t){var r=ri(t);r!==null&&r.tag===5&&r.type==="form"?Vy(r):Qi.r(t)}var ro=typeof document>"u"?null:document;function gv(t,r,a){var l=ro;if(l&&typeof r=="string"&&r){var h=kt(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),pv.has(h)||(pv.add(h),t={rel:t,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),qt(r,"link",t),yt(r),l.head.appendChild(r)))}}function hA(t){Qi.D(t),gv("dns-prefetch",t,null)}function fA(t,r){Qi.C(t,r),gv("preconnect",t,r)}function dA(t,r,a){Qi.L(t,r,a);var l=ro;if(l&&t&&r){var h='link[rel="preload"][as="'+kt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+kt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+kt(a.imageSizes)+'"]')):h+='[href="'+kt(t)+'"]';var d=h;switch(r){case"style":d=so(t);break;case"script":d=ao(t)}Vn.has(d)||(t=E({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Vn.set(d,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(Pl(d))||r==="script"&&l.querySelector(Ul(d))||(r=l.createElement("link"),qt(r,"link",t),yt(r),l.head.appendChild(r)))}}function mA(t,r){Qi.m(t,r);var a=ro;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+kt(l)+'"][href="'+kt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ao(t)}if(!Vn.has(d)&&(t=E({rel:"modulepreload",href:t},r),Vn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ul(d)))return}l=a.createElement("link"),qt(l,"link",t),yt(l),a.head.appendChild(l)}}}function pA(t,r,a){Qi.S(t,r,a);var l=ro;if(l&&t){var h=dr(l).hoistableStyles,d=so(t);r=r||"default";var v=h.get(d);if(!v){var b={loading:0,preload:null};if(v=l.querySelector(Pl(d)))b.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Vn.get(d))&&am(t,a);var I=v=l.createElement("link");yt(I),qt(I,"link",t),I._p=new Promise(function(q,X){I.onload=q,I.onerror=X}),I.addEventListener("load",function(){b.loading|=1}),I.addEventListener("error",function(){b.loading|=2}),b.loading|=4,qc(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:b},h.set(d,v)}}}function gA(t,r){Qi.X(t,r);var a=ro;if(a&&t){var l=dr(a).hoistableScripts,h=ao(t),d=l.get(h);d||(d=a.querySelector(Ul(h)),d||(t=E({src:t,async:!0},r),(r=Vn.get(h))&&om(t,r),d=a.createElement("script"),yt(d),qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function yA(t,r){Qi.M(t,r);var a=ro;if(a&&t){var l=dr(a).hoistableScripts,h=ao(t),d=l.get(h);d||(d=a.querySelector(Ul(h)),d||(t=E({src:t,async:!0,type:"module"},r),(r=Vn.get(h))&&om(t,r),d=a.createElement("script"),yt(d),qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function yv(t,r,a,l){var h=(h=Ae.current)?Bc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=so(a.href),a=dr(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=so(a.href);var d=dr(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(Pl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Vn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Vn.set(t,a),d||_A(h,t,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=ao(a),a=dr(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function so(t){return'href="'+kt(t)+'"'}function Pl(t){return'link[rel="stylesheet"]['+t+"]"}function _v(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function _A(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),qt(r,"link",a),yt(r),t.head.appendChild(r))}function ao(t){return'[src="'+kt(t)+'"]'}function Ul(t){return"script[async]"+t}function vv(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+kt(a.href)+'"]');if(l)return r.instance=l,yt(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),yt(l),qt(l,"style",h),qc(l,a.precedence,t),r.instance=l;case"stylesheet":h=so(a.href);var d=t.querySelector(Pl(h));if(d)return r.state.loading|=4,r.instance=d,yt(d),d;l=_v(a),(h=Vn.get(h))&&am(l,h),d=(t.ownerDocument||t).createElement("link"),yt(d);var v=d;return v._p=new Promise(function(b,I){v.onload=b,v.onerror=I}),qt(d,"link",l),r.state.loading|=4,qc(d,a.precedence,t),r.instance=d;case"script":return d=ao(a.src),(h=t.querySelector(Ul(d)))?(r.instance=h,yt(h),h):(l=a,(h=Vn.get(d))&&(l=E({},a),om(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),yt(h),qt(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,qc(l,a.precedence,t));return r.instance}function qc(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var b=l[v];if(b.dataset.precedence===r)d=b;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function am(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function om(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Fc=null;function Ev(t,r,a){if(Fc===null){var l=new Map,h=Fc=new Map;h.set(a,l)}else h=Fc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[hr]||d[gt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(r)||"";v=t+v;var b=l.get(v);b?b.push(d):l.set(v,[d])}}return l}function Tv(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function vA(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function bv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ll=null;function EA(){}function TA(t,r,a){if(Ll===null)throw Error(s(475));var l=Ll;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=so(a.href),d=t.querySelector(Pl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Hc.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=d,yt(d);return}d=t.ownerDocument||t,a=_v(a),(h=Vn.get(h))&&am(a,h),d=d.createElement("link"),yt(d);var v=d;v._p=new Promise(function(b,I){v.onload=b,v.onerror=I}),qt(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Hc.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function bA(){if(Ll===null)throw Error(s(475));var t=Ll;return t.stylesheets&&t.count===0&&lm(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&lm(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Hc(){if(this.count--,this.count===0){if(this.stylesheets)lm(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Gc=null;function lm(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Gc=new Map,r.forEach(SA,t),Gc=null,Hc.call(t))}function SA(t,r){if(!(r.state.loading&4)){var a=Gc.get(t);if(a)var l=a.get(null);else{a=new Map,Gc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=r.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Hc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var jl={$$typeof:te,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function AA(t,r,a,l,h,d,v,b){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ea(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ea(0),this.hiddenUpdates=Ea(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function Sv(t,r,a,l,h,d,v,b,I,q,X,Z){return t=new AA(t,r,a,v,b,I,q,Z),r=1,d===!0&&(r|=24),d=pn(3,null,null,r),t.current=d,d.stateNode=t,r=Ff(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},Qf(d),t}function Av(t){return t?(t=Ua,t):Ua}function wv(t,r,a,l,h,d){h=Av(h),l.context===null?l.context=h:l.pendingContext=h,l=Sr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Ar(t,l,r),a!==null&&(En(a,t,r),pl(a,t,r))}function Rv(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function um(t,r){Rv(t,r),(t=t.alternate)&&Rv(t,r)}function xv(t){if(t.tag===13){var r=Pa(t,67108864);r!==null&&En(r,t,67108864),um(t,67108864)}}var Kc=!0;function wA(t,r,a,l){var h=K.T;K.T=null;var d=ie.p;try{ie.p=2,cm(t,r,a,l)}finally{ie.p=d,K.T=h}}function RA(t,r,a,l){var h=K.T;K.T=null;var d=ie.p;try{ie.p=8,cm(t,r,a,l)}finally{ie.p=d,K.T=h}}function cm(t,r,a,l){if(Kc){var h=hm(l);if(h===null)$d(t,r,l,Qc,a),Iv(t,l);else if(CA(h,t,r,a,l))l.stopPropagation();else if(Iv(t,l),r&4&&-1<xA.indexOf(t)){for(;h!==null;){var d=ri(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Bn(d.pendingLanes);if(v!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;v;){var I=1<<31-en(v);b.entanglements[1]|=I,v&=~I}mi(d),(Ge&6)===0&&(Dc=on()+500,Ol(0))}}break;case 13:b=Pa(d,2),b!==null&&En(b,d,2),Oc(),um(d,2)}if(d=hm(l),d===null&&$d(t,r,l,Qc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else $d(t,r,l,null,a)}}function hm(t){return t=Wo(t),fm(t)}var Qc=null;function fm(t){if(Qc=null,t=ii(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=f(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Qc=t,null}function Cv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Mu()){case xt:return 2;case Ot:return 8;case xi:case yf:return 32;case zo:return 268435456;default:return 32}default:return 32}}var dm=!1,Ur=null,Lr=null,jr=null,zl=new Map,Bl=new Map,zr=[],xA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Iv(t,r){switch(t){case"focusin":case"focusout":Ur=null;break;case"dragenter":case"dragleave":Lr=null;break;case"mouseover":case"mouseout":jr=null;break;case"pointerover":case"pointerout":zl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bl.delete(r.pointerId)}}function ql(t,r,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=ri(r),r!==null&&xv(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function CA(t,r,a,l,h){switch(r){case"focusin":return Ur=ql(Ur,t,r,a,l,h),!0;case"dragenter":return Lr=ql(Lr,t,r,a,l,h),!0;case"mouseover":return jr=ql(jr,t,r,a,l,h),!0;case"pointerover":var d=h.pointerId;return zl.set(d,ql(zl.get(d)||null,t,r,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Bl.set(d,ql(Bl.get(d)||null,t,r,a,l,h)),!0}return!1}function Dv(t){var r=ii(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=f(a),r!==null){t.blockedOn=r,Ef(t.priority,function(){if(a.tag===13){var l=vn();l=qo(l);var h=Pa(a,l);h!==null&&En(h,a,l),um(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=hm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Xo=l,a.target.dispatchEvent(l),Xo=null}else return r=ri(a),r!==null&&xv(r),t.blockedOn=a,!1;r.shift()}return!0}function Nv(t,r,a){Yc(t)&&a.delete(r)}function IA(){dm=!1,Ur!==null&&Yc(Ur)&&(Ur=null),Lr!==null&&Yc(Lr)&&(Lr=null),jr!==null&&Yc(jr)&&(jr=null),zl.forEach(Nv),Bl.forEach(Nv)}function Xc(t,r){t.blockedOn===r&&(t.blockedOn=null,dm||(dm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,IA)))}var Wc=null;function Ov(t){Wc!==t&&(Wc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Wc===t&&(Wc=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(fm(l||a)===null)continue;break}var d=ri(a);d!==null&&(t.splice(r,3),r-=3,fd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Fl(t){function r(I){return Xc(I,t)}Ur!==null&&Xc(Ur,t),Lr!==null&&Xc(Lr,t),jr!==null&&Xc(jr,t),zl.forEach(r),Bl.forEach(r);for(var a=0;a<zr.length;a++){var l=zr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<zr.length&&(a=zr[0],a.blockedOn===null);)Dv(a),a.blockedOn===null&&zr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[jt]||null;if(typeof d=="function")v||Ov(a);else if(v){var b=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[jt]||null)b=v.formAction;else if(fm(h)!==null)continue}else b=v.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),Ov(a)}}}function mm(t){this._internalRoot=t}$c.prototype.render=mm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=vn();wv(a,l,t,r,null,null)},$c.prototype.unmount=mm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;wv(t.current,2,null,t,null,null),Oc(),r[Ii]=null}};function $c(t){this._internalRoot=t}$c.prototype.unstable_scheduleHydration=function(t){if(t){var r=Ci();t={blockedOn:null,target:t,priority:r};for(var a=0;a<zr.length&&r!==0&&r<zr[a].priority;a++);zr.splice(a,0,t),a===0&&Dv(t)}};var kv=e.version;if(kv!=="19.1.0")throw Error(s(527,kv,"19.1.0"));ie.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(r),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var DA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zc.isDisabled&&Zc.supportsFiber)try{sr=Zc.inject(DA),Kt=Zc}catch{}}return Gl.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",h=Xy,d=Wy,v=$y,b=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks)),r=Sv(t,1,!1,null,null,a,l,h,d,v,b,null),t[Ii]=r.current,Wd(t),new mm(r)},Gl.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Xy,v=Wy,b=$y,I=null,q=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(q=a.formState)),r=Sv(t,1,!0,r,a??null,l,h,d,v,b,I,q),r.context=Av(null),a=r.current,l=vn(),l=qo(l),h=Sr(l),h.callback=null,Ar(a,h,l),a=l,r.current.lanes=a,pt(r,a),mi(r),t[Ii]=r.current,Wd(t),new $c(r)},Gl.version="19.1.0",Gl}var Fv;function qA(){if(Fv)return ym.exports;Fv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),ym.exports=BA(),ym.exports}var FA=qA();HE();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cu(){return cu=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},cu.apply(this,arguments)}var Xr;(function(i){i.Pop="POP",i.Push="PUSH",i.Replace="REPLACE"})(Xr||(Xr={}));const Hv="popstate";function HA(i){i===void 0&&(i={});function e(o,u){let{pathname:f="/",search:m="",hash:p=""}=ua(o.location.hash.substr(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Um("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:Th(u))}function s(o,u){_p(o.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(u)+")")}return KA(e,n,s,i)}function lt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function _p(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function GA(){return Math.random().toString(36).substr(2,8)}function Gv(i,e){return{usr:i.state,key:i.key,idx:e}}function Um(i,e,n,s){return n===void 0&&(n=null),cu({pathname:typeof i=="string"?i:i.pathname,search:"",hash:""},typeof e=="string"?ua(e):e,{state:n,key:e&&e.key||s||GA()})}function Th(i){let{pathname:e="/",search:n="",hash:s=""}=i;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function ua(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substr(n),i=i.substr(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substr(s),i=i.substr(0,s)),i&&(e.pathname=i)}return e}function KA(i,e,n,s){s===void 0&&(s={});let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m=Xr.Pop,p=null,g=E();g==null&&(g=0,f.replaceState(cu({},f.state,{idx:g}),""));function E(){return(f.state||{idx:null}).idx}function S(){m=Xr.Pop;let P=E(),re=P==null?null:P-g;g=P,p&&p({action:m,location:Y.location,delta:re})}function x(P,re){m=Xr.Push;let ne=Um(Y.location,P,re);n&&n(ne,P),g=E()+1;let te=Gv(ne,g),oe=Y.createHref(ne);try{f.pushState(te,"",oe)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;o.location.assign(oe)}u&&p&&p({action:m,location:Y.location,delta:1})}function L(P,re){m=Xr.Replace;let ne=Um(Y.location,P,re);n&&n(ne,P),g=E();let te=Gv(ne,g),oe=Y.createHref(ne);f.replaceState(te,"",oe),u&&p&&p({action:m,location:Y.location,delta:0})}function z(P){let re=o.location.origin!=="null"?o.location.origin:o.location.href,ne=typeof P=="string"?P:Th(P);return ne=ne.replace(/ $/,"%20"),lt(re,"No window.location.(origin|href) available to create URL for href: "+ne),new URL(ne,re)}let Y={get action(){return m},get location(){return i(o,f)},listen(P){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Hv,S),p=P,()=>{o.removeEventListener(Hv,S),p=null}},createHref(P){return e(o,P)},createURL:z,encodeLocation(P){let re=z(P);return{pathname:re.pathname,search:re.search,hash:re.hash}},push:x,replace:L,go(P){return f.go(P)}};return Y}var Kv;(function(i){i.data="data",i.deferred="deferred",i.redirect="redirect",i.error="error"})(Kv||(Kv={}));function QA(i,e,n){return n===void 0&&(n="/"),YA(i,e,n)}function YA(i,e,n,s){let o=typeof e=="string"?ua(e):e,u=To(o.pathname||"/",n);if(u==null)return null;let f=GE(i);XA(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=aw(u);m=rw(f[p],g)}return m}function GE(i,e,n,s){e===void 0&&(e=[]),n===void 0&&(n=[]),s===void 0&&(s="");let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(lt(p.relativePath.startsWith(s),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(s.length));let g=$r([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(lt(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),GE(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:nw(g,u.index),routesMeta:E})};return i.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of KE(u.path))o(u,f,p)}),e}function KE(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=KE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function XA(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:iw(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const WA=/^:[\w-]+$/,$A=3,ZA=2,JA=1,ew=10,tw=-2,Qv=i=>i==="*";function nw(i,e){let n=i.split("/"),s=n.length;return n.some(Qv)&&(s+=tw),e&&(s+=ZA),n.filter(o=>!Qv(o)).reduce((o,u)=>o+(WA.test(u)?$A:u===""?JA:ew),s)}function iw(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function rw(i,e,n){let{routesMeta:s}=i,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",S=Lm({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),x=p.route;if(!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:$r([u,S.pathname]),pathnameBase:cw($r([u,S.pathnameBase])),route:x}),S.pathnameBase!=="/"&&(u=$r([u,S.pathnameBase]))}return f}function Lm(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=sw(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,E,S)=>{let{paramName:x,isOptional:L}=E;if(x==="*"){let Y=m[S]||"";f=u.slice(0,u.length-Y.length).replace(/(.)\/+$/,"$1")}const z=m[S];return L&&!z?g[x]=void 0:g[x]=(z||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:i}}function sw(i,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),_p(i==="*"||!i.endsWith("*")||i.endsWith("/*"),'Route path "'+i+'" will be treated as if it were '+('"'+i.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+i.replace(/\*$/,"/*")+'".'));let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function aw(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return _p(!1,'The URL path "'+i+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),i}}function To(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function ow(i,e){e===void 0&&(e="/");let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?ua(i):i;return{pathname:n?n.startsWith("/")?n:lw(n,e):e,search:hw(s),hash:fw(o)}}function lw(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Tm(i,e,n,s){return"Cannot include a '"+i+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function uw(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function vp(i,e){let n=uw(i);return e?n.map((s,o)=>o===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function Ep(i,e,n,s){s===void 0&&(s=!1);let o;typeof i=="string"?o=ua(i):(o=cu({},i),lt(!o.pathname||!o.pathname.includes("?"),Tm("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),Tm("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),Tm("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let S=e.length-1;if(!s&&f.startsWith("..")){let x=f.split("/");for(;x[0]==="..";)x.shift(),S-=1;o.pathname=x.join("/")}m=S>=0?e[S]:"/"}let p=ow(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}const $r=i=>i.join("/").replace(/\/\/+/g,"/"),cw=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),hw=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,fw=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function dw(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}const QE=["post","put","patch","delete"];new Set(QE);const mw=["get",...QE];new Set(mw);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hu(){return hu=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},hu.apply(this,arguments)}const qh=Q.createContext(null),YE=Q.createContext(null),nr=Q.createContext(null),Fh=Q.createContext(null),wi=Q.createContext({outlet:null,matches:[],isDataRoute:!1}),XE=Q.createContext(null);function pw(i,e){let{relative:n}=e===void 0?{}:e;Do()||lt(!1);let{basename:s,navigator:o}=Q.useContext(nr),{hash:u,pathname:f,search:m}=Hh(i,{relative:n}),p=f;return s!=="/"&&(p=f==="/"?s:$r([s,f])),o.createHref({pathname:p,search:m,hash:u})}function Do(){return Q.useContext(Fh)!=null}function ca(){return Do()||lt(!1),Q.useContext(Fh).location}function WE(i){Q.useContext(nr).static||Q.useLayoutEffect(i)}function No(){let{isDataRoute:i}=Q.useContext(wi);return i?Nw():gw()}function gw(){Do()||lt(!1);let i=Q.useContext(qh),{basename:e,future:n,navigator:s}=Q.useContext(nr),{matches:o}=Q.useContext(wi),{pathname:u}=ca(),f=JSON.stringify(vp(o,n.v7_relativeSplatPath)),m=Q.useRef(!1);return WE(()=>{m.current=!0}),Q.useCallback(function(g,E){if(E===void 0&&(E={}),!m.current)return;if(typeof g=="number"){s.go(g);return}let S=Ep(g,JSON.parse(f),u,E.relative==="path");i==null&&e!=="/"&&(S.pathname=S.pathname==="/"?e:$r([e,S.pathname])),(E.replace?s.replace:s.push)(S,E.state,E)},[e,s,f,u,i])}const yw=Q.createContext(null);function _w(i){let e=Q.useContext(wi).outlet;return e&&Q.createElement(yw.Provider,{value:i},e)}function vw(){let{matches:i}=Q.useContext(wi),e=i[i.length-1];return e?e.params:{}}function Hh(i,e){let{relative:n}=e===void 0?{}:e,{future:s}=Q.useContext(nr),{matches:o}=Q.useContext(wi),{pathname:u}=ca(),f=JSON.stringify(vp(o,s.v7_relativeSplatPath));return Q.useMemo(()=>Ep(i,JSON.parse(f),u,n==="path"),[i,f,u,n])}function Ew(i,e){return Tw(i,e)}function Tw(i,e,n,s){Do()||lt(!1);let{navigator:o}=Q.useContext(nr),{matches:u}=Q.useContext(wi),f=u[u.length-1],m=f?f.params:{};f&&f.pathname;let p=f?f.pathnameBase:"/";f&&f.route;let g=ca(),E;if(e){var S;let P=typeof e=="string"?ua(e):e;p==="/"||(S=P.pathname)!=null&&S.startsWith(p)||lt(!1),E=P}else E=g;let x=E.pathname||"/",L=x;if(p!=="/"){let P=p.replace(/^\//,"").split("/");L="/"+x.replace(/^\//,"").split("/").slice(P.length).join("/")}let z=QA(i,{pathname:L}),Y=Rw(z&&z.map(P=>Object.assign({},P,{params:Object.assign({},m,P.params),pathname:$r([p,o.encodeLocation?o.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?p:$r([p,o.encodeLocation?o.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),u,n,s);return e&&Y?Q.createElement(Fh.Provider,{value:{location:hu({pathname:"/",search:"",hash:"",state:null,key:"default"},E),navigationType:Xr.Pop}},Y):Y}function bw(){let i=Dw(),e=dw(i)?i.status+" "+i.statusText:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),n?Q.createElement("pre",{style:o},n):null,null)}const Sw=Q.createElement(bw,null);class Aw extends Q.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?Q.createElement(wi.Provider,{value:this.props.routeContext},Q.createElement(XE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ww(i){let{routeContext:e,match:n,children:s}=i,o=Q.useContext(qh);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),Q.createElement(wi.Provider,{value:e},s)}function Rw(i,e,n,s){var o;if(e===void 0&&(e=[]),n===void 0&&(n=null),s===void 0&&(s=null),i==null){var u;if(!n)return null;if(n.errors)i=n.matches;else if((u=s)!=null&&u.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let f=i,m=(o=n)==null?void 0:o.errors;if(m!=null){let E=f.findIndex(S=>S.route.id&&m?.[S.route.id]!==void 0);E>=0||lt(!1),f=f.slice(0,Math.min(f.length,E+1))}let p=!1,g=-1;if(n&&s&&s.v7_partialHydration)for(let E=0;E<f.length;E++){let S=f[E];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(g=E),S.route.id){let{loaderData:x,errors:L}=n,z=S.route.loader&&x[S.route.id]===void 0&&(!L||L[S.route.id]===void 0);if(S.route.lazy||z){p=!0,g>=0?f=f.slice(0,g+1):f=[f[0]];break}}}return f.reduceRight((E,S,x)=>{let L,z=!1,Y=null,P=null;n&&(L=m&&S.route.id?m[S.route.id]:void 0,Y=S.route.errorElement||Sw,p&&(g<0&&x===0?(Ow("route-fallback"),z=!0,P=null):g===x&&(z=!0,P=S.route.hydrateFallbackElement||null)));let re=e.concat(f.slice(0,x+1)),ne=()=>{let te;return L?te=Y:z?te=P:S.route.Component?te=Q.createElement(S.route.Component,null):S.route.element?te=S.route.element:te=E,Q.createElement(ww,{match:S,routeContext:{outlet:E,matches:re,isDataRoute:n!=null},children:te})};return n&&(S.route.ErrorBoundary||S.route.errorElement||x===0)?Q.createElement(Aw,{location:n.location,revalidation:n.revalidation,component:Y,error:L,children:ne(),routeContext:{outlet:null,matches:re,isDataRoute:!0}}):ne()},null)}var $E=function(i){return i.UseBlocker="useBlocker",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i}($E||{}),ZE=function(i){return i.UseBlocker="useBlocker",i.UseLoaderData="useLoaderData",i.UseActionData="useActionData",i.UseRouteError="useRouteError",i.UseNavigation="useNavigation",i.UseRouteLoaderData="useRouteLoaderData",i.UseMatches="useMatches",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i.UseRouteId="useRouteId",i}(ZE||{});function xw(i){let e=Q.useContext(qh);return e||lt(!1),e}function Cw(i){let e=Q.useContext(YE);return e||lt(!1),e}function Iw(i){let e=Q.useContext(wi);return e||lt(!1),e}function JE(i){let e=Iw(),n=e.matches[e.matches.length-1];return n.route.id||lt(!1),n.route.id}function Dw(){var i;let e=Q.useContext(XE),n=Cw(),s=JE();return e!==void 0?e:(i=n.errors)==null?void 0:i[s]}function Nw(){let{router:i}=xw($E.UseNavigateStable),e=JE(ZE.UseNavigateStable),n=Q.useRef(!1);return WE(()=>{n.current=!0}),Q.useCallback(function(o,u){u===void 0&&(u={}),n.current&&(typeof o=="number"?i.navigate(o):i.navigate(o,hu({fromRouteId:e},u)))},[i,e])}const Yv={};function Ow(i,e,n){Yv[i]||(Yv[i]=!0)}function kw(i,e){i?.v7_startTransition,i?.v7_relativeSplatPath}function Mw(i){let{to:e,replace:n,state:s,relative:o}=i;Do()||lt(!1);let{future:u,static:f}=Q.useContext(nr),{matches:m}=Q.useContext(wi),{pathname:p}=ca(),g=No(),E=Ep(e,vp(m,u.v7_relativeSplatPath),p,o==="path"),S=JSON.stringify(E);return Q.useEffect(()=>g(JSON.parse(S),{replace:n,state:s,relative:o}),[g,S,o,n,s]),null}function Vw(i){return _w(i.context)}function Fr(i){lt(!1)}function Pw(i){let{basename:e="/",children:n=null,location:s,navigationType:o=Xr.Pop,navigator:u,static:f=!1,future:m}=i;Do()&&lt(!1);let p=e.replace(/^\/*/,"/"),g=Q.useMemo(()=>({basename:p,navigator:u,static:f,future:hu({v7_relativeSplatPath:!1},m)}),[p,m,u,f]);typeof s=="string"&&(s=ua(s));let{pathname:E="/",search:S="",hash:x="",state:L=null,key:z="default"}=s,Y=Q.useMemo(()=>{let P=To(E,p);return P==null?null:{location:{pathname:P,search:S,hash:x,state:L,key:z},navigationType:o}},[p,E,S,x,L,z,o]);return Y==null?null:Q.createElement(nr.Provider,{value:g},Q.createElement(Fh.Provider,{children:n,value:Y}))}function Uw(i){let{children:e,location:n}=i;return Ew(jm(e),n)}new Promise(()=>{});function jm(i,e){e===void 0&&(e=[]);let n=[];return Q.Children.forEach(i,(s,o)=>{if(!Q.isValidElement(s))return;let u=[...e,o];if(s.type===Q.Fragment){n.push.apply(n,jm(s.props.children,u));return}s.type!==Fr&&lt(!1),!s.props.index||!s.props.children||lt(!1);let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=jm(s.props.children,u)),n.push(f)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bh(){return bh=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},bh.apply(this,arguments)}function eT(i,e){if(i==null)return{};var n={},s=Object.keys(i),o,u;for(u=0;u<s.length;u++)o=s[u],!(e.indexOf(o)>=0)&&(n[o]=i[o]);return n}function Lw(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function jw(i,e){return i.button===0&&(!e||e==="_self")&&!Lw(i)}const zw=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Bw=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],qw="6";try{window.__reactRouterVersion=qw}catch{}const Fw=Q.createContext({isTransitioning:!1}),Hw="startTransition",Xv=UA[Hw];function Gw(i){let{basename:e,children:n,future:s,window:o}=i,u=Q.useRef();u.current==null&&(u.current=HA({window:o,v5Compat:!0}));let f=u.current,[m,p]=Q.useState({action:f.action,location:f.location}),{v7_startTransition:g}=s||{},E=Q.useCallback(S=>{g&&Xv?Xv(()=>p(S)):p(S)},[p,g]);return Q.useLayoutEffect(()=>f.listen(E),[f,E]),Q.useEffect(()=>kw(s),[s]),Q.createElement(Pw,{basename:e,children:n,location:m.location,navigationType:m.action,navigator:f,future:s})}const Kw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Qw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ir=Q.forwardRef(function(e,n){let{onClick:s,relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:S}=e,x=eT(e,zw),{basename:L}=Q.useContext(nr),z,Y=!1;if(typeof g=="string"&&Qw.test(g)&&(z=g,Kw))try{let te=new URL(window.location.href),oe=g.startsWith("//")?new URL(te.protocol+g):new URL(g),ue=To(oe.pathname,L);oe.origin===te.origin&&ue!=null?g=ue+oe.search+oe.hash:Y=!0}catch{}let P=pw(g,{relative:o}),re=Xw(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:S});function ne(te){s&&s(te),te.defaultPrevented||re(te)}return Q.createElement("a",bh({},x,{href:z||P,onClick:Y||u?s:ne,ref:n,target:p}))}),Kl=Q.forwardRef(function(e,n){let{"aria-current":s="page",caseSensitive:o=!1,className:u="",end:f=!1,style:m,to:p,viewTransition:g,children:E}=e,S=eT(e,Bw),x=Hh(p,{relative:S.relative}),L=ca(),z=Q.useContext(YE),{navigator:Y,basename:P}=Q.useContext(nr),re=z!=null&&Ww(x)&&g===!0,ne=Y.encodeLocation?Y.encodeLocation(x).pathname:x.pathname,te=L.pathname,oe=z&&z.navigation&&z.navigation.location?z.navigation.location.pathname:null;o||(te=te.toLowerCase(),oe=oe?oe.toLowerCase():null,ne=ne.toLowerCase()),oe&&P&&(oe=To(oe,P)||oe);const ue=ne!=="/"&&ne.endsWith("/")?ne.length-1:ne.length;let ae=te===ne||!f&&te.startsWith(ne)&&te.charAt(ue)==="/",D=oe!=null&&(oe===ne||!f&&oe.startsWith(ne)&&oe.charAt(ne.length)==="/"),w={isActive:ae,isPending:D,isTransitioning:re},R=ae?s:void 0,O;typeof u=="function"?O=u(w):O=[u,ae?"active":null,D?"pending":null,re?"transitioning":null].filter(Boolean).join(" ");let N=typeof m=="function"?m(w):m;return Q.createElement(ir,bh({},S,{"aria-current":R,className:O,ref:n,style:N,to:p,viewTransition:g}),typeof E=="function"?E(w):E)});var zm;(function(i){i.UseScrollRestoration="useScrollRestoration",i.UseSubmit="useSubmit",i.UseSubmitFetcher="useSubmitFetcher",i.UseFetcher="useFetcher",i.useViewTransitionState="useViewTransitionState"})(zm||(zm={}));var Wv;(function(i){i.UseFetcher="useFetcher",i.UseFetchers="useFetchers",i.UseScrollRestoration="useScrollRestoration"})(Wv||(Wv={}));function Yw(i){let e=Q.useContext(qh);return e||lt(!1),e}function Xw(i,e){let{target:n,replace:s,state:o,preventScrollReset:u,relative:f,viewTransition:m}=e===void 0?{}:e,p=No(),g=ca(),E=Hh(i,{relative:f});return Q.useCallback(S=>{if(jw(S,n)){S.preventDefault();let x=s!==void 0?s:Th(g)===Th(E);p(i,{replace:x,state:o,preventScrollReset:u,relative:f,viewTransition:m})}},[g,p,E,s,o,n,i,u,f,m])}function Ww(i,e){e===void 0&&(e={});let n=Q.useContext(Fw);n==null&&lt(!1);let{basename:s}=Yw(zm.useViewTransitionState),o=Hh(i,{relative:e.relative});if(!n.isTransitioning)return!1;let u=To(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=To(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Lm(o.pathname,f)!=null||Lm(o.pathname,u)!=null}const $w=()=>T.jsx("section",{style:{background:"linear-gradient(135deg, #1A0800 0%, #4A1E05 45%, #8B4513 80%, #C96B2B 100%)",minHeight:"520px",position:"relative"},className:"flex items-center",children:T.jsxs("div",{className:"max-w-7xl mx-auto px-8 w-full grid grid-cols-1 lg:grid-cols-2 gap-12 items-center py-20",children:[T.jsxs("div",{children:[T.jsx("span",{style:{color:"#AEFF00",fontSize:"11px",fontWeight:700,letterSpacing:"0.15em",textTransform:"uppercase"},className:"block mb-5",children:" Ritual de bienestar"}),T.jsxs("h1",{style:{color:"#fff",fontSize:"clamp(2rem, 5vw, 3.5rem)",fontWeight:800,lineHeight:1.1,marginBottom:"1.25rem"},children:["Tu nuevo ritual diario",T.jsx("br",{}),"de bienestar "]}),T.jsx("p",{style:{color:"rgba(255,255,255,0.75)",fontSize:"15px",lineHeight:1.75,marginBottom:"2rem",maxWidth:"440px"},children:"Velas artesanales elaboradas a mano con cera natural en Santa Marta, Colombia. Cada aroma cuenta una historia del Caribe."}),T.jsxs("div",{className:"flex flex-wrap gap-4",children:[T.jsx(ir,{to:"/juguetes",style:{backgroundColor:"var(--vsm-brand)",color:"#fff",borderRadius:"5px",padding:"12px 28px",fontSize:"13px",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.07em",textDecoration:"none"},className:"hover:opacity-90 transition-opacity",children:"Comprar ahora"}),T.jsx("a",{href:"#nosotros",style:{color:"#fff",border:"1px solid rgba(255,255,255,0.5)",borderRadius:"5px",padding:"12px 28px",fontSize:"13px",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.07em"},className:"hover:bg-white hover:text-black transition-all",children:"Ver coleccin"})]})]}),T.jsxs("div",{style:{backgroundColor:"rgba(255,255,255,0.06)",border:"1px solid rgba(255,255,255,0.12)",borderRadius:"8px",minHeight:"340px"},className:"hidden lg:flex items-center justify-center flex-col gap-4",children:[T.jsx("span",{style:{fontSize:"6rem",filter:"drop-shadow(0 8px 20px rgba(201,107,43,0.6))"},children:""}),T.jsx("p",{style:{color:"rgba(255,255,255,0.5)",fontSize:"11px",fontWeight:600,letterSpacing:"0.15em",textTransform:"uppercase"},children:"Coleccin Santa Marta"})]})]})}),Zw=[{icon:"",title:"Velas Aromticas",desc:"Elaboradas con cera de soya 100% natural y aceites esenciales puros. Cada vela llena tu espacio con aromas nicos inspirados en el Caribe colombiano: coco, mar, flores tropicales y especias."},{icon:"",title:"Velas Decorativas",desc:"Diseos artesanales nicos que combinan belleza y aroma. Cada pieza es moldeada y terminada a mano, convirtindose en un objeto decorativo que tambin perfuma tu hogar."}],Jw=()=>T.jsx("section",{style:{backgroundColor:"var(--vsm-white)"},className:"py-20 px-8",children:T.jsxs("div",{className:"max-w-7xl mx-auto",children:[T.jsx("h2",{style:{fontWeight:800,fontSize:"1.6rem",color:"var(--vsm-black)",marginBottom:"2rem"},children:"Conoce nuestras Velas y otros productos"}),T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:Zw.map(i=>T.jsxs("div",{style:{backgroundColor:"#FBF6F0",borderRadius:"8px",padding:"2rem",borderLeft:"3px solid var(--vsm-brand)"},children:[T.jsx("div",{style:{fontSize:"3.5rem",marginBottom:"1rem"},children:i.icon}),T.jsx("h3",{style:{fontWeight:700,fontSize:"1.1rem",marginBottom:"0.75rem",color:"var(--vsm-black)"},children:i.title}),T.jsx("p",{style:{color:"var(--vsm-gray-mid)",lineHeight:1.8,fontSize:"14px",marginBottom:"1.25rem"},children:i.desc}),T.jsx(ir,{to:"/juguetes",style:{color:"var(--vsm-brand)",fontWeight:700,fontSize:"13px",textDecoration:"underline",textUnderlineOffset:"4px"},children:"Ver productos "})]},i.title))})]})}),eR=()=>{};var $v={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},tR=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],f=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],f=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},nT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let x=(m&15)<<2|g>>6,L=g&63;p||(L=64,f||(x=64)),s.push(n[E],n[S],n[x],n[L])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(tT(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):tR(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const S=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||S==null)throw new nR;const x=u<<2|m>>4;if(s.push(x),g!==64){const L=m<<4&240|g>>2;if(s.push(L),S!==64){const z=g<<6&192|S;s.push(z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class nR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iR=function(i){const e=tT(i);return nT.encodeByteArray(e,!0)},Sh=function(i){return iR(i).replace(/\./g,"")},iT=function(i){try{return nT.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR=()=>rR().__FIREBASE_DEFAULTS__,aR=()=>{if(typeof process>"u"||typeof $v>"u")return;const i=$v.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},oR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&iT(i[1]);return e&&JSON.parse(e)},Gh=()=>{try{return eR()||sR()||aR()||oR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},rT=i=>Gh()?.emulatorHosts?.[i],sT=i=>{const e=rT(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},aT=()=>Gh()?.config,oT=i=>Gh()?.[`_${i}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Tp(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Sh(JSON.stringify(n)),Sh(JSON.stringify(f)),""].join(".")}const tu={};function uR(){const i={prod:[],emulator:[]};for(const e of Object.keys(tu))tu[e]?i.emulator.push(e):i.prod.push(e);return i}function cR(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let Zv=!1;function bp(i,e){if(typeof window>"u"||typeof document>"u"||!hs(window.location.host)||tu[i]===e||tu[i]||Zv)return;tu[i]=e;function n(x){return`__firebase__banner__${x}`}const s="__firebase__banner",u=uR().prod.length>0;function f(){const x=document.getElementById(s);x&&x.remove()}function m(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function p(x,L){x.setAttribute("width","24"),x.setAttribute("id",L),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function g(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{Zv=!0,f()},x}function E(x,L){x.setAttribute("id",L),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function S(){const x=cR(s),L=n("text"),z=document.getElementById(L)||document.createElement("span"),Y=n("learnmore"),P=document.getElementById(Y)||document.createElement("a"),re=n("preprendIcon"),ne=document.getElementById(re)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const te=x.element;m(te),E(P,Y);const oe=g();p(ne,re),te.append(ne,z,P,oe),document.body.appendChild(te)}u?(z.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,z.innerText="Preview backend running in this workspace."),z.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function fR(){const i=Gh()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mR(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function pR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gR(){const i=Jt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function yR(){return!fR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _R(){try{return typeof indexedDB=="object"}catch{return!1}}function vR(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER="FirebaseError";class Ri extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=ER,Object.setPrototypeOf(this,Ri.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bu.prototype.create)}}class bu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?TR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Ri(o,m,s)}}function TR(i,e){return i.replace(bR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const bR=/\{\$([^}]+)}/g;function SR(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function na(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],f=e[o];if(Jv(u)&&Jv(f)){if(!na(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Jv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Xl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Wl(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function AR(i,e){const n=new wR(i,e);return n.subscribe.bind(n)}class wR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");RR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=bm),o.error===void 0&&(o.error=bm),o.complete===void 0&&(o.complete=bm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function RR(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function bm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function st(i){return i&&i._delegate?i._delegate:i}class is{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new lR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(IR(e))try{this.getOrInitializeService({instanceIdentifier:Zs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Zs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zs){return this.instances.has(e)}getOptions(e=Zs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:CR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Zs){return this.component?this.component.multipleInstances?e:Zs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CR(i){return i===Zs?void 0:i}function IR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new xR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ve||(Ve={}));const NR={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},OR=Ve.INFO,kR={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},MR=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=kR[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sp{constructor(e){this.name=e,this._logLevel=OR,this._logHandler=MR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?NR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const VR=(i,e)=>e.some(n=>i instanceof n);let e0,t0;function PR(){return e0||(e0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UR(){return t0||(t0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uT=new WeakMap,Bm=new WeakMap,cT=new WeakMap,Sm=new WeakMap,Ap=new WeakMap;function LR(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(Zr(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&uT.set(n,i)}).catch(()=>{}),Ap.set(e,i),e}function jR(i){if(Bm.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});Bm.set(i,e)}let qm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Bm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||cT.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function zR(i){qm=i(qm)}function BR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Am(this),e,...n);return cT.set(s,e.sort?e.sort():[e]),Zr(s)}:UR().includes(i)?function(...e){return i.apply(Am(this),e),Zr(uT.get(this))}:function(...e){return Zr(i.apply(Am(this),e))}}function qR(i){return typeof i=="function"?BR(i):(i instanceof IDBTransaction&&jR(i),VR(i,PR())?new Proxy(i,qm):i)}function Zr(i){if(i instanceof IDBRequest)return LR(i);if(Sm.has(i))return Sm.get(i);const e=qR(i);return e!==i&&(Sm.set(i,e),Ap.set(e,i)),e}const Am=i=>Ap.get(i);function FR(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),m=Zr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Zr(f.result),p.oldVersion,p.newVersion,Zr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const HR=["get","getKey","getAll","getAllKeys","count"],GR=["put","add","delete","clear"],wm=new Map;function n0(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(wm.get(e))return wm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=GR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||HR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return wm.set(e,u),u}zR(i=>({...i,get:(e,n,s)=>n0(e,n)||i.get(e,n,s),has:(e,n)=>!!n0(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(QR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function QR(i){return i.getComponent()?.type==="VERSION"}const Fm="@firebase/app",i0="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i=new Sp("@firebase/app"),YR="@firebase/app-compat",XR="@firebase/analytics-compat",WR="@firebase/analytics",$R="@firebase/app-check-compat",ZR="@firebase/app-check",JR="@firebase/auth",ex="@firebase/auth-compat",tx="@firebase/database",nx="@firebase/data-connect",ix="@firebase/database-compat",rx="@firebase/functions",sx="@firebase/functions-compat",ax="@firebase/installations",ox="@firebase/installations-compat",lx="@firebase/messaging",ux="@firebase/messaging-compat",cx="@firebase/performance",hx="@firebase/performance-compat",fx="@firebase/remote-config",dx="@firebase/remote-config-compat",mx="@firebase/storage",px="@firebase/storage-compat",gx="@firebase/firestore",yx="@firebase/ai",_x="@firebase/firestore-compat",vx="firebase",Ex="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm="[DEFAULT]",Tx={[Fm]:"fire-core",[YR]:"fire-core-compat",[WR]:"fire-analytics",[XR]:"fire-analytics-compat",[ZR]:"fire-app-check",[$R]:"fire-app-check-compat",[JR]:"fire-auth",[ex]:"fire-auth-compat",[tx]:"fire-rtdb",[nx]:"fire-data-connect",[ix]:"fire-rtdb-compat",[rx]:"fire-fn",[sx]:"fire-fn-compat",[ax]:"fire-iid",[ox]:"fire-iid-compat",[lx]:"fire-fcm",[ux]:"fire-fcm-compat",[cx]:"fire-perf",[hx]:"fire-perf-compat",[fx]:"fire-rc",[dx]:"fire-rc-compat",[mx]:"fire-gcs",[px]:"fire-gcs-compat",[gx]:"fire-fst",[_x]:"fire-fst-compat",[yx]:"fire-vertex","fire-js":"fire-js",[vx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah=new Map,bx=new Map,Gm=new Map;function r0(i,e){try{i.container.addComponent(e)}catch(n){$i.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function ia(i){const e=i.name;if(Gm.has(e))return $i.debug(`There were multiple attempts to register component ${e}.`),!1;Gm.set(e,i);for(const n of Ah.values())r0(n,i);for(const n of bx.values())r0(n,i);return!0}function Kh(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Tn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Jr=new bu("app","Firebase",Sx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new is("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha=Ex;function hT(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:Hm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Jr.create("bad-app-name",{appName:String(o)});if(n||(n=aT()),!n)throw Jr.create("no-options");const u=Ah.get(o);if(u){if(na(n,u.options)&&na(s,u.config))return u;throw Jr.create("duplicate-app",{appName:o})}const f=new DR(o);for(const p of Gm.values())f.addComponent(p);const m=new Ax(n,s,f);return Ah.set(o,m),m}function wp(i=Hm){const e=Ah.get(i);if(!e&&i===Hm&&aT())return hT();if(!e)throw Jr.create("no-app",{appName:i});return e}function yi(i,e,n){let s=Tx[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$i.warn(f.join(" "));return}ia(new is(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx="firebase-heartbeat-database",Rx=1,fu="firebase-heartbeat-store";let Rm=null;function fT(){return Rm||(Rm=FR(wx,Rx,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(fu)}catch(n){console.warn(n)}}}}).catch(i=>{throw Jr.create("idb-open",{originalErrorMessage:i.message})})),Rm}async function xx(i){try{const n=(await fT()).transaction(fu),s=await n.objectStore(fu).get(dT(i));return await n.done,s}catch(e){if(e instanceof Ri)$i.warn(e.message);else{const n=Jr.create("idb-get",{originalErrorMessage:e?.message});$i.warn(n.message)}}}async function s0(i,e){try{const s=(await fT()).transaction(fu,"readwrite");await s.objectStore(fu).put(e,dT(i)),await s.done}catch(n){if(n instanceof Ri)$i.warn(n.message);else{const s=Jr.create("idb-set",{originalErrorMessage:n?.message});$i.warn(s.message)}}}function dT(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx=1024,Ix=30;class Dx{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Ox(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=a0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>Ix){const o=kx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){$i.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=a0(),{heartbeatsToSend:n,unsentEntries:s}=Nx(this._heartbeatsCache.heartbeats),o=Sh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return $i.warn(e),""}}}function a0(){return new Date().toISOString().substring(0,10)}function Nx(i,e=Cx){const n=[];let s=i.slice();for(const o of i){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),o0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),o0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Ox{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _R()?vR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await xx(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return s0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return s0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function o0(i){return Sh(JSON.stringify({version:2,heartbeats:i})).length}function kx(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mx(i){ia(new is("platform-logger",e=>new KR(e),"PRIVATE")),ia(new is("heartbeat",e=>new Dx(e),"PRIVATE")),yi(Fm,i0,i),yi(Fm,i0,"esm2020"),yi("fire-js","")}Mx("");var l0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var es,mT;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,w){function R(){}R.prototype=w.prototype,D.F=w.prototype,D.prototype=new R,D.prototype.constructor=D,D.D=function(O,N,V){for(var C=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)C[fe-2]=arguments[fe];return w.prototype[N].apply(O,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,w,R){R||(R=0);const O=Array(16);if(typeof w=="string")for(var N=0;N<16;++N)O[N]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(N=0;N<16;++N)O[N]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=D.g[0],R=D.g[1],N=D.g[2];let V=D.g[3],C;C=w+(V^R&(N^V))+O[0]+3614090360&4294967295,w=R+(C<<7&4294967295|C>>>25),C=V+(N^w&(R^N))+O[1]+3905402710&4294967295,V=w+(C<<12&4294967295|C>>>20),C=N+(R^V&(w^R))+O[2]+606105819&4294967295,N=V+(C<<17&4294967295|C>>>15),C=R+(w^N&(V^w))+O[3]+3250441966&4294967295,R=N+(C<<22&4294967295|C>>>10),C=w+(V^R&(N^V))+O[4]+4118548399&4294967295,w=R+(C<<7&4294967295|C>>>25),C=V+(N^w&(R^N))+O[5]+1200080426&4294967295,V=w+(C<<12&4294967295|C>>>20),C=N+(R^V&(w^R))+O[6]+2821735955&4294967295,N=V+(C<<17&4294967295|C>>>15),C=R+(w^N&(V^w))+O[7]+4249261313&4294967295,R=N+(C<<22&4294967295|C>>>10),C=w+(V^R&(N^V))+O[8]+1770035416&4294967295,w=R+(C<<7&4294967295|C>>>25),C=V+(N^w&(R^N))+O[9]+2336552879&4294967295,V=w+(C<<12&4294967295|C>>>20),C=N+(R^V&(w^R))+O[10]+4294925233&4294967295,N=V+(C<<17&4294967295|C>>>15),C=R+(w^N&(V^w))+O[11]+2304563134&4294967295,R=N+(C<<22&4294967295|C>>>10),C=w+(V^R&(N^V))+O[12]+1804603682&4294967295,w=R+(C<<7&4294967295|C>>>25),C=V+(N^w&(R^N))+O[13]+4254626195&4294967295,V=w+(C<<12&4294967295|C>>>20),C=N+(R^V&(w^R))+O[14]+2792965006&4294967295,N=V+(C<<17&4294967295|C>>>15),C=R+(w^N&(V^w))+O[15]+1236535329&4294967295,R=N+(C<<22&4294967295|C>>>10),C=w+(N^V&(R^N))+O[1]+4129170786&4294967295,w=R+(C<<5&4294967295|C>>>27),C=V+(R^N&(w^R))+O[6]+3225465664&4294967295,V=w+(C<<9&4294967295|C>>>23),C=N+(w^R&(V^w))+O[11]+643717713&4294967295,N=V+(C<<14&4294967295|C>>>18),C=R+(V^w&(N^V))+O[0]+3921069994&4294967295,R=N+(C<<20&4294967295|C>>>12),C=w+(N^V&(R^N))+O[5]+3593408605&4294967295,w=R+(C<<5&4294967295|C>>>27),C=V+(R^N&(w^R))+O[10]+38016083&4294967295,V=w+(C<<9&4294967295|C>>>23),C=N+(w^R&(V^w))+O[15]+3634488961&4294967295,N=V+(C<<14&4294967295|C>>>18),C=R+(V^w&(N^V))+O[4]+3889429448&4294967295,R=N+(C<<20&4294967295|C>>>12),C=w+(N^V&(R^N))+O[9]+568446438&4294967295,w=R+(C<<5&4294967295|C>>>27),C=V+(R^N&(w^R))+O[14]+3275163606&4294967295,V=w+(C<<9&4294967295|C>>>23),C=N+(w^R&(V^w))+O[3]+4107603335&4294967295,N=V+(C<<14&4294967295|C>>>18),C=R+(V^w&(N^V))+O[8]+1163531501&4294967295,R=N+(C<<20&4294967295|C>>>12),C=w+(N^V&(R^N))+O[13]+2850285829&4294967295,w=R+(C<<5&4294967295|C>>>27),C=V+(R^N&(w^R))+O[2]+4243563512&4294967295,V=w+(C<<9&4294967295|C>>>23),C=N+(w^R&(V^w))+O[7]+1735328473&4294967295,N=V+(C<<14&4294967295|C>>>18),C=R+(V^w&(N^V))+O[12]+2368359562&4294967295,R=N+(C<<20&4294967295|C>>>12),C=w+(R^N^V)+O[5]+4294588738&4294967295,w=R+(C<<4&4294967295|C>>>28),C=V+(w^R^N)+O[8]+2272392833&4294967295,V=w+(C<<11&4294967295|C>>>21),C=N+(V^w^R)+O[11]+1839030562&4294967295,N=V+(C<<16&4294967295|C>>>16),C=R+(N^V^w)+O[14]+4259657740&4294967295,R=N+(C<<23&4294967295|C>>>9),C=w+(R^N^V)+O[1]+2763975236&4294967295,w=R+(C<<4&4294967295|C>>>28),C=V+(w^R^N)+O[4]+1272893353&4294967295,V=w+(C<<11&4294967295|C>>>21),C=N+(V^w^R)+O[7]+4139469664&4294967295,N=V+(C<<16&4294967295|C>>>16),C=R+(N^V^w)+O[10]+3200236656&4294967295,R=N+(C<<23&4294967295|C>>>9),C=w+(R^N^V)+O[13]+681279174&4294967295,w=R+(C<<4&4294967295|C>>>28),C=V+(w^R^N)+O[0]+3936430074&4294967295,V=w+(C<<11&4294967295|C>>>21),C=N+(V^w^R)+O[3]+3572445317&4294967295,N=V+(C<<16&4294967295|C>>>16),C=R+(N^V^w)+O[6]+76029189&4294967295,R=N+(C<<23&4294967295|C>>>9),C=w+(R^N^V)+O[9]+3654602809&4294967295,w=R+(C<<4&4294967295|C>>>28),C=V+(w^R^N)+O[12]+3873151461&4294967295,V=w+(C<<11&4294967295|C>>>21),C=N+(V^w^R)+O[15]+530742520&4294967295,N=V+(C<<16&4294967295|C>>>16),C=R+(N^V^w)+O[2]+3299628645&4294967295,R=N+(C<<23&4294967295|C>>>9),C=w+(N^(R|~V))+O[0]+4096336452&4294967295,w=R+(C<<6&4294967295|C>>>26),C=V+(R^(w|~N))+O[7]+1126891415&4294967295,V=w+(C<<10&4294967295|C>>>22),C=N+(w^(V|~R))+O[14]+2878612391&4294967295,N=V+(C<<15&4294967295|C>>>17),C=R+(V^(N|~w))+O[5]+4237533241&4294967295,R=N+(C<<21&4294967295|C>>>11),C=w+(N^(R|~V))+O[12]+1700485571&4294967295,w=R+(C<<6&4294967295|C>>>26),C=V+(R^(w|~N))+O[3]+2399980690&4294967295,V=w+(C<<10&4294967295|C>>>22),C=N+(w^(V|~R))+O[10]+4293915773&4294967295,N=V+(C<<15&4294967295|C>>>17),C=R+(V^(N|~w))+O[1]+2240044497&4294967295,R=N+(C<<21&4294967295|C>>>11),C=w+(N^(R|~V))+O[8]+1873313359&4294967295,w=R+(C<<6&4294967295|C>>>26),C=V+(R^(w|~N))+O[15]+4264355552&4294967295,V=w+(C<<10&4294967295|C>>>22),C=N+(w^(V|~R))+O[6]+2734768916&4294967295,N=V+(C<<15&4294967295|C>>>17),C=R+(V^(N|~w))+O[13]+1309151649&4294967295,R=N+(C<<21&4294967295|C>>>11),C=w+(N^(R|~V))+O[4]+4149444226&4294967295,w=R+(C<<6&4294967295|C>>>26),C=V+(R^(w|~N))+O[11]+3174756917&4294967295,V=w+(C<<10&4294967295|C>>>22),C=N+(w^(V|~R))+O[2]+718787259&4294967295,N=V+(C<<15&4294967295|C>>>17),C=R+(V^(N|~w))+O[9]+3951481745&4294967295,D.g[0]=D.g[0]+w&4294967295,D.g[1]=D.g[1]+(N+(C<<21&4294967295|C>>>11))&4294967295,D.g[2]=D.g[2]+N&4294967295,D.g[3]=D.g[3]+V&4294967295}s.prototype.v=function(D,w){w===void 0&&(w=D.length);const R=w-this.blockSize,O=this.C;let N=this.h,V=0;for(;V<w;){if(N==0)for(;V<=R;)o(this,D,V),V+=this.blockSize;if(typeof D=="string"){for(;V<w;)if(O[N++]=D.charCodeAt(V++),N==this.blockSize){o(this,O),N=0;break}}else for(;V<w;)if(O[N++]=D[V++],N==this.blockSize){o(this,O),N=0;break}}this.h=N,this.o+=w},s.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var w=1;w<D.length-8;++w)D[w]=0;w=this.o*8;for(var R=D.length-8;R<D.length;++R)D[R]=w&255,w/=256;for(this.v(D),D=Array(16),w=0,R=0;R<4;++R)for(let O=0;O<32;O+=8)D[w++]=this.g[R]>>>O&255;return D};function u(D,w){var R=m;return Object.prototype.hasOwnProperty.call(R,D)?R[D]:R[D]=w(D)}function f(D,w){this.h=w;const R=[];let O=!0;for(let N=D.length-1;N>=0;N--){const V=D[N]|0;O&&V==w||(R[N]=V,O=!1)}this.g=R}var m={};function p(D){return-128<=D&&D<128?u(D,function(w){return new f([w|0],w<0?-1:0)}):new f([D|0],D<0?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return S;if(D<0)return P(g(-D));const w=[];let R=1;for(let O=0;D>=R;O++)w[O]=D/R|0,R*=4294967296;return new f(w,0)}function E(D,w){if(D.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(D.charAt(0)=="-")return P(E(D.substring(1),w));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=g(Math.pow(w,8));let O=S;for(let V=0;V<D.length;V+=8){var N=Math.min(8,D.length-V);const C=parseInt(D.substring(V,V+N),w);N<8?(N=g(Math.pow(w,N)),O=O.j(N).add(g(C))):(O=O.j(R),O=O.add(g(C)))}return O}var S=p(0),x=p(1),L=p(16777216);i=f.prototype,i.m=function(){if(Y(this))return-P(this).m();let D=0,w=1;for(let R=0;R<this.g.length;R++){const O=this.i(R);D+=(O>=0?O:4294967296+O)*w,w*=4294967296}return D},i.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(z(this))return"0";if(Y(this))return"-"+P(this).toString(D);const w=g(Math.pow(D,6));var R=this;let O="";for(;;){const N=oe(R,w).g;R=re(R,N.j(w));let V=((R.g.length>0?R.g[0]:R.h)>>>0).toString(D);if(R=N,z(R))return V+O;for(;V.length<6;)V="0"+V;O=V+O}},i.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function z(D){if(D.h!=0)return!1;for(let w=0;w<D.g.length;w++)if(D.g[w]!=0)return!1;return!0}function Y(D){return D.h==-1}i.l=function(D){return D=re(this,D),Y(D)?-1:z(D)?0:1};function P(D){const w=D.g.length,R=[];for(let O=0;O<w;O++)R[O]=~D.g[O];return new f(R,~D.h).add(x)}i.abs=function(){return Y(this)?P(this):this},i.add=function(D){const w=Math.max(this.g.length,D.g.length),R=[];let O=0;for(let N=0;N<=w;N++){let V=O+(this.i(N)&65535)+(D.i(N)&65535),C=(V>>>16)+(this.i(N)>>>16)+(D.i(N)>>>16);O=C>>>16,V&=65535,C&=65535,R[N]=C<<16|V}return new f(R,R[R.length-1]&-2147483648?-1:0)};function re(D,w){return D.add(P(w))}i.j=function(D){if(z(this)||z(D))return S;if(Y(this))return Y(D)?P(this).j(P(D)):P(P(this).j(D));if(Y(D))return P(this.j(P(D)));if(this.l(L)<0&&D.l(L)<0)return g(this.m()*D.m());const w=this.g.length+D.g.length,R=[];for(var O=0;O<2*w;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(let N=0;N<D.g.length;N++){const V=this.i(O)>>>16,C=this.i(O)&65535,fe=D.i(N)>>>16,ve=D.i(N)&65535;R[2*O+2*N]+=C*ve,ne(R,2*O+2*N),R[2*O+2*N+1]+=V*ve,ne(R,2*O+2*N+1),R[2*O+2*N+1]+=C*fe,ne(R,2*O+2*N+1),R[2*O+2*N+2]+=V*fe,ne(R,2*O+2*N+2)}for(D=0;D<w;D++)R[D]=R[2*D+1]<<16|R[2*D];for(D=w;D<2*w;D++)R[D]=0;return new f(R,0)};function ne(D,w){for(;(D[w]&65535)!=D[w];)D[w+1]+=D[w]>>>16,D[w]&=65535,w++}function te(D,w){this.g=D,this.h=w}function oe(D,w){if(z(w))throw Error("division by zero");if(z(D))return new te(S,S);if(Y(D))return w=oe(P(D),w),new te(P(w.g),P(w.h));if(Y(w))return w=oe(D,P(w)),new te(P(w.g),w.h);if(D.g.length>30){if(Y(D)||Y(w))throw Error("slowDivide_ only works with positive integers.");for(var R=x,O=w;O.l(D)<=0;)R=ue(R),O=ue(O);var N=ae(R,1),V=ae(O,1);for(O=ae(O,2),R=ae(R,2);!z(O);){var C=V.add(O);C.l(D)<=0&&(N=N.add(R),V=C),O=ae(O,1),R=ae(R,1)}return w=re(D,N.j(w)),new te(N,w)}for(N=S;D.l(w)>=0;){for(R=Math.max(1,Math.floor(D.m()/w.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),V=g(R),C=V.j(w);Y(C)||C.l(D)>0;)R-=O,V=g(R),C=V.j(w);z(V)&&(V=x),N=N.add(V),D=re(D,C)}return new te(N,D)}i.B=function(D){return oe(this,D).h},i.and=function(D){const w=Math.max(this.g.length,D.g.length),R=[];for(let O=0;O<w;O++)R[O]=this.i(O)&D.i(O);return new f(R,this.h&D.h)},i.or=function(D){const w=Math.max(this.g.length,D.g.length),R=[];for(let O=0;O<w;O++)R[O]=this.i(O)|D.i(O);return new f(R,this.h|D.h)},i.xor=function(D){const w=Math.max(this.g.length,D.g.length),R=[];for(let O=0;O<w;O++)R[O]=this.i(O)^D.i(O);return new f(R,this.h^D.h)};function ue(D){const w=D.g.length+1,R=[];for(let O=0;O<w;O++)R[O]=D.i(O)<<1|D.i(O-1)>>>31;return new f(R,D.h)}function ae(D,w){const R=w>>5;w%=32;const O=D.g.length-R,N=[];for(let V=0;V<O;V++)N[V]=w>0?D.i(V+R)>>>w|D.i(V+R+1)<<32-w:D.i(V+R);return new f(N,D.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,mT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,es=f}).apply(typeof l0<"u"?l0:typeof self<"u"?self:typeof window<"u"?window:{});var Jc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pT,$l,gT,hh,Km,yT,_T,vT;(function(){var i,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jc=="object"&&Jc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var B=c[A];if(!(B in _))break e;_=_[B]}c=c[c.length-1],A=_[c],y=y(A),y!=A&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var _=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&_.push([A,y[A]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,_){return c.call.apply(c.bind,arguments)}function g(c,y,_){return g=p,g.apply(null,arguments)}function E(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function S(c,y){function _(){}_.prototype=y.prototype,c.Z=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Ob=function(A,B,G){for(var se=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)se[xe-2]=arguments[xe];return y.prototype[B].apply(A,se)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function L(c){const y=c.length;if(y>0){const _=Array(y);for(let A=0;A<y;A++)_[A]=c[A];return _}return[]}function z(c,y){for(let A=1;A<arguments.length;A++){const B=arguments[A];var _=typeof B;if(_=_!="object"?_:B?Array.isArray(B)?"array":_:"null",_=="array"||_=="object"&&typeof B.length=="number"){_=c.length||0;const G=B.length||0;c.length=_+G;for(let se=0;se<G;se++)c[_+se]=B[se]}else c.push(B)}}class Y{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function P(c){f.setTimeout(()=>{throw c},0)}function re(){var c=D;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ne{constructor(){this.h=this.g=null}add(y,_){const A=te.get();A.set(y,_),this.h?this.h.next=A:this.g=A,this.h=A}}var te=new Y(()=>new oe,c=>c.reset());class oe{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,ae=!1,D=new ne,w=()=>{const c=Promise.resolve(void 0);ue=()=>{c.then(R)}};function R(){for(var c;c=re();){try{c.h.call(c.g)}catch(_){P(_)}var y=te;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}ae=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var V=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};f.addEventListener("test",_,y),f.removeEventListener("test",_,y)}catch{}return c}();function C(c){return/^[\s\xa0]*$/.test(c)}function fe(c,y){N.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}S(fe,N),fe.prototype.init=function(c,y){const _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(_=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&fe.Z.h.call(this)},fe.prototype.h=function(){fe.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ve="closure_listenable_"+(Math.random()*1e6|0),K=0;function ie(c,y,_,A,B){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!A,this.ha=B,this.key=++K,this.da=this.fa=!1}function ce(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ze(c,y,_){for(const A in c)y.call(_,c[A],A,c)}function k(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function ee(c){const y={};for(const _ in c)y[_]=c[_];return y}const de="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(c,y){let _,A;for(let B=1;B<arguments.length;B++){A=arguments[B];for(_ in A)c[_]=A[_];for(let G=0;G<de.length;G++)_=de[G],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function ye(c){this.src=c,this.g={},this.h=0}ye.prototype.add=function(c,y,_,A,B){const G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);const se=Ae(c,y,A,B);return se>-1?(y=c[se],_||(y.fa=!1)):(y=new ie(y,this.src,G,!!A,B),y.fa=_,c.push(y)),y};function Me(c,y){const _=y.type;if(_ in c.g){var A=c.g[_],B=Array.prototype.indexOf.call(A,y,void 0),G;(G=B>=0)&&Array.prototype.splice.call(A,B,1),G&&(ce(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Ae(c,y,_,A){for(let B=0;B<c.length;++B){const G=c[B];if(!G.da&&G.listener==y&&G.capture==!!_&&G.ha==A)return B}return-1}var Lt="closure_lm_"+(Math.random()*1e6|0),Qe={};function zn(c,y,_,A,B){if(Array.isArray(y)){for(let G=0;G<y.length;G++)zn(c,y[G],_,A,B);return null}return _=Mu(_),c&&c[ve]?c.J(y,_,m(A)?!!A.capture:!1,B):Lo(c,y,_,!1,A,B)}function Lo(c,y,_,A,B,G){if(!y)throw Error("Invalid event type");const se=m(B)?!!B.capture:!!B;let xe=jo(c);if(xe||(c[Lt]=xe=new ye(c)),_=xe.add(y,_,A,se,G),_.proxy)return _;if(A=ga(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)V||(B=se),B===void 0&&(B=!1),c.addEventListener(y.toString(),A,B);else if(c.attachEvent)c.attachEvent(_a(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ga(){function c(_){return y.call(c.src,c.listener,_)}const y=gf;return c}function ya(c,y,_,A,B){if(Array.isArray(y))for(var G=0;G<y.length;G++)ya(c,y[G],_,A,B);else A=m(A)?!!A.capture:!!A,_=Mu(_),c&&c[ve]?(c=c.i,G=String(y).toString(),G in c.g&&(y=c.g[G],_=Ae(y,_,A,B),_>-1&&(ce(y[_]),Array.prototype.splice.call(y,_,1),y.length==0&&(delete c.g[G],c.h--)))):c&&(c=jo(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ae(y,_,A,B)),(_=c>-1?y[c]:null)&&ps(_))}function ps(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[ve])Me(y.i,c);else{var _=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(_,A,c.capture):y.detachEvent?y.detachEvent(_a(_),A):y.addListener&&y.removeListener&&y.removeListener(A),(_=jo(y))?(Me(_,c),_.h==0&&(_.src=null,y[Lt]=null)):ce(c)}}}function _a(c){return c in Qe?Qe[c]:Qe[c]="on"+c}function gf(c,y){if(c.da)c=!0;else{y=new fe(y,this);const _=c.listener,A=c.ha||c.src;c.fa&&ps(c),c=_.call(A,y)}return c}function jo(c){return c=c[Lt],c instanceof ye?c:null}var on="__closure_events_fn_"+(Math.random()*1e9>>>0);function Mu(c){return typeof c=="function"?c:(c[on]||(c[on]=function(y){return c.handleEvent(y)}),c[on])}function xt(){O.call(this),this.i=new ye(this),this.M=this,this.G=null}S(xt,O),xt.prototype[ve]=!0,xt.prototype.removeEventListener=function(c,y,_,A){ya(this,c,y,_,A)};function Ot(c,y){var _,A=c.G;if(A)for(_=[];A;A=A.G)_.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new N(y,c);else if(y instanceof N)y.target=y.target||c;else{var B=y;y=new N(A,c),le(y,B)}B=!0;let G,se;if(_)for(se=_.length-1;se>=0;se--)G=y.g=_[se],B=xi(G,A,!0,y)&&B;if(G=y.g=c,B=xi(G,A,!0,y)&&B,B=xi(G,A,!1,y)&&B,_)for(se=0;se<_.length;se++)G=y.g=_[se],B=xi(G,A,!1,y)&&B}xt.prototype.N=function(){if(xt.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const _=c.g[y];for(let A=0;A<_.length;A++)ce(_[A]);delete c.g[y],c.h--}}this.G=null},xt.prototype.J=function(c,y,_,A){return this.i.add(String(c),y,!1,_,A)},xt.prototype.K=function(c,y,_,A){return this.i.add(String(c),y,!0,_,A)};function xi(c,y,_,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let B=!0;for(let G=0;G<y.length;++G){const se=y[G];if(se&&!se.da&&se.capture==_){const xe=se.listener,nt=se.ha||se.src;se.fa&&Me(c.i,se),B=xe.call(nt,A)!==!1&&B}}return B&&!A.defaultPrevented}function yf(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:f.setTimeout(c,y||0)}function zo(c){c.g=yf(()=>{c.g=null,c.i&&(c.i=!1,zo(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class _f extends O{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:zo(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gs(c){O.call(this),this.h=c,this.g={}}S(gs,O);var sr=[];function Kt(c){ze(c.g,function(y,_){this.g.hasOwnProperty(_)&&ps(y)},c),c.g={}}gs.prototype.N=function(){gs.Z.N.call(this),Kt(this)},gs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var An=f.JSON.stringify,en=f.JSON.parse,vf=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Vu(){}function Pu(){}var ti={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ar(){N.call(this,"d")}S(ar,N);function Bn(){N.call(this,"c")}S(Bn,N);var wn={},or=null;function va(){return or=or||new xt}wn.Ia="serverreachability";function Bo(c){N.call(this,wn.Ia,c)}S(Bo,N);function lr(c){const y=va();Ot(y,new Bo(y))}wn.STAT_EVENT="statevent";function Ea(c,y){N.call(this,wn.STAT_EVENT,c),this.stat=y}S(Ea,N);function pt(c){const y=va();Ot(y,new Ea(y,c))}wn.Ja="timingevent";function Uu(c,y){N.call(this,wn.Ja,c),this.size=y}S(Uu,N);function ur(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},y)}function cr(){this.g=!0}cr.prototype.ua=function(){this.g=!1};function qo(c,y,_,A,B,G){c.info(function(){if(c.g)if(G){var se="",xe=G.split("&");for(let He=0;He<xe.length;He++){var nt=xe[He].split("=");if(nt.length>1){const _t=nt[0];nt=nt[1];const dn=_t.split("_");se=dn.length>=2&&dn[1]=="type"?se+(_t+"="+nt+"&"):se+(_t+"=redacted&")}}}else se=null;else se=G;return"XMLHTTP REQ ("+A+") [attempt "+B+"]: "+y+`
`+_+`
`+se})}function Fo(c,y,_,A,B,G,se){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+B+"]: "+y+`
`+_+`
`+G+" "+se})}function Ci(c,y,_,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ni(c,_)+(A?" "+A:"")})}function Ef(c,y){c.info(function(){return"TIMEOUT: "+y})}cr.prototype.info=function(){};function ni(c,y){if(!c.g)return y;if(!y)return null;try{const G=JSON.parse(y);if(G){for(c=0;c<G.length;c++)if(Array.isArray(G[c])){var _=G[c];if(!(_.length<2)){var A=_[1];if(Array.isArray(A)&&!(A.length<1)){var B=A[0];if(B!="noop"&&B!="stop"&&B!="close")for(let se=1;se<A.length;se++)A[se]=""}}}}return An(G)}catch{return y}}var gt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},jt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ii;function ys(){}S(ys,Vu),ys.prototype.g=function(){return new XMLHttpRequest},Ii=new ys;function _s(c){return encodeURIComponent(String(c))}function Tf(c){var y=1;c=c.split(":");const _=[];for(;y>0&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function qn(c,y,_,A){this.j=c,this.i=y,this.l=_,this.S=A||1,this.V=new gs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new hr}function hr(){this.i=null,this.g="",this.h=!1}var Ta={},ii={};function ri(c,y,_){c.M=1,c.A=Ni(at(y)),c.u=_,c.R=!0,fr(c,null)}function fr(c,y){c.F=Date.now(),vs(c),c.B=at(c.A);var _=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),Bu(_.i,"t",A),c.C=0,_=c.j.L,c.h=new hr,c.g=Na(c.j,_?y:null,!c.u),c.P>0&&(c.O=new _f(g(c.Y,c,c.g),c.P)),y=c.V,_=c.g,A=c.ba;var B="readystatechange";Array.isArray(B)||(B&&(sr[0]=B.toString()),B=sr);for(let G=0;G<B.length;G++){const se=zn(_,B[G],A||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=c.J?ee(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),lr(),qo(c.i,c.v,c.B,c.l,c.S,c.u)}qn.prototype.ba=function(c){c=c.target;const y=this.O;y&&Qt(c)==3?y.j():this.Y(c)},qn.prototype.Y=function(c){try{if(c==this.g)e:{const xe=Qt(this.g),nt=this.g.ya(),He=this.g.ca();if(!(xe<3)&&(xe!=3||this.g&&(this.h.h||this.g.la()||Ds(this.g)))){this.K||xe!=4||nt==7||(nt==8||He<=0?lr(3):lr(2)),ai(this);var y=this.g.ca();this.X=y;var _=dr(this);if(this.o=y==200,Fo(this.i,this.v,this.B,this.l,this.S,xe,y),this.o){if(this.U&&!this.L){t:{if(this.g){var A,B=this.g;if((A=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(A)){var G=A;break t}}G=null}if(c=G)Ci(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ba(this,c);else{this.o=!1,this.m=3,pt(12),oi(this),Es(this);break e}}if(this.R){c=!0;let _t;for(;!this.K&&this.C<_.length;)if(_t=Lu(this,_),_t==ii){xe==4&&(this.m=4,pt(14),c=!1),Ci(this.i,this.l,null,"[Incomplete Response]");break}else if(_t==Ta){this.m=4,pt(15),Ci(this.i,this.l,_,"[Invalid Chunk]"),c=!1;break}else Ci(this.i,this.l,_t,null),ba(this,_t);if(yt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xe!=4||_.length!=0||this.h.h||(this.m=1,pt(16),c=!1),this.o=this.o&&c,!c)Ci(this.i,this.l,_,"[Invalid Chunked Response]"),oi(this),Es(this);else if(_.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Jo(se),se.P=!0,pt(11))}}else Ci(this.i,this.l,_,null),ba(this,_);xe==4&&oi(this),this.o&&!this.K&&(xe==4?el(this.j,this):(this.o=!1,vs(this)))}else Ns(this.g),y==400&&_.indexOf("Unknown SID")>0?(this.m=3,pt(12)):(this.m=0,pt(13)),oi(this),Es(this)}}}catch{}finally{}};function dr(c){if(!yt(c))return c.g.la();const y=Ds(c.g);if(y==="")return"";let _="";const A=y.length,B=Qt(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return oi(c),Es(c),"";c.h.i=new f.TextDecoder}for(let G=0;G<A;G++)c.h.h=!0,_+=c.h.i.decode(y[G],{stream:!(B&&G==A-1)});return y.length=0,c.h.g+=_,c.C=0,c.h.g}function yt(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Lu(c,y){var _=c.C,A=y.indexOf(`
`,_);return A==-1?ii:(_=Number(y.substring(_,A)),isNaN(_)?Ta:(A+=1,A+_>y.length?ii:(y=y.slice(A,A+_),c.C=A+_,y)))}qn.prototype.cancel=function(){this.K=!0,oi(this)};function vs(c){c.T=Date.now()+c.H,si(c,c.H)}function si(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ur(g(c.aa,c),y)}function ai(c){c.D&&(f.clearTimeout(c.D),c.D=null)}qn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Ef(this.i,this.B),this.M!=2&&(lr(),pt(17)),oi(this),this.m=2,Es(this)):si(this,this.T-c)};function Es(c){c.j.I==0||c.K||el(c.j,c)}function oi(c){ai(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Kt(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function ba(c,y){try{var _=c.j;if(_.I!=0&&(_.g==c||Ss(_.h,c))){if(!c.L&&Ss(_.h,c)&&_.I==3){try{var A=_.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var B=A;if(B[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<c.F)Da(_),li(_);else break e;Zo(_),pt(18)}}else _.xa=B[1],0<_.xa-_.K&&B[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=ur(g(_.Va,_),6e3));Rn(_.h)<=1&&_.ta&&(_.ta=void 0)}else Mi(_,11)}else if((c.L||_.g==c)&&Da(_),!C(y))for(B=_.Ba.g.parse(y),y=0;y<B.length;y++){let He=B[y];const _t=He[0];if(!(_t<=_.K))if(_.K=_t,He=He[1],_.I==2)if(He[0]=="c"){_.M=He[1],_.ba=He[2];const dn=He[3];dn!=null&&(_.ka=dn,_.j.info("VER="+_.ka));const ui=He[4];ui!=null&&(_.za=ui,_.j.info("SVER="+_.za));const Gn=He[5];Gn!=null&&typeof Gn=="number"&&Gn>0&&(A=1.5*Gn,_.O=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Kn=c.g;if(Kn){const Qn=Kn.g?Kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qn){var G=A.h;G.g||Qn.indexOf("spdy")==-1&&Qn.indexOf("quic")==-1&&Qn.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Sa(G,G.h),G.h=null))}if(A.G){const nl=Kn.g?Kn.g.getResponseHeader("X-HTTP-Session-Id"):null;nl&&(A.wa=nl,Ye(A.J,A.G,nl))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-c.F,_.j.info("Handshake RTT: "+_.T+"ms")),A=_;var se=c;if(A.na=Wu(A,A.L?A.ba:null,A.W),se.L){Di(A.h,se);var xe=se,nt=A.O;nt&&(xe.H=nt),xe.D&&(ai(xe),vs(xe)),A.g=se}else Ku(A);_.i.length>0&&Vs(_)}else He[0]!="stop"&&He[0]!="close"||Mi(_,7);else _.I==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?Mi(_,7):ks(_):He[0]!="noop"&&_.l&&_.l.qa(He),_.A=0)}}lr(4)}catch{}}var bf=class{constructor(c,y){this.g=c,this.map=y}};function Ts(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function bs(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Rn(c){return c.h?1:c.g?c.g.size:0}function Ss(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Sa(c,y){c.g?c.g.add(y):c.h=y}function Di(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Ts.prototype.cancel=function(){if(this.i=Aa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Aa(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.G);return y}return L(c.i)}var wa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sf(c,y){if(c){c=c.split("&");for(let _=0;_<c.length;_++){const A=c[_].indexOf("=");let B,G=null;A>=0?(B=c[_].substring(0,A),G=c[_].substring(A+1)):B=c[_],y(B,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Fn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof Fn?(this.l=c.l,mr(this,c.j),this.o=c.o,this.g=c.g,As(this,c.u),this.h=c.h,pr(this,qu(c.i)),this.m=c.m):c&&(y=String(c).match(wa))?(this.l=!1,mr(this,y[1]||"",!0),this.o=ws(y[2]||""),this.g=ws(y[3]||"",!0),As(this,y[4]),this.h=ws(y[5]||"",!0),pr(this,y[6]||"",!0),this.m=ws(y[7]||"")):(this.l=!1,this.i=new xn(null,this.l))}Fn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(kt(y,Go,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(kt(y,Go,!0),"@"),c.push(_s(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&c.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(kt(_,_.charAt(0)=="/"?gr:Ko,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",kt(_,zu)),c.join("")},Fn.prototype.resolve=function(c){const y=at(this);let _=!!c.j;_?mr(y,c.j):_=!!c.o,_?y.o=c.o:_=!!c.g,_?y.g=c.g:_=c.u!=null;var A=c.h;if(_)As(y,c.u);else if(_=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var B=y.h.lastIndexOf("/");B!=-1&&(A=y.h.slice(0,B+1)+A)}if(B=A,B==".."||B==".")A="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){A=B.lastIndexOf("/",0)==0,B=B.split("/");const G=[];for(let se=0;se<B.length;){const xe=B[se++];xe=="."?A&&se==B.length&&G.push(""):xe==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),A&&se==B.length&&G.push("")):(G.push(xe),A=!0)}A=G.join("/")}else A=B}return _?y.h=A:_=c.i.toString()!=="",_?pr(y,qu(c.i)):_=!!c.m,_&&(y.m=c.m),y};function at(c){return new Fn(c)}function mr(c,y,_){c.j=_?ws(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function As(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function pr(c,y,_){y instanceof xn?(c.i=y,Xo(c.i,c.l)):(_||(y=kt(y,ju)),c.i=new xn(y,c.l))}function Ye(c,y,_){c.i.set(y,_)}function Ni(c){return Ye(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function ws(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function kt(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Ho),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Ho(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Go=/[#\/\?@]/g,Ko=/[#\?:]/g,gr=/[#\?]/g,ju=/[#\?@]/g,zu=/#/g;function xn(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Oi(c){c.g||(c.g=new Map,c.h=0,c.i&&Sf(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}i=xn.prototype,i.add=function(c,y){Oi(this),this.i=null,c=Hn(this,c);let _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Qo(c,y){Oi(c),y=Hn(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Yo(c,y){return Oi(c),y=Hn(c,y),c.g.has(y)}i.forEach=function(c,y){Oi(this),this.g.forEach(function(_,A){_.forEach(function(B){c.call(y,B,A,this)},this)},this)};function Ra(c,y){Oi(c);let _=[];if(typeof y=="string")Yo(c,y)&&(_=_.concat(c.g.get(Hn(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)_=_.concat(c[y]);return _}i.set=function(c,y){return Oi(this),this.i=null,c=Hn(this,c),Yo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=Ra(this,c),c.length>0?String(c[0]):y):y};function Bu(c,y,_){Qo(c,y),_.length>0&&(c.i=null,c.g.set(Hn(c,y),L(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var _=y[A];const B=_s(_);_=Ra(this,_);for(let G=0;G<_.length;G++){let se=B;_[G]!==""&&(se+="="+_s(_[G])),c.push(se)}}return this.i=c.join("&")};function qu(c){const y=new xn;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Hn(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Xo(c,y){y&&!c.j&&(Oi(c),c.i=null,c.g.forEach(function(_,A){const B=A.toLowerCase();A!=B&&(Qo(this,A),Bu(this,B,_))},c)),c.j=y}function Wo(c,y){const _=new cr;if(f.Image){const A=new Image;A.onload=E(tn,_,"TestLoadImage: loaded",!0,y,A),A.onerror=E(tn,_,"TestLoadImage: error",!1,y,A),A.onabort=E(tn,_,"TestLoadImage: abort",!1,y,A),A.ontimeout=E(tn,_,"TestLoadImage: timeout",!1,y,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function yr(c,y){const _=new cr,A=new AbortController,B=setTimeout(()=>{A.abort(),tn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(G=>{clearTimeout(B),G.ok?tn(_,"TestPingServer: ok",!0,y):tn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),tn(_,"TestPingServer: error",!1,y)})}function tn(c,y,_,A,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),A(_)}catch{}}function Fu(){this.g=new vf}function Rs(c){this.i=c.Sb||null,this.h=c.ab||!1}S(Rs,Vu),Rs.prototype.g=function(){return new xs(this.i,this.h)};function xs(c,y){xt.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(xs,xt),i=xs.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,ki(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||f).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,nn(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ki(this)),this.g&&(this.readyState=3,ki(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;_r(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function _r(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?nn(this):ki(this),this.readyState==3&&_r(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,nn(this))},i.Na=function(c){this.g&&(this.response=c,nn(this))},i.ga=function(){this.g&&nn(this)};function nn(c){c.readyState=4,c.l=null,c.j=null,c.B=null,ki(c)}i.setRequestHeader=function(c,y){this.A.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function ki(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(xs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function vr(c){let y="";return ze(c,function(_,A){y+=A,y+=":",y+=_,y+=`\r
`}),y}function Cn(c,y,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=vr(_),typeof c=="string"?_!=null&&_s(_):Ye(c,y,_))}function Je(c){xt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Je,xt);var xa=/^https?$/i,Hu=["POST","PUT"];i=Je.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,y,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ii.g(),this.g.onreadystatechange=x(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(G){Cs(this,G);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var B in A)_.set(B,A[B]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const G of A.keys())_.set(G,A.get(G));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(G=>G.toLowerCase()=="content-type"),B=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Hu,y,void 0)>=0)||A||B||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,se]of _)this.g.setRequestHeader(G,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(G){Cs(this,G)}};function Cs(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,Is(c),Ct(c)}function Is(c){c.A||(c.A=!0,Ot(c,"complete"),Ot(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ot(this,"complete"),Ot(this,"abort"),Ct(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ct(this,!0)),Je.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?$o(this):this.Xa())},i.Xa=function(){$o(this)};function $o(c){if(c.h&&typeof u<"u"){if(c.v&&Qt(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ot(c,"readystatechange"),Qt(c)==4){c.h=!1;try{const G=c.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var A;if(A=G===0){let se=String(c.D).match(wa)[1]||null;!se&&f.self&&f.self.location&&(se=f.self.location.protocol.slice(0,-1)),A=!xa.test(se?se.toLowerCase():"")}_=A}if(_)Ot(c,"complete"),Ot(c,"success");else{c.o=6;try{var B=Qt(c)>2?c.g.statusText:""}catch{B=""}c.l=B+" ["+c.ca()+"]",Is(c)}}finally{Ct(c)}}}}function Ct(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const _=c.g;c.g=null,y||Ot(c,"ready");try{_.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Qt(c){return c.g?c.g.readyState:0}i.ca=function(){try{return Qt(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),en(y)}};function Ds(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ns(c){const y={};c=(c.g&&Qt(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(C(c[A]))continue;var _=Tf(c[A]);const B=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const G=y[B]||[];y[B]=G,G.push(_)}k(y,function(A){return A.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Os(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Ca(c){this.za=0,this.i=[],this.j=new cr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Os("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Os("baseRetryDelayMs",5e3,c),this.Za=Os("retryDelaySeedMs",1e4,c),this.Ta=Os("forwardChannelMaxRetries",2,c),this.va=Os("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Ts(c&&c.concurrentRequestLimit),this.Ba=new Fu,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Ca.prototype,i.ka=8,i.I=1,i.connect=function(c,y,_,A){pt(0),this.W=c,this.H=y||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.J=Wu(this,null,this.W),Vs(this)};function ks(c){if(Ms(c),c.I==3){var y=c.V++,_=at(c.J);if(Ye(_,"SID",c.M),Ye(_,"RID",y),Ye(_,"TYPE","terminate"),Ps(c,_),y=new qn(c,c.j,y),y.M=2,y.A=Ni(at(_)),_=!1,f.navigator&&f.navigator.sendBeacon)try{_=f.navigator.sendBeacon(y.A.toString(),"")}catch{}!_&&f.Image&&(new Image().src=y.A,_=!0),_||(y.g=Na(y.j,null),y.g.ea(y.A)),y.F=Date.now(),vs(y)}Xu(c)}function li(c){c.g&&(Jo(c),c.g.cancel(),c.g=null)}function Ms(c){li(c),c.v&&(f.clearTimeout(c.v),c.v=null),Da(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Vs(c){if(!bs(c.h)&&!c.m){c.m=!0;var y=c.Ea;ue||w(),ae||(ue(),ae=!0),D.add(y,c),c.D=0}}function Af(c,y){return Rn(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ur(g(c.Ea,c,y),Yu(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const B=new qn(this,this.j,c);let G=this.o;if(this.U&&(G?(G=ee(G),le(G,this.U)):G=this.U),this.u!==null||this.R||(B.J=G,G=null),this.S)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Ia(this,B,y),_=at(this.J),Ye(_,"RID",c),Ye(_,"CVER",22),this.G&&Ye(_,"X-HTTP-Session-Id",this.G),Ps(this,_),G&&(this.R?y="headers="+_s(vr(G))+"&"+y:this.u&&Cn(_,this.u,G)),Sa(this.h,B),this.Ra&&Ye(_,"TYPE","init"),this.S?(Ye(_,"$req",y),Ye(_,"SID","null"),B.U=!0,ri(B,_,null)):ri(B,_,y),this.I=2}}else this.I==3&&(c?Gu(this,c):this.i.length==0||bs(this.h)||Gu(this))};function Gu(c,y){var _;y?_=y.l:_=c.V++;const A=at(c.J);Ye(A,"SID",c.M),Ye(A,"RID",_),Ye(A,"AID",c.K),Ps(c,A),c.u&&c.o&&Cn(A,c.u,c.o),_=new qn(c,c.j,_,c.D+1),c.u===null&&(_.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Ia(c,_,1e3),_.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Sa(c.h,_),ri(_,A,y)}function Ps(c,y){c.H&&ze(c.H,function(_,A){Ye(y,A,_)}),c.l&&ze({},function(_,A){Ye(y,A,_)})}function Ia(c,y,_){_=Math.min(c.i.length,_);const A=c.l?g(c.l.Ka,c.l,c):null;e:{var B=c.i;let xe=-1;for(;;){const nt=["count="+_];xe==-1?_>0?(xe=B[0].g,nt.push("ofs="+xe)):xe=0:nt.push("ofs="+xe);let He=!0;for(let _t=0;_t<_;_t++){var G=B[_t].g;const dn=B[_t].map;if(G-=xe,G<0)xe=Math.max(0,B[_t].g-100),He=!1;else try{G="req"+G+"_"||"";try{var se=dn instanceof Map?dn:Object.entries(dn);for(const[ui,Gn]of se){let Kn=Gn;m(Gn)&&(Kn=An(Gn)),nt.push(G+ui+"="+encodeURIComponent(Kn))}}catch(ui){throw nt.push(G+"type="+encodeURIComponent("_badmap")),ui}}catch{A&&A(dn)}}if(He){se=nt.join("&");break e}}se=void 0}return c=c.i.splice(0,_),y.G=c,se}function Ku(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;ue||w(),ae||(ue(),ae=!0),D.add(y,c),c.A=0}}function Zo(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ur(g(c.Da,c),Yu(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,Qu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ur(g(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,pt(10),li(this),Qu(this))};function Jo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Qu(c){c.g=new qn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=at(c.na);Ye(y,"RID","rpc"),Ye(y,"SID",c.M),Ye(y,"AID",c.K),Ye(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ye(y,"TO",c.ia),Ye(y,"TYPE","xmlhttp"),Ps(c,y),c.u&&c.o&&Cn(y,c.u,c.o),c.O&&(c.g.H=c.O);var _=c.g;c=c.ba,_.M=1,_.A=Ni(at(y)),_.u=null,_.R=!0,fr(_,c)}i.Va=function(){this.C!=null&&(this.C=null,li(this),Zo(this),pt(19))};function Da(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function el(c,y){var _=null;if(c.g==y){Da(c),Jo(c),c.g=null;var A=2}else if(Ss(c.h,y))_=y.G,Di(c.h,y),A=1;else return;if(c.I!=0){if(y.o)if(A==1){_=y.u?y.u.length:0,y=Date.now()-y.F;var B=c.D;A=va(),Ot(A,new Uu(A,_)),Vs(c)}else Ku(c);else if(B=y.m,B==3||B==0&&y.X>0||!(A==1&&Af(c,y)||A==2&&Zo(c)))switch(_&&_.length>0&&(y=c.h,y.i=y.i.concat(_)),B){case 1:Mi(c,5);break;case 4:Mi(c,10);break;case 3:Mi(c,6);break;default:Mi(c,2)}}}function Yu(c,y){let _=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(_*=2),_*y}function Mi(c,y){if(c.j.info("Error code "+y),y==2){var _=g(c.bb,c),A=c.Ua;const B=!A;A=new Fn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||mr(A,"https"),Ni(A),B?Wo(A.toString(),_):yr(A.toString(),_)}else pt(2);c.I=0,c.l&&c.l.pa(y),Xu(c),Ms(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function Xu(c){if(c.I=0,c.ja=[],c.l){const y=Aa(c.h);(y.length!=0||c.i.length!=0)&&(z(c.ja,y),z(c.ja,c.i),c.h.i.length=0,L(c.i),c.i.length=0),c.l.oa()}}function Wu(c,y,_){var A=_ instanceof Fn?at(_):new Fn(_);if(A.g!="")y&&(A.g=y+"."+A.g),As(A,A.u);else{var B=f.location;A=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;const G=new Fn(null);A&&mr(G,A),y&&(G.g=y),B&&As(G,B),_&&(G.h=_),A=G}return _=c.G,y=c.wa,_&&y&&Ye(A,_,y),Ye(A,"VER",c.ka),Ps(c,A),A}function Na(c,y,_){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new Je(new Rs({ab:_})):new Je(c.ma),y.Fa(c.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function $u(){}i=$u.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Oa(){}Oa.prototype.g=function(c,y){return new rn(c,y)};function rn(c,y){xt.call(this),this.g=new Ca(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!C(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!C(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Er(this)}S(rn,xt),rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){ks(this.g)},rn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.v&&(_={},_.__data__=An(c),c=_);y.i.push(new bf(y.Ya++,c)),y.I==3&&Vs(y)},rn.prototype.N=function(){this.g.l=null,delete this.j,ks(this.g),delete this.g,rn.Z.N.call(this)};function tl(c){ar.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}S(tl,ar);function Zu(){Bn.call(this),this.status=1}S(Zu,Bn);function Er(c){this.g=c}S(Er,$u),Er.prototype.ra=function(){Ot(this.g,"a")},Er.prototype.qa=function(c){Ot(this.g,new tl(c))},Er.prototype.pa=function(c){Ot(this.g,new Zu)},Er.prototype.oa=function(){Ot(this.g,"b")},Oa.prototype.createWebChannel=Oa.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,vT=function(){return new Oa},_T=function(){return va()},yT=wn,Km={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},gt.NO_ERROR=0,gt.TIMEOUT=8,gt.HTTP_ERROR=6,hh=gt,jt.COMPLETE="complete",gT=jt,Pu.EventType=ti,ti.OPEN="a",ti.CLOSE="b",ti.ERROR="c",ti.MESSAGE="d",xt.prototype.listen=xt.prototype.J,$l=Pu,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,pT=Je}).apply(typeof Jc<"u"?Jc:typeof self<"u"?self:typeof window<"u"?window:{});const u0="@firebase/firestore",c0="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oo="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=new Sp("@firebase/firestore");function co(){return ra.logLevel}function me(i,...e){if(ra.logLevel<=Ve.DEBUG){const n=e.map(Rp);ra.debug(`Firestore (${Oo}): ${i}`,...n)}}function Zi(i,...e){if(ra.logLevel<=Ve.ERROR){const n=e.map(Rp);ra.error(`Firestore (${Oo}): ${i}`,...n)}}function bo(i,...e){if(ra.logLevel<=Ve.WARN){const n=e.map(Rp);ra.warn(`Firestore (${Oo}): ${i}`,...n)}}function Rp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,ET(i,s,n)}function ET(i,e,n){let s=`FIRESTORE (${Oo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Zi(s),new Error(s)}function Fe(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||ET(e,o,s)}function Ce(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Ri{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Vx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n($t.UNAUTHENTICATED))}shutdown(){}}class Px{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Ux{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new ts;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ts,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ts)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string",31837,{l:s}),new TT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new $t(e)}}class Lx{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class jx{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new Lx(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n($t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class h0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zx{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Tn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Fe(this.o===void 0,3512);const s=u=>{u.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,me("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new h0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new h0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bx(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=Bx(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Pe(i,e){return i<e?-1:i>e?1:0}function Qm(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return xm(o)===xm(u)?Pe(o,u):xm(o)?1:-1}return Pe(i.length,e.length)}const qx=55296,Fx=57343;function xm(i){const e=i.charCodeAt(0);return e>=qx&&e<=Fx}function So(i,e,n){return i.length===e.length&&i.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0="__name__";class pi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Se(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Se(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return pi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof pi?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=pi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Pe(e.length,n.length)}static compareSegments(e,n){const s=pi.isNumericId(e),o=pi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?pi.extractNumericId(e).compare(pi.extractNumericId(n)):Qm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return es.fromString(e.substring(4,e.length-2))}}class tt extends pi{construct(e,n,s){return new tt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new he($.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new tt(n)}static emptyPath(){return new tt([])}}const Hx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ht extends pi{construct(e,n,s){return new Ht(e,n,s)}static isValidIdentifier(e){return Hx.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===f0}static keyField(){return new Ht([f0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new he($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new he($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new he($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new he($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ht(n)}static emptyPath(){return new Ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(tt.fromString(e))}static fromName(e){return new _e(tt.fromString(e).popFirst(5))}static empty(){return new _e(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new tt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT(i,e,n){if(!n)throw new he($.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Gx(i,e,n,s){if(e===!0&&s===!0)throw new he($.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function d0(i){if(!_e.isDocumentKey(i))throw new he($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function m0(i){if(_e.isDocumentKey(i))throw new he($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function ST(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Qh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Se(12329,{type:typeof i})}function Un(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new he($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Qh(i);throw new he($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(i,e){const n={typeString:i};return e&&(n.value=e),n}function Au(i,e){if(!ST(i))throw new he($.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const f=i[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new he($.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0=-62135596800,g0=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*g0);return new it(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<p0)throw new he($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/g0}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Au(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-p0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:Rt("string",it._jsonSchemaVersion),seconds:Rt("number"),nanoseconds:Rt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new it(0,0))}static max(){return new Re(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du=-1;function Kx(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(s===1e9?new it(n+1,0):new it(n,s));return new rs(o,_e.empty(),e)}function Qx(i){return new rs(i.readTime,i.key,du)}class rs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new rs(Re.min(),_e.empty(),du)}static max(){return new rs(Re.max(),_e.empty(),du)}}function Yx(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(i.documentKey,e.documentKey),n!==0?n:Pe(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Wx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ko(i){if(i.code!==$.FAILED_PRECONDITION||i.message!==Xx)throw i;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):J.reject(n)}static resolve(e){return new J((n,s)=>{n(e)})}static reject(e){return new J((n,s)=>{s(e)})}static waitFor(e){return new J((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=J.resolve(!1);for(const s of e)n=n.next(o=>o?J.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new J((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(E=>{f[g]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(e,n){return new J((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function $x(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Mo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Yh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cp=-1;function Xh(i){return i==null}function wh(i){return i===0&&1/i==-1/0}function Zx(i){return typeof i=="number"&&Number.isInteger(i)&&!wh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT="";function Jx(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=y0(e)),e=eC(i.get(n),e);return y0(e)}function eC(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case AT:n+="";break;default:n+=u}}return n}function y0(i){return i+AT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function fs(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function wT(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n){this.comparator=e,this.root=n||Ft.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new eh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new eh(this.root,e,this.comparator,!1)}getReverseIterator(){return new eh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new eh(this.root,e,this.comparator,!0)}}class eh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Ft.RED,this.left=o??Ft.EMPTY,this.right=u??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Ft(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Ft.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Ft(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new v0(this.data.getIterator())}getIteratorFrom(e){return new v0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Nt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Nt(this.comparator);return n.data=e,n}}class v0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.fields=e,e.sort(Ht.comparator)}static empty(){return new bn([])}unionWith(e){let n=new Nt(Ht.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new bn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return So(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new RT("Invalid base64 string: "+u):u}}(e);return new Gt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Gt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gt.EMPTY_BYTE_STRING=new Gt("");const tC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ss(i){if(Fe(!!i,39018),typeof i=="string"){let e=0;const n=tC.exec(i);if(Fe(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Tt(i.seconds),nanos:Tt(i.nanos)}}function Tt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function as(i){return typeof i=="string"?Gt.fromBase64String(i):Gt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="server_timestamp",CT="__type__",IT="__previous_value__",DT="__local_write_time__";function Ip(i){return(i?.mapValue?.fields||{})[CT]?.stringValue===xT}function Wh(i){const e=i.mapValue.fields[IT];return Ip(e)?Wh(e):e}function mu(i){const e=ss(i.mapValue.fields[DT].timestampValue);return new it(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e,n,s,o,u,f,m,p,g,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const Rh="(default)";class pu{constructor(e,n){this.projectId=e,this.database=n||Rh}static empty(){return new pu("","")}get isDefaultDatabase(){return this.database===Rh}isEqual(e){return e instanceof pu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT="__type__",iC="__max__",th={mapValue:{}},OT="__vector__",xh="value";function os(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Ip(i)?4:sC(i)?9007199254740991:rC(i)?10:11:Se(28295,{value:i})}function Ai(i,e){if(i===e)return!0;const n=os(i);if(n!==os(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return mu(i).isEqual(mu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ss(o.timestampValue),m=ss(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return as(o.bytesValue).isEqual(as(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return Tt(o.geoPointValue.latitude)===Tt(u.geoPointValue.latitude)&&Tt(o.geoPointValue.longitude)===Tt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Tt(o.integerValue)===Tt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Tt(o.doubleValue),m=Tt(u.doubleValue);return f===m?wh(f)===wh(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return So(i.arrayValue.values||[],e.arrayValue.values||[],Ai);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(_0(f)!==_0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Ai(f[p],m[p])))return!1;return!0}(i,e);default:return Se(52216,{left:i})}}function gu(i,e){return(i.values||[]).find(n=>Ai(n,e))!==void 0}function Ao(i,e){if(i===e)return 0;const n=os(i),s=os(e);if(n!==s)return Pe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(i.booleanValue,e.booleanValue);case 2:return function(u,f){const m=Tt(u.integerValue||u.doubleValue),p=Tt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,e);case 3:return E0(i.timestampValue,e.timestampValue);case 4:return E0(mu(i),mu(e));case 5:return Qm(i.stringValue,e.stringValue);case 6:return function(u,f){const m=as(u),p=as(f);return m.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Pe(m[g],p[g]);if(E!==0)return E}return Pe(m.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Pe(Tt(u.latitude),Tt(f.latitude));return m!==0?m:Pe(Tt(u.longitude),Tt(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return T0(i.arrayValue,e.arrayValue);case 10:return function(u,f){const m=u.fields||{},p=f.fields||{},g=m[xh]?.arrayValue,E=p[xh]?.arrayValue,S=Pe(g?.values?.length||0,E?.values?.length||0);return S!==0?S:T0(g,E)}(i.mapValue,e.mapValue);case 11:return function(u,f){if(u===th.mapValue&&f===th.mapValue)return 0;if(u===th.mapValue)return 1;if(f===th.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let S=0;S<p.length&&S<E.length;++S){const x=Qm(p[S],E[S]);if(x!==0)return x;const L=Ao(m[p[S]],g[E[S]]);if(L!==0)return L}return Pe(p.length,E.length)}(i.mapValue,e.mapValue);default:throw Se(23264,{he:n})}}function E0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Pe(i,e);const n=ss(i),s=ss(e),o=Pe(n.seconds,s.seconds);return o!==0?o:Pe(n.nanos,s.nanos)}function T0(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Ao(n[o],s[o]);if(u)return u}return Pe(n.length,s.length)}function wo(i){return Ym(i)}function Ym(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=ss(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return as(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return _e.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Ym(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Ym(n.fields[f])}`;return o+"}"}(i.mapValue):Se(61005,{value:i})}function fh(i){switch(os(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Wh(i);return e?16+fh(e):16;case 5:return 2*i.stringValue.length;case 6:return as(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+fh(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return fs(s.fields,(u,f)=>{o+=u.length+fh(f)}),o}(i.mapValue);default:throw Se(13486,{value:i})}}function b0(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Xm(i){return!!i&&"integerValue"in i}function Dp(i){return!!i&&"arrayValue"in i}function S0(i){return!!i&&"nullValue"in i}function A0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function dh(i){return!!i&&"mapValue"in i}function rC(i){return(i?.mapValue?.fields||{})[NT]?.stringValue===OT}function nu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return fs(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=nu(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=nu(i.arrayValue.values[n]);return e}return{...i}}function sC(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===iC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.value=e}static empty(){return new fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!dh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=nu(n)}setAll(e){let n=Ht.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=nu(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());dh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ai(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];dh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){fs(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new fn(nu(this.value))}}function kT(i){const e=[];return fs(i.fields,(n,s)=>{const o=new Ht([n]);if(dh(s)){const u=kT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Zt(e,0,Re.min(),Re.min(),Re.min(),fn.empty(),0)}static newFoundDocument(e,n,s,o){return new Zt(e,1,n,Re.min(),s,o,0)}static newNoDocument(e,n){return new Zt(e,2,n,Re.min(),Re.min(),fn.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,Re.min(),Re.min(),fn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,n){this.position=e,this.inclusive=n}}function w0(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?s=_e.comparator(_e.fromName(f.referenceValue),n.key):s=Ao(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function R0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Ai(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n="asc"){this.field=e,this.dir=n}}function aC(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{}class wt extends MT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new lC(e,n,s):n==="array-contains"?new hC(e,s):n==="in"?new fC(e,s):n==="not-in"?new dC(e,s):n==="array-contains-any"?new mC(e,s):new wt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new uC(e,s):new cC(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ao(n,this.value)):n!==null&&os(this.value)===os(n)&&this.matchesComparison(Ao(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jn extends MT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Jn(e,n)}matches(e){return VT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function VT(i){return i.op==="and"}function PT(i){return oC(i)&&VT(i)}function oC(i){for(const e of i.filters)if(e instanceof Jn)return!1;return!0}function Wm(i){if(i instanceof wt)return i.field.canonicalString()+i.op.toString()+wo(i.value);if(PT(i))return i.filters.map(e=>Wm(e)).join(",");{const e=i.filters.map(n=>Wm(n)).join(",");return`${i.op}(${e})`}}function UT(i,e){return i instanceof wt?function(s,o){return o instanceof wt&&s.op===o.op&&s.field.isEqual(o.field)&&Ai(s.value,o.value)}(i,e):i instanceof Jn?function(s,o){return o instanceof Jn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&UT(f,o.filters[m]),!0):!1}(i,e):void Se(19439)}function LT(i){return i instanceof wt?function(n){return`${n.field.canonicalString()} ${n.op} ${wo(n.value)}`}(i):i instanceof Jn?function(n){return n.op.toString()+" {"+n.getFilters().map(LT).join(" ,")+"}"}(i):"Filter"}class lC extends wt{constructor(e,n,s){super(e,n,s),this.key=_e.fromName(s.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class uC extends wt{constructor(e,n){super(e,"in",n),this.keys=jT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class cC extends wt{constructor(e,n){super(e,"not-in",n),this.keys=jT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function jT(i,e){return(e.arrayValue?.values||[]).map(n=>_e.fromName(n.referenceValue))}class hC extends wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Dp(n)&&gu(n.arrayValue,this.value)}}class fC extends wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&gu(this.value.arrayValue,n)}}class dC extends wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(gu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!gu(this.value.arrayValue,n)}}class mC extends wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Dp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>gu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function x0(i,e=null,n=[],s=[],o=null,u=null,f=null){return new pC(i,e,n,s,o,u,f)}function Np(i){const e=Ce(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Wm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Xh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>wo(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>wo(s)).join(",")),e.Te=n}return e.Te}function Op(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!aC(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!UT(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!R0(i.startAt,e.startAt)&&R0(i.endAt,e.endAt)}function $m(i){return _e.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function gC(i,e,n,s,o,u,f,m){return new Vo(i,e,n,s,o,u,f,m)}function $h(i){return new Vo(i)}function C0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function zT(i){return i.collectionGroup!==null}function iu(i){const e=Ce(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Nt(Ht.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new yu(u,s))}),n.has(Ht.keyField().canonicalString())||e.Ie.push(new yu(Ht.keyField(),s))}return e.Ie}function _i(i){const e=Ce(i);return e.Ee||(e.Ee=yC(e,iu(i))),e.Ee}function yC(i,e){if(i.limitType==="F")return x0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new yu(o.field,u)});const n=i.endAt?new Ch(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Ch(i.startAt.position,i.startAt.inclusive):null;return x0(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Zm(i,e){const n=i.filters.concat([e]);return new Vo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Jm(i,e,n){return new Vo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Zh(i,e){return Op(_i(i),_i(e))&&i.limitType===e.limitType}function BT(i){return`${Np(_i(i))}|lt:${i.limitType}`}function ho(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>LT(o)).join(", ")}]`),Xh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>wo(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>wo(o)).join(",")),`Target(${s})`}(_i(i))}; limitType=${i.limitType})`}function Jh(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):_e.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of iu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const g=w0(f,m,p);return f.inclusive?g<=0:g<0}(s.startAt,iu(s),o)||s.endAt&&!function(f,m,p){const g=w0(f,m,p);return f.inclusive?g>=0:g>0}(s.endAt,iu(s),o))}(i,e)}function _C(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function qT(i){return(e,n)=>{let s=!1;for(const o of iu(i)){const u=vC(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function vC(i,e,n){const s=i.field.isKeyField()?_e.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Ao(p,g):Se(42886)}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Se(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){fs(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return wT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=new ut(_e.comparator);function Ji(){return EC}const FT=new ut(_e.comparator);function Zl(...i){let e=FT;for(const n of i)e=e.insert(n.key,n);return e}function HT(i){let e=FT;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Js(){return ru()}function GT(){return ru()}function ru(){return new fa(i=>i.toString(),(i,e)=>i.isEqual(e))}const TC=new ut(_e.comparator),bC=new Nt(_e.comparator);function Ue(...i){let e=bC;for(const n of i)e=e.add(n);return e}const SC=new Nt(Pe);function AC(){return SC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wh(e)?"-0":e}}function KT(i){return{integerValue:""+i}}function wC(i,e){return Zx(e)?KT(e):kp(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(){this._=void 0}}function RC(i,e,n){return i instanceof _u?function(o,u){const f={fields:{[CT]:{stringValue:xT},[DT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Ip(u)&&(u=Wh(u)),u&&(f.fields[IT]=u),{mapValue:f}}(n,e):i instanceof vu?YT(i,e):i instanceof Eu?XT(i,e):function(o,u){const f=QT(o,u),m=I0(f)+I0(o.Ae);return Xm(f)&&Xm(o.Ae)?KT(m):kp(o.serializer,m)}(i,e)}function xC(i,e,n){return i instanceof vu?YT(i,e):i instanceof Eu?XT(i,e):n}function QT(i,e){return i instanceof Ih?function(s){return Xm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class _u extends ef{}class vu extends ef{constructor(e){super(),this.elements=e}}function YT(i,e){const n=WT(e);for(const s of i.elements)n.some(o=>Ai(o,s))||n.push(s);return{arrayValue:{values:n}}}class Eu extends ef{constructor(e){super(),this.elements=e}}function XT(i,e){let n=WT(e);for(const s of i.elements)n=n.filter(o=>!Ai(o,s));return{arrayValue:{values:n}}}class Ih extends ef{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function I0(i){return Tt(i.integerValue||i.doubleValue)}function WT(i){return Dp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e,n){this.field=e,this.transform=n}}function IC(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof vu&&o instanceof vu||s instanceof Eu&&o instanceof Eu?So(s.elements,o.elements,Ai):s instanceof Ih&&o instanceof Ih?Ai(s.Ae,o.Ae):s instanceof _u&&o instanceof _u}(i.transform,e.transform)}class DC{constructor(e,n){this.version=e,this.transformResults=n}}class Ln{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ln}static exists(e){return new Ln(void 0,e)}static updateTime(e){return new Ln(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class tf{}function $T(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Mp(i.key,Ln.none()):new wu(i.key,i.data,Ln.none());{const n=i.data,s=fn.empty();let o=new Nt(Ht.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ds(i.key,s,new bn(o.toArray()),Ln.none())}}function NC(i,e,n){i instanceof wu?function(o,u,f){const m=o.value.clone(),p=N0(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,n):i instanceof ds?function(o,u,f){if(!mh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=N0(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(ZT(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(i,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function su(i,e,n,s){return i instanceof wu?function(u,f,m,p){if(!mh(u.precondition,f))return m;const g=u.value.clone(),E=O0(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(i,e,n,s):i instanceof ds?function(u,f,m,p){if(!mh(u.precondition,f))return m;const g=O0(u.fieldTransforms,p,f),E=f.data;return E.setAll(ZT(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(S=>S.field))}(i,e,n,s):function(u,f,m){return mh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,n)}function OC(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=QT(s.transform,o||null);u!=null&&(n===null&&(n=fn.empty()),n.set(s.field,u))}return n||null}function D0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&So(s,o,(u,f)=>IC(u,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class wu extends tf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ds extends tf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function ZT(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function N0(i,e,n){const s=new Map;Fe(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const u=i[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,xC(f,m,n[o]))}return s}function O0(i,e,n){const s=new Map;for(const o of i){const u=o.transform,f=n.data.field(o.field);s.set(o.field,RC(u,f,e))}return s}class Mp extends tf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kC extends tf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&NC(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=su(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=su(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=GT();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=$T(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Re.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ue())}isEqual(e){return this.batchId===e.batchId&&So(this.mutations,e.mutations,(n,s)=>D0(n,s))&&So(this.baseMutations,e.baseMutations,(n,s)=>D0(n,s))}}class Vp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Fe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=function(){return TC}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Vp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At,je;function UC(i){switch(i){case $.OK:return Se(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return Se(15467,{code:i})}}function JT(i){if(i===void 0)return Zi("GRPC error has no .code"),$.UNKNOWN;switch(i){case At.OK:return $.OK;case At.CANCELLED:return $.CANCELLED;case At.UNKNOWN:return $.UNKNOWN;case At.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case At.INTERNAL:return $.INTERNAL;case At.UNAVAILABLE:return $.UNAVAILABLE;case At.UNAUTHENTICATED:return $.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case At.NOT_FOUND:return $.NOT_FOUND;case At.ALREADY_EXISTS:return $.ALREADY_EXISTS;case At.PERMISSION_DENIED:return $.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case At.ABORTED:return $.ABORTED;case At.OUT_OF_RANGE:return $.OUT_OF_RANGE;case At.UNIMPLEMENTED:return $.UNIMPLEMENTED;case At.DATA_LOSS:return $.DATA_LOSS;default:return Se(39323,{code:i})}}(je=At||(At={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC=new es([4294967295,4294967295],0);function k0(i){const e=LC().encode(i),n=new mT;return n.update(e),new Uint8Array(n.digest())}function M0(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new es([n,s],0),new es([o,u],0)]}class Pp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Jl(`Invalid padding: ${n}`);if(s<0)throw new Jl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Jl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Jl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=es.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(es.fromNumber(s)));return o.compare(jC)===1&&(o=new es([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=k0(e),[s,o]=M0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Pp(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.ge===0)return;const n=k0(e),[s,o]=M0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Ru.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new nf(Re.min(),o,new ut(Pe),Ji(),Ue())}}class Ru{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Ru(s,n,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class eb{constructor(e,n){this.targetId=e,this.Ce=n}}class tb{constructor(e,n,s=Gt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class V0{constructor(){this.ve=0,this.Fe=P0(),this.Me=Gt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),n=Ue(),s=Ue();return this.Fe.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Se(38017,{changeType:u})}}),new Ru(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=P0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class zC{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ji(),this.Je=nh(),this.He=nh(),this.Ye=new ut(Pe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((s,o)=>{this.rt(o)&&n(o)})}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if($m(u))if(s===0){const f=new _e(u.path);this.et(n,f,Zt.newNoDocument(f,Re.min()))}else Fe(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=as(s).toUint8Array()}catch(p){if(p instanceof RT)return bo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Pp(f,o,u)}catch(p){return bo(p instanceof Jl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)}),o}Tt(e){const n=new Map;this.ze.forEach((u,f)=>{const m=this.ot(f);if(m){if(u.current&&$m(m.target)){const p=new _e(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,Zt.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.qe())}});let s=Ue();this.He.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.je.forEach((u,f)=>f.setReadTime(e));const o=new nf(e,n,this.Ye,this.je,s);return this.je=Ji(),this.Je=nh(),this.He=nh(),this.Ye=new ut(Pe),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new V0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Nt(Pe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Nt(Pe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new V0),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function nh(){return new ut(_e.comparator)}function P0(){return new ut(_e.comparator)}const BC={asc:"ASCENDING",desc:"DESCENDING"},qC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},FC={and:"AND",or:"OR"};class HC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ep(i,e){return i.useProto3Json||Xh(e)?e:{value:e}}function Dh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nb(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function GC(i,e){return Dh(i,e.toTimestamp())}function vi(i){return Fe(!!i,49232),Re.fromTimestamp(function(n){const s=ss(n);return new it(s.seconds,s.nanos)}(i))}function Up(i,e){return tp(i,e).canonicalString()}function tp(i,e){const n=function(o){return new tt(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?n:n.child(e)}function ib(i){const e=tt.fromString(i);return Fe(lb(e),10190,{key:e.toString()}),e}function np(i,e){return Up(i.databaseId,e.path)}function Cm(i,e){const n=ib(e);if(n.get(1)!==i.databaseId.projectId)throw new he($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new he($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new _e(sb(n))}function rb(i,e){return Up(i.databaseId,e)}function KC(i){const e=ib(i);return e.length===4?tt.emptyPath():sb(e)}function ip(i){return new tt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function sb(i){return Fe(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function U0(i,e,n){return{name:np(i,e),fields:n.value.mapValue.fields}}function QC(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Se(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(Fe(E===void 0||typeof E=="string",58123),Gt.fromBase64String(E||"")):(Fe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Gt.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(g){const E=g.code===void 0?$.UNKNOWN:JT(g.code);return new he(E,g.message||"")}(f);n=new tb(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Cm(i,s.document.name),u=vi(s.document.updateTime),f=s.document.createTime?vi(s.document.createTime):Re.min(),m=new fn({mapValue:{fields:s.document.fields}}),p=Zt.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new ph(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Cm(i,s.document),u=s.readTime?vi(s.readTime):Re.min(),f=Zt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new ph([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Cm(i,s.document),u=s.removedTargetIds||[];n=new ph([],u,o,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new PC(o,u),m=s.targetId;n=new eb(m,f)}}return n}function YC(i,e){let n;if(e instanceof wu)n={update:U0(i,e.key,e.value)};else if(e instanceof Mp)n={delete:np(i,e.key)};else if(e instanceof ds)n={update:U0(i,e.key,e.data),updateMask:iI(e.fieldMask)};else{if(!(e instanceof kC))return Se(16599,{Vt:e.type});n={verify:np(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof _u)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof vu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Eu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Ih)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Se(20930,{transform:f.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:GC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Se(27497)}(i,e.precondition)),n}function XC(i,e){return i&&i.length>0?(Fe(e!==void 0,14353),i.map(n=>function(o,u){let f=o.updateTime?vi(o.updateTime):vi(u);return f.isEqual(Re.min())&&(f=vi(u)),new DC(f,o.transformResults||[])}(n,e))):[]}function WC(i,e){return{documents:[rb(i,e.path)]}}function $C(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=rb(i,o);const u=function(g){if(g.length!==0)return ob(Jn.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(E=>function(x){return{field:fo(x.field),direction:eI(x.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=ep(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ft:n,parent:o}}function ZC(i){let e=KC(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Fe(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(S){const x=ab(S);return x instanceof Jn&&PT(x)?x.getFilters():[x]}(n.where));let f=[];n.orderBy&&(f=function(S){return S.map(x=>function(z){return new yu(mo(z.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(z.direction))}(x))}(n.orderBy));let m=null;n.limit&&(m=function(S){let x;return x=typeof S=="object"?S.value:S,Xh(x)?null:x}(n.limit));let p=null;n.startAt&&(p=function(S){const x=!!S.before,L=S.values||[];return new Ch(L,x)}(n.startAt));let g=null;return n.endAt&&(g=function(S){const x=!S.before,L=S.values||[];return new Ch(L,x)}(n.endAt)),gC(e,o,f,u,m,"F",p,g)}function JC(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ab(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=mo(n.unaryFilter.field);return wt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=mo(n.unaryFilter.field);return wt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=mo(n.unaryFilter.field);return wt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=mo(n.unaryFilter.field);return wt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}}(i):i.fieldFilter!==void 0?function(n){return wt.create(mo(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Jn.create(n.compositeFilter.filters.map(s=>ab(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se(1026)}}(n.compositeFilter.op))}(i):Se(30097,{filter:i})}function eI(i){return BC[i]}function tI(i){return qC[i]}function nI(i){return FC[i]}function fo(i){return{fieldPath:i.canonicalString()}}function mo(i){return Ht.fromServerFormat(i.fieldPath)}function ob(i){return i instanceof wt?function(n){if(n.op==="=="){if(A0(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NAN"}};if(S0(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(A0(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NOT_NAN"}};if(S0(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fo(n.field),op:tI(n.op),value:n.value}}}(i):i instanceof Jn?function(n){const s=n.getFilters().map(o=>ob(o));return s.length===1?s[0]:{compositeFilter:{op:nI(n.op),filters:s}}}(i):Se(54877,{filter:i})}function iI(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function lb(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e,n,s,o,u=Re.min(),f=Re.min(),m=Gt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Wr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e){this.yt=e}}function sI(i){const e=ZC({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Jm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(){this.Cn=new oI}addToCollectionParentIndex(e,n){return this.Cn.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(rs.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(rs.min())}updateCollectionGroup(e,n,s){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class oI{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Nt(tt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Nt(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ub=41943040;class hn{static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(ub,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ro(0)}static cr(){return new Ro(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0="LruGarbageCollector",lI=1048576;function z0([i,e],[n,s]){const o=Pe(i,n);return o===0?Pe(e,s):o}class uI{constructor(e){this.Ir=e,this.buffer=new Nt(z0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();z0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class cI{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){me(j0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Mo(n)?me(j0,"Ignoring IndexedDB error during garbage collection: ",n):await ko(n)}await this.Vr(3e5)})}}class hI{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return J.resolve(Yh.ce);const s=new uI(n);return this.mr.forEachTarget(e,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(L0)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),L0):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(s=S,m=Date.now(),this.removeTargets(e,s,n))).next(S=>(u=S,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(S=>(g=Date.now(),co()<=Ve.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${S} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S})))}}function fI(i,e){return new hI(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(){this.changes=new fa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?J.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&su(s.mutation,o,bn.empty(),it.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ue()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ue()){const o=Js();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=Zl();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Js();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ue()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=Ji();const f=ru(),m=function(){return ru()}();return n.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof ds)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),su(E.mutation,g,E.mutation.getFieldMask(),it.now())):f.set(g.key,bn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,E)=>f.set(g,E)),n.forEach((g,E)=>m.set(g,new mI(E,f.get(g)??null))),m))}recalculateAndSaveOverlays(e,n){const s=ru();let o=new ut((f,m)=>f-m),u=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||bn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const S=(o.get(m.batchId)||Ue()).add(p);o=o.insert(m.batchId,S)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,S=GT();E.forEach(x=>{if(!u.has(x)){const L=$T(n.get(x),s.get(x));L!==null&&S.set(x,L),u=u.add(x)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,S))}return J.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return _e.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):zT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):J.resolve(Js());let m=du,p=u;return f.next(g=>J.forEach(g,(E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?J.resolve():this.remoteDocumentCache.getEntry(e,E).next(x=>{p=p.insert(E,x)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Ue())).next(E=>({batchId:m,changes:HT(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next(s=>{let o=Zl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Zl();return this.indexManager.getCollectionParents(e,u).next(m=>J.forEach(m,p=>{const g=function(S,x){return new Vo(x,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((S,x)=>{f=f.insert(S,x)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,Zt.newInvalidDocument(E)))});let m=Zl();return f.forEach((p,g)=>{const E=u.get(p);E!==void 0&&su(E.mutation,g,bn.empty(),it.now()),Jh(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return J.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:vi(o.createTime)}}(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(o){return{name:o.name,query:sI(o.bundledQuery),readTime:vi(o.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(){this.overlays=new ut(_e.comparator),this.qr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Js();return J.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.St(e,n,u)}),J.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.qr.delete(s)),J.resolve()}getOverlaysForCollection(e,n,s){const o=Js(),u=n.length+1,f=new _e(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return J.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ut((g,E)=>g-E);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Js(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Js(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return J.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new VC(n,s));let u=this.qr.get(n);u===void 0&&(u=Ue(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(){this.sessionToken=Gt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(){this.Qr=new Nt(Ut.$r),this.Ur=new Nt(Ut.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Ut(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Gr(new Ut(e,n))}zr(e,n){e.forEach(s=>this.removeReference(s,n))}jr(e){const n=new _e(new tt([])),s=new Ut(n,e),o=new Ut(n,e+1),u=[];return this.Ur.forEachInRange([s,o],f=>{this.Gr(f),u.push(f.key)}),u}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new _e(new tt([])),s=new Ut(n,e),o=new Ut(n,e+1);let u=Ue();return this.Ur.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Ut(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Ut{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return _e.comparator(e.key,n.key)||Pe(e.Yr,n.Yr)}static Kr(e,n){return Pe(e.Yr,n.Yr)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Nt(Ut.$r)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new MC(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Ut(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return J.resolve(f)}lookupMutationBatch(e,n){return J.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Cp:this.tr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Ut(n,0),o=new Ut(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],f=>{const m=this.Xr(f.Yr);u.push(m)}),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Nt(Pe);return n.forEach(o=>{const u=new Ut(o,0),f=new Ut(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],m=>{s=s.add(m.Yr)})}),J.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;_e.isDocumentKey(u)||(u=u.child(""));const f=new Ut(new _e(u),0);let m=new Nt(Pe);return this.Zr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)},f),J.resolve(this.ti(m))}ti(e){const n=[];return e.forEach(s=>{const o=this.Xr(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Fe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return J.forEach(n.mutations,o=>{const u=new Ut(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,n){const s=new Ut(n,0),o=this.Zr.firstAfterOrEqual(s);return J.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e){this.ri=e,this.docs=function(){return new ut(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return J.resolve(s?s.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let s=Ji();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Zt.newInvalidDocument(o))}),J.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Ji();const f=n.path,m=new _e(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||Yx(Qx(E),s)<=0||(o.has(E.key)||Jh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Se(9500)}ii(e,n){return J.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new TI(this)}getSize(e){return J.resolve(this.size)}}class TI extends dI{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)}),J.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e){this.persistence=e,this.si=new fa(n=>Np(n),Op),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new Lp,this.targetCount=0,this.ai=Ro.ur()}forEachTarget(e,n){return this.si.forEach((s,o)=>n(o)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),J.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ro(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.Pr(n),J.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),J.waitFor(u).next(()=>o)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return J.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),J.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),J.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),J.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return J.resolve(s)}containsKey(e,n){return J.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e,n){this.ui={},this.overlays={},this.ci=new Yh(0),this.li=!1,this.li=!0,this.hi=new _I,this.referenceDelegate=e(this),this.Pi=new bI(this),this.indexManager=new aI,this.remoteDocumentCache=function(o){return new EI(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new rI(n),this.Ii=new gI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new yI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new vI(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){me("MemoryPersistence","Starting transaction:",e);const o=new SI(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ai(e,n){return J.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,n)))}}class SI extends Wx{constructor(e){super(),this.currentSequenceNumber=e}}class jp{constructor(e){this.persistence=e,this.Ri=new Lp,this.Vi=null}static mi(e){return new jp(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),J.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),J.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.fi.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,s=>{const o=_e.fromPath(s);return this.gi(e,o).next(u=>{u||n.removeEntry(o,Re.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return J.or([()=>J.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Nh{constructor(e,n){this.persistence=e,this.pi=new fa(s=>Jx(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=fI(this,n)}static mi(e,n){return new Nh(e,n)}Ei(){}di(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}wr(e){let n=0;return this.pr(e,s=>{n++}).next(()=>n)}pr(e,n){return J.forEach(this.pi,(s,o)=>this.br(e,s,o).next(u=>u?J.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,f=>this.br(e,f,n).next(m=>{m||(s++,u.removeEntry(f,Re.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),J.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=fh(e.data.value)),n}br(e,n,s){return J.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return J.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Ue(),o=Ue();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new zp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return yR()?8:$x(Jt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ws(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new AI;return this.Ss(e,n,f).next(m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)})}).next(()=>u.result)}bs(e,n,s,o){return s.documentReadCount<this.fs?(co()<=Ve.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",ho(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(co()<=Ve.DEBUG&&me("QueryEngine","Query:",ho(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(co()<=Ve.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",ho(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_i(n))):J.resolve())}ys(e,n){if(C0(n))return J.resolve(null);let s=_i(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Jm(n,null,"F"),s=_i(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Ue(...u);return this.ps.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.Ds(n,m);return this.Cs(n,g,f,p.readTime)?this.ys(e,Jm(n,null,"F")):this.vs(e,g,n,p)}))})))}ws(e,n,s,o){return C0(n)||o.isEqual(Re.min())?J.resolve(null):this.ps.getDocuments(e,s).next(u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?J.resolve(null):(co()<=Ve.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ho(n)),this.vs(e,f,n,Kx(o,du)).next(m=>m))})}Ds(e,n){let s=new Nt(qT(e));return n.forEach((o,u)=>{Jh(e,u)&&(s=s.add(u))}),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return co()<=Ve.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",ho(n)),this.ps.getDocumentsMatchingQuery(e,n,rs.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp="LocalStore",RI=3e8;class xI{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ut(Pe),this.xs=new fa(u=>Np(u),Op),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function CI(i,e,n,s){return new xI(i,e,n,s)}async function hb(i,e){const n=Ce(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Ue();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(g=>({Ls:g,removedBatchIds:f,addedBatchIds:m}))})})}function II(i,e){const n=Ce(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const S=g.batch,x=S.keys();let L=J.resolve();return x.forEach(z=>{L=L.next(()=>E.getEntry(p,z)).next(Y=>{const P=g.docVersions.get(z);Fe(P!==null,48541),Y.version.compareTo(P)<0&&(S.applyToRemoteDocument(Y,g),Y.isValidDocument()&&(Y.setReadTime(g.commitVersion),E.addEntry(Y)))})}),L.next(()=>m.mutationQueue.removeMutationBatch(p,S))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Ue();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function fb(i){const e=Ce(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function DI(i,e){const n=Ce(i),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach((E,S)=>{const x=o.get(S);if(!x)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,S).next(()=>n.Pi.addMatchingKeys(u,E.addedDocuments,S)));let L=x.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?L=L.withResumeToken(Gt.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):E.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(E.resumeToken,s)),o=o.insert(S,L),function(Y,P,re){return Y.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=RI?!0:re.addedDocuments.size+re.modifiedDocuments.size+re.removedDocuments.size>0}(x,L,E)&&m.push(n.Pi.updateTargetData(u,L))});let p=Ji(),g=Ue();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(NI(u,f,e.documentUpdates).next(E=>{p=E.ks,g=E.qs})),!s.isEqual(Re.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next(S=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return J.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.Ms=o,u))}function NI(i,e,n){let s=Ue(),o=Ue();return n.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let f=Ji();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Re.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):me(Bp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{ks:f,qs:o}})}function OI(i,e){const n=Ce(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Cp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function kI(i,e){const n=Ce(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Pi.getTargetData(s,e).next(u=>u?(o=u,J.resolve(o)):n.Pi.allocateTargetId(s).next(f=>(o=new Wr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s})}async function rp(i,e,n){const s=Ce(i),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Mo(f))throw f;me(Bp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function B0(i,e,n){const s=Ce(i);let o=Re.min(),u=Ue();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,E){const S=Ce(p),x=S.xs.get(E);return x!==void 0?J.resolve(S.Ms.get(x)):S.Pi.getTargetData(g,E)}(s,f,_i(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:Re.min(),n?u:Ue())).next(m=>(MI(s,_C(e),m),{documents:m,Qs:u})))}function MI(i,e,n){let s=i.Os.get(e)||Re.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Os.set(e,s)}class q0{constructor(){this.activeTargetIds=AC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class VI{constructor(){this.Mo=new q0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new q0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="ConnectivityMonitor";class H0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){me(F0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){me(F0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ih=null;function sp(){return ih===null?ih=function(){return 268435456+Math.round(2147483648*Math.random())}():ih++,"0x"+ih.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im="RestConnection",UI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class LI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Rh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=sp(),m=this.zo(e,n.toUriEncodedString());me(Im,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),E=hs(g);return this.Jo(e,m,p,s,E).then(S=>(me(Im,`Received RPC '${e}' ${f}: `,S),S),S=>{throw bo(Im,`RPC '${e}' ${f} failed with error: `,S,"url: ",m,"request:",s),S})}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Oo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}zo(e,n){const s=UI[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wt="WebChannelConnection";class zI extends LI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=sp();return new Promise((m,p)=>{const g=new pT;g.setWithCredentials(!0),g.listenOnce(gT.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case hh.NO_ERROR:const S=g.getResponseJson();me(Wt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(S)),m(S);break;case hh.TIMEOUT:me(Wt,`RPC '${e}' ${f} timed out`),p(new he($.DEADLINE_EXCEEDED,"Request time out"));break;case hh.HTTP_ERROR:const x=g.getStatus();if(me(Wt,`RPC '${e}' ${f} failed with status:`,x,"response text:",g.getResponseText()),x>0){let L=g.getResponseJson();Array.isArray(L)&&(L=L[0]);const z=L?.error;if(z&&z.status&&z.message){const Y=function(re){const ne=re.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(ne)>=0?ne:$.UNKNOWN}(z.status);p(new he(Y,z.message))}else p(new he($.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new he($.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{me(Wt,`RPC '${e}' ${f} completed.`)}});const E=JSON.stringify(o);me(Wt,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",E,s,15)})}T_(e,n,s){const o=sp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=vT(),m=_T(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");me(Wt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const S=f.createWebChannel(E,p);this.I_(S);let x=!1,L=!1;const z=new jI({Yo:P=>{L?me(Wt,`Not sending because RPC '${e}' stream ${o} is closed:`,P):(x||(me(Wt,`Opening RPC '${e}' stream ${o} transport.`),S.open(),x=!0),me(Wt,`RPC '${e}' stream ${o} sending:`,P),S.send(P))},Zo:()=>S.close()}),Y=(P,re,ne)=>{P.listen(re,te=>{try{ne(te)}catch(oe){setTimeout(()=>{throw oe},0)}})};return Y(S,$l.EventType.OPEN,()=>{L||(me(Wt,`RPC '${e}' stream ${o} transport opened.`),z.o_())}),Y(S,$l.EventType.CLOSE,()=>{L||(L=!0,me(Wt,`RPC '${e}' stream ${o} transport closed`),z.a_(),this.E_(S))}),Y(S,$l.EventType.ERROR,P=>{L||(L=!0,bo(Wt,`RPC '${e}' stream ${o} transport errored. Name:`,P.name,"Message:",P.message),z.a_(new he($.UNAVAILABLE,"The operation could not be completed")))}),Y(S,$l.EventType.MESSAGE,P=>{if(!L){const re=P.data[0];Fe(!!re,16349);const ne=re,te=ne?.error||ne[0]?.error;if(te){me(Wt,`RPC '${e}' stream ${o} received error:`,te);const oe=te.status;let ue=function(w){const R=At[w];if(R!==void 0)return JT(R)}(oe),ae=te.message;ue===void 0&&(ue=$.INTERNAL,ae="Unknown error status: "+oe+" with message "+te.message),L=!0,z.a_(new he(ue,ae)),S.close()}else me(Wt,`RPC '${e}' stream ${o} received:`,re),z.u_(re)}}),Y(m,yT.STAT_EVENT,P=>{P.stat===Km.PROXY?me(Wt,`RPC '${e}' stream ${o} detected buffering proxy`):P.stat===Km.NOPROXY&&me(Wt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{z.__()},0),z}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Dm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rf(i){return new HC(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&me("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0="PersistentStream";class mb{constructor(e,n,s,o,u,f,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new db(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Zi(n.toString()),Zi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===n&&this.G_(s,o)},s=>{e(()=>{const o=new he($.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return me(G0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(me(G0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class BI extends mb{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=QC(this.serializer,e),s=function(u){if(!("targetChange"in u))return Re.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Re.min():f.readTime?vi(f.readTime):Re.min()}(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=ip(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=$m(p)?{documents:WC(u,p)}:{query:$C(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=nb(u,f.resumeToken);const g=ep(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Re.min())>0){m.readTime=Dh(u,f.snapshotVersion.toTimestamp());const g=ep(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=JC(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=ip(this.serializer),n.removeTarget=e,this.q_(n)}}class qI extends mb{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=XC(e.writeResults,e.commitTime),s=vi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=ip(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>YC(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{}class HI extends FI{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new he($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Go(e,tp(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he($.UNKNOWN,u.toString())})}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Ho(e,tp(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new he($.UNKNOWN,f.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class GI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Zi(n),this.aa=!1):me("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="RemoteStore";class KI{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo(f=>{s.enqueueAndForget(async()=>{da(this)&&(me(sa,"Restarting streams for network reachability change."),await async function(p){const g=Ce(p);g.Ea.add(4),await xu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await sf(g)}(this))})}),this.Ra=new GI(s,o)}}async function sf(i){if(da(i))for(const e of i.da)await e(!0)}async function xu(i){for(const e of i.da)await e(!1)}function pb(i,e){const n=Ce(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Gp(n)?Hp(n):Po(n).O_()&&Fp(n,e))}function qp(i,e){const n=Ce(i),s=Po(n);n.Ia.delete(e),s.O_()&&gb(n,e),n.Ia.size===0&&(s.O_()?s.L_():da(n)&&n.Ra.set("Unknown"))}function Fp(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Po(i).Y_(e)}function gb(i,e){i.Va.Ue(e),Po(i).Z_(e)}function Hp(i){i.Va=new zC({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Po(i).start(),i.Ra.ua()}function Gp(i){return da(i)&&!Po(i).x_()&&i.Ia.size>0}function da(i){return Ce(i).Ea.size===0}function yb(i){i.Va=void 0}async function QI(i){i.Ra.set("Online")}async function YI(i){i.Ia.forEach((e,n)=>{Fp(i,e)})}async function XI(i,e){yb(i),Gp(i)?(i.Ra.ha(e),Hp(i)):i.Ra.set("Unknown")}async function WI(i,e,n){if(i.Ra.set("Online"),e instanceof tb&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))}(i,e)}catch(s){me(sa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Oh(i,s)}else if(e instanceof ph?i.Va.Ze(e):e instanceof eb?i.Va.st(e):i.Va.tt(e),!n.isEqual(Re.min()))try{const s=await fb(i.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(Gt.EMPTY_BYTE_STRING,E.snapshotVersion)),gb(u,p);const S=new Wr(E.target,p,g,E.sequenceNumber);Fp(u,S)}),u.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){me(sa,"Failed to raise snapshot:",s),await Oh(i,s)}}async function Oh(i,e,n){if(!Mo(e))throw e;i.Ea.add(1),await xu(i),i.Ra.set("Offline"),n||(n=()=>fb(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{me(sa,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await sf(i)})}function _b(i,e){return e().catch(n=>Oh(i,n,e))}async function af(i){const e=Ce(i),n=ls(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Cp;for(;$I(e);)try{const o=await OI(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,ZI(e,o)}catch(o){await Oh(e,o)}vb(e)&&Eb(e)}function $I(i){return da(i)&&i.Ta.length<10}function ZI(i,e){i.Ta.push(e);const n=ls(i);n.O_()&&n.X_&&n.ea(e.mutations)}function vb(i){return da(i)&&!ls(i).x_()&&i.Ta.length>0}function Eb(i){ls(i).start()}async function JI(i){ls(i).ra()}async function e2(i){const e=ls(i);for(const n of i.Ta)e.ea(n.mutations)}async function t2(i,e,n){const s=i.Ta.shift(),o=Vp.from(s,e,n);await _b(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await af(i)}async function n2(i,e){e&&ls(i).X_&&await async function(s,o){if(function(f){return UC(f)&&f!==$.ABORTED}(o.code)){const u=s.Ta.shift();ls(s).B_(),await _b(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await af(s)}}(i,e),vb(i)&&Eb(i)}async function K0(i,e){const n=Ce(i);n.asyncQueue.verifyOperationInProgress(),me(sa,"RemoteStore received new credentials");const s=da(n);n.Ea.add(3),await xu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await sf(n)}async function i2(i,e){const n=Ce(i);e?(n.Ea.delete(2),await sf(n)):e||(n.Ea.add(2),await xu(n),n.Ra.set("Unknown"))}function Po(i){return i.ma||(i.ma=function(n,s,o){const u=Ce(n);return u.sa(),new BI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Xo:QI.bind(null,i),t_:YI.bind(null,i),r_:XI.bind(null,i),H_:WI.bind(null,i)}),i.da.push(async e=>{e?(i.ma.B_(),Gp(i)?Hp(i):i.Ra.set("Unknown")):(await i.ma.stop(),yb(i))})),i.ma}function ls(i){return i.fa||(i.fa=function(n,s,o){const u=Ce(n);return u.sa(),new qI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:JI.bind(null,i),r_:n2.bind(null,i),ta:e2.bind(null,i),na:t2.bind(null,i)}),i.da.push(async e=>{e?(i.fa.B_(),await af(i)):(await i.fa.stop(),i.Ta.length>0&&(me(sa,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))})),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ts,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Kp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qp(i,e){if(Zi("AsyncQueue",`${e}: ${i}`),Mo(i))return new he($.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{static emptySet(e){return new go(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||_e.comparator(n.key,s.key):(n,s)=>_e.comparator(n.key,s.key),this.keyedMap=Zl(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof go)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new go;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(){this.ga=new ut(_e.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,s)=>{e.push(s)}),e}}class xo{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new xo(e,n,go.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class s2{constructor(){this.queries=Y0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ce(n),u=o.queries;o.queries=Y0(),u.forEach((f,m)=>{for(const p of m.Sa)p.onError(s)})})(this,new he($.ABORTED,"Firestore shutting down"))}}function Y0(){return new fa(i=>BT(i),Zh)}async function Tb(i,e){const n=Ce(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new r2,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Qp(f,`Initialization of query '${ho(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Yp(n)}async function bb(i,e){const n=Ce(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function a2(i,e){const n=Ce(i);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&Yp(n)}function o2(i,e,n){const s=Ce(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Yp(i){i.Ca.forEach(e=>{e.next()})}var ap,X0;(X0=ap||(ap={})).Ma="default",X0.Cache="cache";class Sb{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new xo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=xo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ap.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e){this.key=e}}class wb{constructor(e){this.key=e}}class l2{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ue(),this.mutatedKeys=Ue(),this.eu=qT(e),this.tu=new go(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new Q0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,S)=>{const x=o.get(E),L=Jh(this.query,S)?S:null,z=!!x&&this.mutatedKeys.has(x.key),Y=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let P=!1;x&&L?x.data.isEqual(L.data)?z!==Y&&(s.track({type:3,doc:L}),P=!0):this.su(x,L)||(s.track({type:2,doc:L}),P=!0,(p&&this.eu(L,p)>0||g&&this.eu(L,g)<0)&&(m=!0)):!x&&L?(s.track({type:0,doc:L}),P=!0):x&&!L&&(s.track({type:1,doc:x}),P=!0,(p||g)&&(m=!0)),P&&(L?(f=f.add(L),u=Y?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort((E,S)=>function(L,z){const Y=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:P})}};return Y(L)-Y(z)}(E.type,S.type)||this.eu(E.doc,S.doc)),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,f.length!==0||g?{snapshot:new xo(this.query,e.tu,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Q0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ue(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return e.forEach(s=>{this.Xa.has(s)||n.push(new wb(s))}),this.Xa.forEach(s=>{e.has(s)||n.push(new Ab(s))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ue();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return xo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Xp="SyncEngine";class u2{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class c2{constructor(e){this.key=e,this.hu=!1}}class h2{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new fa(m=>BT(m),Zh),this.Iu=new Map,this.Eu=new Set,this.du=new ut(_e.comparator),this.Au=new Map,this.Ru=new Lp,this.Vu={},this.mu=new Map,this.fu=Ro.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function f2(i,e,n=!0){const s=Nb(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await Rb(s,e,n,!0),o}async function d2(i,e){const n=Nb(i);await Rb(n,e,!0,!1)}async function Rb(i,e,n,s){const o=await kI(i.localStore,_i(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await m2(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&n&&pb(i.remoteStore,o),m}async function m2(i,e,n,s,o){i.pu=(S,x,L)=>async function(Y,P,re,ne){let te=P.view.ru(re);te.Cs&&(te=await B0(Y.localStore,P.query,!1).then(({documents:D})=>P.view.ru(D,te)));const oe=ne&&ne.targetChanges.get(P.targetId),ue=ne&&ne.targetMismatches.get(P.targetId)!=null,ae=P.view.applyChanges(te,Y.isPrimaryClient,oe,ue);return $0(Y,P.targetId,ae.au),ae.snapshot}(i,S,x,L);const u=await B0(i.localStore,e,!0),f=new l2(e,u.Qs),m=f.ru(u.documents),p=Ru.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=f.applyChanges(m,i.isPrimaryClient,p);$0(i,n,g.au);const E=new u2(e,n,f);return i.Tu.set(e,E),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),g.snapshot}async function p2(i,e,n){const s=Ce(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter(f=>!Zh(f,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await rp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&qp(s.remoteStore,o.targetId),op(s,o.targetId)}).catch(ko)):(op(s,o.targetId),await rp(s.localStore,o.targetId,!0))}async function g2(i,e){const n=Ce(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),qp(n.remoteStore,s.targetId))}async function y2(i,e,n){const s=A2(i);try{const o=await function(f,m){const p=Ce(f),g=it.now(),E=m.reduce((L,z)=>L.add(z.key),Ue());let S,x;return p.persistence.runTransaction("Locally write mutations","readwrite",L=>{let z=Ji(),Y=Ue();return p.Ns.getEntries(L,E).next(P=>{z=P,z.forEach((re,ne)=>{ne.isValidDocument()||(Y=Y.add(re))})}).next(()=>p.localDocuments.getOverlayedDocuments(L,z)).next(P=>{S=P;const re=[];for(const ne of m){const te=OC(ne,S.get(ne.key).overlayedDocument);te!=null&&re.push(new ds(ne.key,te,kT(te.value.mapValue),Ln.exists(!0)))}return p.mutationQueue.addMutationBatch(L,g,re,m)}).next(P=>{x=P;const re=P.applyToLocalDocumentSet(S,Y);return p.documentOverlayCache.saveOverlays(L,P.batchId,re)})}).then(()=>({batchId:x.batchId,changes:HT(S)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.Vu[f.currentUser.toKey()];g||(g=new ut(Pe)),g=g.insert(m,p),f.Vu[f.currentUser.toKey()]=g}(s,o.batchId,n),await Cu(s,o.changes),await af(s.remoteStore)}catch(o){const u=Qp(o,"Failed to persist write");n.reject(u)}}async function xb(i,e){const n=Ce(i);try{const s=await DI(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Au.get(u);f&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Fe(f.hu,14607):o.removedDocuments.size>0&&(Fe(f.hu,42227),f.hu=!1))}),await Cu(n,s,e)}catch(s){await ko(s)}}function W0(i,e,n){const s=Ce(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Ce(f);p.onlineState=m;let g=!1;p.queries.forEach((E,S)=>{for(const x of S.Sa)x.va(m)&&(g=!0)}),g&&Yp(p)}(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function _2(i,e,n){const s=Ce(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new ut(_e.comparator);f=f.insert(u,Zt.newNoDocument(u,Re.min()));const m=Ue().add(u),p=new nf(Re.min(),new Map,new ut(Pe),f,m);await xb(s,p),s.du=s.du.remove(u),s.Au.delete(e),Wp(s)}else await rp(s.localStore,e,!1).then(()=>op(s,e,n)).catch(ko)}async function v2(i,e){const n=Ce(i),s=e.batch.batchId;try{const o=await II(n.localStore,e);Ib(n,s,null),Cb(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Cu(n,o)}catch(o){await ko(o)}}async function E2(i,e,n){const s=Ce(i);try{const o=await function(f,m){const p=Ce(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(S=>(Fe(S!==null,37113),E=S.keys(),p.mutationQueue.removeMutationBatch(g,S))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,e);Ib(s,e,n),Cb(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Cu(s,o)}catch(o){await ko(o)}}function Cb(i,e){(i.mu.get(e)||[]).forEach(n=>{n.resolve()}),i.mu.delete(e)}function Ib(i,e,n){const s=Ce(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function op(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach(s=>{i.Ru.containsKey(s)||Db(i,s)})}function Db(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(qp(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),Wp(i))}function $0(i,e,n){for(const s of n)s instanceof Ab?(i.Ru.addReference(s.key,e),T2(i,s)):s instanceof wb?(me(Xp,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||Db(i,s.key)):Se(19791,{wu:s})}function T2(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(me(Xp,"New document in limbo: "+n),i.Eu.add(s),Wp(i))}function Wp(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new _e(tt.fromString(e)),s=i.fu.next();i.Au.set(s,new c2(n)),i.du=i.du.insert(n,s),pb(i.remoteStore,new Wr(_i($h(n.path)),s,"TargetPurposeLimboResolution",Yh.ce))}}async function Cu(i,e,n){const s=Ce(i),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach((m,p)=>{f.push(s.pu(p,e,n).then(g=>{if((g||n)&&s.isPrimaryClient){const E=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=zp.As(p.targetId,g);u.push(E)}}))}),await Promise.all(f),s.Pu.H_(o),await async function(p,g){const E=Ce(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>J.forEach(g,x=>J.forEach(x.Es,L=>E.persistence.referenceDelegate.addReference(S,x.targetId,L)).next(()=>J.forEach(x.ds,L=>E.persistence.referenceDelegate.removeReference(S,x.targetId,L)))))}catch(S){if(!Mo(S))throw S;me(Bp,"Failed to update sequence numbers: "+S)}for(const S of g){const x=S.targetId;if(!S.fromCache){const L=E.Ms.get(x),z=L.snapshotVersion,Y=L.withLastLimboFreeSnapshotVersion(z);E.Ms=E.Ms.insert(x,Y)}}}(s.localStore,u))}async function b2(i,e){const n=Ce(i);if(!n.currentUser.isEqual(e)){me(Xp,"User change. New user:",e.toKey());const s=await hb(n.localStore,e);n.currentUser=e,function(u,f){u.mu.forEach(m=>{m.forEach(p=>{p.reject(new he($.CANCELLED,f))})}),u.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Cu(n,s.Ls)}}function S2(i,e){const n=Ce(i),s=n.Au.get(e);if(s&&s.hu)return Ue().add(s.key);{let o=Ue();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function Nb(i){const e=Ce(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=xb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=S2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_2.bind(null,e),e.Pu.H_=a2.bind(null,e.eventManager),e.Pu.yu=o2.bind(null,e.eventManager),e}function A2(i){const e=Ce(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=v2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=E2.bind(null,e),e}class kh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=rf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return CI(this.persistence,new wI,e.initialUser,this.serializer)}Cu(e){return new cb(jp.mi,this.serializer)}Du(e){return new VI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kh.provider={build:()=>new kh};class w2 extends kh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Fe(this.persistence.referenceDelegate instanceof Nh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new cI(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new cb(s=>Nh.mi(s,n),this.serializer)}}class lp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>W0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=b2.bind(null,this.syncEngine),await i2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new s2}()}createDatastore(e){const n=rf(e.databaseInfo.databaseId),s=function(u){return new zI(u)}(e.databaseInfo);return function(u,f,m,p){return new HI(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new KI(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>W0(this.syncEngine,n,0),function(){return H0.v()?new H0:new PI}())}createSyncEngine(e,n){return function(o,u,f,m,p,g,E){const S=new h2(o,u,f,m,p,g);return E&&(S.gu=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const s=Ce(n);me(sa,"RemoteStore shutting down."),s.Ea.add(5),await xu(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}lp.provider={build:()=>new lp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Zi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us="FirestoreClient";class R2{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=$t.UNAUTHENTICATED,this.clientId=xp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{me(us,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(me(us,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ts;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Qp(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Nm(i,e){i.asyncQueue.verifyOperationInProgress(),me(us,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await hb(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function Z0(i,e){i.asyncQueue.verifyOperationInProgress();const n=await x2(i);me(us,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>K0(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>K0(e.remoteStore,o)),i._onlineComponents=e}async function x2(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){me(us,"Using user provided OfflineComponentProvider");try{await Nm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;bo("Error using user provided cache. Falling back to memory cache: "+n),await Nm(i,new kh)}}else me(us,"Using default OfflineComponentProvider"),await Nm(i,new w2(void 0));return i._offlineComponents}async function kb(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(me(us,"Using user provided OnlineComponentProvider"),await Z0(i,i._uninitializedComponentsProvider._online)):(me(us,"Using default OnlineComponentProvider"),await Z0(i,new lp))),i._onlineComponents}function C2(i){return kb(i).then(e=>e.syncEngine)}async function up(i){const e=await kb(i),n=e.eventManager;return n.onListen=f2.bind(null,e.syncEngine),n.onUnlisten=p2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=d2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=g2.bind(null,e.syncEngine),n}function I2(i,e,n={}){const s=new ts;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new Ob({next:x=>{E.Nu(),f.enqueueAndForget(()=>bb(u,S));const L=x.docs.has(m);!L&&x.fromCache?g.reject(new he($.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&x.fromCache&&p&&p.source==="server"?g.reject(new he($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(x)},error:x=>g.reject(x)}),S=new Sb($h(m.path),E,{includeMetadataChanges:!0,qa:!0});return Tb(u,S)}(await up(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb="firestore.googleapis.com",eE=!0;class tE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Vb,this.ssl=eE}else this.host=e.host,this.ssl=e.ssl??eE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ub;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<lI)throw new he($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Gx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Mb(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class of{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Vx;switch(s.type){case"firstParty":return new jx(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=J0.get(n);s&&(me("ComponentProvider","Removing Datastore"),J0.delete(n),s.terminate())}(this),Promise.resolve()}}function D2(i,e,n,s={}){i=Un(i,of);const o=hs(e),u=i._getSettings(),f={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(Tp(`https://${m}`),bp("Firestore",!0)),u.host!==Vb&&u.host!==m&&bo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!na(p,f)&&(i._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=$t.MOCK_USER;else{g=lT(s.mockUserToken,i._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new he($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new $t(S)}i._authCredentials=new Px(new TT(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ma(this.firestore,e,this._query)}}class ft{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ns(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ft(this.firestore,e,this._key)}toJSON(){return{type:ft._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Au(n,ft._jsonSchema))return new ft(e,s||null,new _e(tt.fromString(n.referencePath)))}}ft._jsonSchemaVersion="firestore/documentReference/1.0",ft._jsonSchema={type:Rt("string",ft._jsonSchemaVersion),referencePath:Rt("string")};class ns extends ma{constructor(e,n,s){super(e,n,$h(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ft(this.firestore,null,new _e(e))}withConverter(e){return new ns(this.firestore,e,this._path)}}function Mh(i,e,...n){if(i=st(i),bT("collection","path",e),i instanceof of){const s=tt.fromString(e,...n);return m0(s),new ns(i,null,s)}{if(!(i instanceof ft||i instanceof ns))throw new he($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tt.fromString(e,...n));return m0(s),new ns(i.firestore,null,s)}}function er(i,e,...n){if(i=st(i),arguments.length===1&&(e=xp.newId()),bT("doc","path",e),i instanceof of){const s=tt.fromString(e,...n);return d0(s),new ft(i,null,new _e(s))}{if(!(i instanceof ft||i instanceof ns))throw new he($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tt.fromString(e,...n));return d0(s),new ft(i.firestore,i instanceof ns?i.converter:null,new _e(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="AsyncQueue";class iE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new db(this,"async_queue_retry"),this._c=()=>{const s=Dm();s&&me(nE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Dm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Dm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new ts;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Mo(e))throw e;me(nE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,Zi("INTERNAL UNHANDLED ERROR: ",rE(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Kp.createAndSchedule(this,e,n,s,u=>this.hc(u));return this.tc.push(o),o}uc(){this.nc&&Se(47125,{Pc:rE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function rE(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(i){return function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(i,["next","error","complete"])}class cs extends of{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new iE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new iE(e),this._firestoreClient=void 0,await e}}}function N2(i,e){const n=typeof i=="object"?i:wp(),s=typeof i=="string"?i:Rh,o=Kh(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=sT("firestore");u&&D2(o,...u)}return o}function $p(i){if(i._terminated)throw new he($.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||O2(i),i._firestoreClient}function O2(i){const e=i._freezeSettings(),n=function(o,u,f,m){return new nC(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,Mb(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new R2(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pn(Gt.fromBase64String(e))}catch(n){throw new he($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Pn(Gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Au(e,Pn._jsonSchema))return Pn.fromBase64String(e.bytes)}}Pn._jsonSchemaVersion="firestore/bytes/1.0",Pn._jsonSchema={type:Rt("string",Pn._jsonSchemaVersion),bytes:Rt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ei._jsonSchemaVersion}}static fromJSON(e){if(Au(e,Ei._jsonSchema))return new Ei(e.latitude,e.longitude)}}Ei._jsonSchemaVersion="firestore/geoPoint/1.0",Ei._jsonSchema={type:Rt("string",Ei._jsonSchemaVersion),latitude:Rt("number"),longitude:Rt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Ti._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Au(e,Ti._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Ti(e.vectorValues);throw new he($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ti._jsonSchemaVersion="firestore/vectorValue/1.0",Ti._jsonSchema={type:Rt("string",Ti._jsonSchemaVersion),vectorValues:Rt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2=/^__.*__$/;class M2{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ds(e,this.data,this.fieldMask,n,this.fieldTransforms):new wu(e,this.data,n,this.fieldTransforms)}}class Pb{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ds(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Ub(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:i})}}class Zp{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Zp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Vh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Ub(this.Ac)&&k2.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class V2{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||rf(e)}Cc(e,n,s,o=!1){return new Zp({Ac:e,methodName:n,Dc:s,path:Ht.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cf(i){const e=i._freezeSettings(),n=rf(i._databaseId);return new V2(i._databaseId,!!e.ignoreUndefinedProperties,n)}function Lb(i,e,n,s,o,u={}){const f=i.Cc(u.merge||u.mergeFields?2:0,e,n,o);eg("Data must be an object, but it was:",f,s);const m=jb(s,f);let p,g;if(u.merge)p=new bn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const x=cp(e,S,n);if(!f.contains(x))throw new he($.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);Bb(E,x)||E.push(x)}p=new bn(E),g=f.fieldTransforms.filter(S=>p.covers(S.field))}else p=null,g=f.fieldTransforms;return new M2(new fn(m),p,g)}class hf extends uf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof hf}}class Jp extends uf{_toFieldTransform(e){return new CC(e.path,new _u)}isEqual(e){return e instanceof Jp}}function P2(i,e,n,s){const o=i.Cc(1,e,n);eg("Data must be an object, but it was:",o,s);const u=[],f=fn.empty();fs(s,(p,g)=>{const E=tg(e,p,n);g=st(g);const S=o.yc(E);if(g instanceof hf)u.push(E);else{const x=Iu(g,S);x!=null&&(u.push(E),f.set(E,x))}});const m=new bn(u);return new Pb(f,m,o.fieldTransforms)}function U2(i,e,n,s,o,u){const f=i.Cc(1,e,n),m=[cp(e,s,n)],p=[o];if(u.length%2!=0)throw new he($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<u.length;x+=2)m.push(cp(e,u[x])),p.push(u[x+1]);const g=[],E=fn.empty();for(let x=m.length-1;x>=0;--x)if(!Bb(g,m[x])){const L=m[x];let z=p[x];z=st(z);const Y=f.yc(L);if(z instanceof hf)g.push(L);else{const P=Iu(z,Y);P!=null&&(g.push(L),E.set(L,P))}}const S=new bn(g);return new Pb(E,S,f.fieldTransforms)}function L2(i,e,n,s=!1){return Iu(n,i.Cc(s?4:3,e))}function Iu(i,e){if(zb(i=st(i)))return eg("Unsupported field value:",e,i),jb(i,e);if(i instanceof uf)return function(s,o){if(!Ub(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=Iu(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=st(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return wC(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=it.fromDate(s);return{timestampValue:Dh(o.serializer,u)}}if(s instanceof it){const u=new it(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Dh(o.serializer,u)}}if(s instanceof Ei)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Pn)return{bytesValue:nb(o.serializer,s._byteString)};if(s instanceof ft){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Up(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ti)return function(f,m){return{mapValue:{fields:{[NT]:{stringValue:OT},[xh]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return kp(m.serializer,g)})}}}}}}(s,o);throw o.Sc(`Unsupported field value: ${Qh(s)}`)}(i,e)}function jb(i,e){const n={};return wT(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fs(i,(s,o)=>{const u=Iu(o,e.mc(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function zb(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof it||i instanceof Ei||i instanceof Pn||i instanceof ft||i instanceof uf||i instanceof Ti)}function eg(i,e,n){if(!zb(n)||!ST(n)){const s=Qh(n);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function cp(i,e,n){if((e=st(e))instanceof lf)return e._internalPath;if(typeof e=="string")return tg(i,e);throw Vh("Field path arguments must be of type string or ",i,!1,void 0,n)}const j2=new RegExp("[~\\*/\\[\\]]");function tg(i,e,n){if(e.search(j2)>=0)throw Vh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new lf(...e.split("."))._internalPath}catch{throw Vh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Vh(i,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new he($.INVALID_ARGUMENT,m+i+p)}function Bb(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new z2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ng("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class z2 extends qb{data(){return super.data()}}function ng(i,e){return typeof e=="string"?tg(i,e):e instanceof lf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new he($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ig{}class Fb extends ig{}function q2(i,e,...n){let s=[];e instanceof ig&&s.push(e),s=s.concat(n),function(u){const f=u.filter(p=>p instanceof sg).length,m=u.filter(p=>p instanceof rg).length;if(f>1||f>0&&m>0)throw new he($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class rg extends Fb{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new rg(e,n,s)}_apply(e){const n=this._parse(e);return Hb(e._query,n),new ma(e.firestore,e.converter,Zm(e._query,n))}_parse(e){const n=cf(e.firestore);return function(u,f,m,p,g,E,S){let x;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new he($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){oE(S,E);const z=[];for(const Y of S)z.push(aE(p,u,Y));x={arrayValue:{values:z}}}else x=aE(p,u,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||oE(S,E),x=L2(m,f,S,E==="in"||E==="not-in");return wt.create(g,E,x)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class sg extends ig{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new sg(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Jn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)Hb(f,p),f=Zm(f,p)}(e._query,n),new ma(e.firestore,e.converter,Zm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ag extends Fb{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new ag(e,n)}_apply(e){const n=function(o,u,f){if(o.startAt!==null)throw new he($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new he($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new yu(u,f)}(e._query,this._field,this._direction);return new ma(e.firestore,e.converter,function(o,u){const f=o.explicitOrderBy.concat([u]);return new Vo(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function F2(i,e="asc"){const n=e,s=ng("orderBy",i);return ag._create(s,n)}function aE(i,e,n){if(typeof(n=st(n))=="string"){if(n==="")throw new he($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zT(e)&&n.indexOf("/")!==-1)throw new he($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(tt.fromString(n));if(!_e.isDocumentKey(s))throw new he($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return b0(i,new _e(s))}if(n instanceof ft)return b0(i,n._key);throw new he($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qh(n)}.`)}function oE(i,e){if(!Array.isArray(i)||i.length===0)throw new he($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Hb(i,e){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new he($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class H2{convertValue(e,n="none"){switch(os(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(as(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return fs(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){const n=e.fields?.[xh].arrayValue?.values?.map(s=>Tt(s.doubleValue));return new Ti(n)}convertGeoPoint(e){return new Ei(Tt(e.latitude),Tt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Wh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(mu(e));default:return null}}convertTimestamp(e){const n=ss(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=tt.fromString(e);Fe(lb(s),9688,{name:e});const o=new pu(s.get(1),s.get(3)),u=new _e(s.popFirst(5));return o.isEqual(n)||Zi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(i,e,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,s}class eu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ea extends qb{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new gh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(ng("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ea._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ea._jsonSchemaVersion="firestore/documentSnapshot/1.0",ea._jsonSchema={type:Rt("string",ea._jsonSchemaVersion),bundleSource:Rt("string","DocumentSnapshot"),bundleName:Rt("string"),bundle:Rt("string")};class gh extends ea{data(e={}){return super.data(e)}}class yo{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new eu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new gh(this._firestore,this._userDataWriter,s.key,s,new eu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new gh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new eu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new gh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new eu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:G2(m.type),doc:p,oldIndex:g,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=yo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=xp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function G2(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(i){i=Un(i,ft);const e=Un(i.firestore,cs);return I2($p(e),i._key).then(n=>$b(e,i,n))}yo._jsonSchemaVersion="firestore/querySnapshot/1.0",yo._jsonSchema={type:Rt("string",yo._jsonSchemaVersion),bundleSource:Rt("string","QuerySnapshot"),bundleName:Rt("string"),bundle:Rt("string")};class Qb extends H2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ft(this.firestore,null,n)}}function K2(i,e,n){i=Un(i,ft);const s=Un(i.firestore,cs),o=Gb(i.converter,e,n);return ff(s,[Lb(cf(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,Ln.none())])}function hp(i,e,n,...s){i=Un(i,ft);const o=Un(i.firestore,cs),u=cf(o);let f;return f=typeof(e=st(e))=="string"||e instanceof lf?U2(u,"updateDoc",i._key,e,n,s):P2(u,"updateDoc",i._key,e),ff(o,[f.toMutation(i._key,Ln.exists(!0))])}function Yb(i){return ff(Un(i.firestore,cs),[new Mp(i._key,Ln.none())])}function Xb(i,e){const n=Un(i.firestore,cs),s=er(i),o=Gb(i.converter,e);return ff(n,[Lb(cf(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Ln.exists(!1))]).then(()=>s)}function Wb(i,...e){i=st(i);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||sE(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(sE(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let u,f,m;if(i instanceof ft)f=Un(i.firestore,cs),m=$h(i._key.path),u={next:p=>{e[s]&&e[s]($b(f,i,p))},error:e[s+1],complete:e[s+2]};else{const p=Un(i,ma);f=Un(p.firestore,cs),m=p._query;const g=new Qb(f);u={next:E=>{e[s]&&e[s](new yo(f,g,p,E))},error:e[s+1],complete:e[s+2]},B2(i._query)}return function(g,E,S,x){const L=new Ob(x),z=new Sb(E,L,S);return g.asyncQueue.enqueueAndForget(async()=>Tb(await up(g),z)),()=>{L.Nu(),g.asyncQueue.enqueueAndForget(async()=>bb(await up(g),z))}}($p(f),m,o,u)}function ff(i,e){return function(s,o){const u=new ts;return s.asyncQueue.enqueueAndForget(async()=>y2(await C2(s),o,u)),u.promise}($p(i),e)}function $b(i,e,n){const s=n.docs.get(e._key),o=new Qb(i);return new ea(i,o,e._key,s,new eu(n.hasPendingWrites,n.fromCache),e.converter)}function au(){return new Jp("serverTimestamp")}(function(e,n=!0){(function(o){Oo=o})(ha),ia(new is("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new cs(new Ux(s.getProvider("auth-internal")),new zx(f,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new he($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pu(g.options.projectId,E)}(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),yi(u0,c0,e),yi(u0,c0,"esm2020")})();var Q2="firebase",Y2="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yi(Q2,Y2,"app");function Zb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const X2=Zb,Jb=new bu("auth","Firebase",Zb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ph=new Sp("@firebase/auth");function W2(i,...e){Ph.logLevel<=Ve.WARN&&Ph.warn(`Auth (${ha}): ${i}`,...e)}function yh(i,...e){Ph.logLevel<=Ve.ERROR&&Ph.error(`Auth (${ha}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(i,...e){throw og(i,...e)}function bi(i,...e){return og(i,...e)}function eS(i,e,n){const s={...X2(),[e]:n};return new bu("auth","Firebase",s).create(e,{appName:i.name})}function Wi(i){return eS(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function og(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return Jb.create(i,...e)}function be(i,e,...n){if(!i)throw og(e,...n)}function Yi(i){const e="INTERNAL ASSERTION FAILED: "+i;throw yh(e),new Error(e)}function tr(i,e){i||Yi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fp(){return typeof self<"u"&&self.location?.href||""}function $2(){return lE()==="http:"||lE()==="https:"}function lE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($2()||mR()||"connection"in navigator)?navigator.onLine:!0}function J2(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,n){this.shortDelay=e,this.longDelay=n,tr(n>e,"Short delay should be less than long delay!"),this.isMobile=hR()||pR()}get(){return Z2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(i,e){tr(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],nD=new Du(3e4,6e4);function ms(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function rr(i,e,n,s,o={}){return nS(i,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=Su({key:i.config.apiKey,...f}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:p,...u};return dR()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&hs(i.emulatorConfig.host)&&(g.credentials="include"),tS.fetch()(await iS(i,i.config.apiHost,n,m),g)})}async function nS(i,e,n){i._canInitEmulator=!1;const s={...eD,...e};try{const o=new rD(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw rh(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw rh(i,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw rh(i,"email-already-in-use",f);if(p==="USER_DISABLED")throw rh(i,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw eS(i,E,g);ei(i,E)}}catch(o){if(o instanceof Ri)throw o;ei(i,"network-request-failed",{message:String(o)})}}async function Nu(i,e,n,s,o={}){const u=await rr(i,e,n,s,o);return"mfaPendingCredential"in u&&ei(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function iS(i,e,n,s){const o=`${e}${n}?${s}`,u=i,f=u.config.emulator?lg(i.config,o):`${i.config.apiScheme}://${o}`;return tD.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function iD(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class rD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(bi(this.auth,"network-request-failed")),nD.get())})}}function rh(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=bi(i,e,s);return o.customData._tokenResponse=n,o}function uE(i){return i!==void 0&&i.enterprise!==void 0}class sD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return iD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function aD(i,e){return rr(i,"GET","/v2/recaptchaConfig",ms(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oD(i,e){return rr(i,"POST","/v1/accounts:delete",e)}async function Uh(i,e){return rr(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lD(i,e=!1){const n=st(i),s=await n.getIdToken(e),o=ug(s);be(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:ou(Om(o.auth_time)),issuedAtTime:ou(Om(o.iat)),expirationTime:ou(Om(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Om(i){return Number(i)*1e3}function ug(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return yh("JWT malformed, contained fewer than 3 sections"),null;try{const o=iT(n);return o?JSON.parse(o):(yh("Failed to decode base64 JWT payload"),null)}catch(o){return yh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function cE(i){const e=ug(i);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Co(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Ri&&uD(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function uD({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ou(this.lastLoginAt),this.creationTime=ou(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lh(i){const e=i.auth,n=await i.getIdToken(),s=await Co(i,Uh(e,{idToken:n}));be(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?rS(o.providerUserInfo):[],f=fD(i.providerData,u),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!f?.length,g=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new dp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,E)}async function hD(i){const e=st(i);await Lh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function fD(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function rS(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dD(i,e){const n=await nS(i,{},async()=>{const s=Su({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=await iS(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&hs(i.emulatorConfig.host)&&(p.credentials="include"),tS.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function mD(i,e){return rr(i,"POST","/v2/accounts:revokeToken",ms(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):cE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=cE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await dD(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new _o;return s&&(be(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(be(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(be(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _o,this.toJSON())}_performRefresh(){return Yi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(i,e){be(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Zn{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new cD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new dp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Co(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return lD(this,e)}reload(){return hD(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Zn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Lh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Tn(this.auth.app))return Promise.reject(Wi(this.auth));const e=await this.getIdToken();return await Co(this,oD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:S,emailVerified:x,isAnonymous:L,providerData:z,stsTokenManager:Y}=n;be(S&&Y,e,"internal-error");const P=_o.fromJSON(this.name,Y);be(typeof S=="string",e,"internal-error"),qr(s,e.name),qr(o,e.name),be(typeof x=="boolean",e,"internal-error"),be(typeof L=="boolean",e,"internal-error"),qr(u,e.name),qr(f,e.name),qr(m,e.name),qr(p,e.name),qr(g,e.name),qr(E,e.name);const re=new Zn({uid:S,auth:e,email:o,emailVerified:x,displayName:s,isAnonymous:L,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:P,createdAt:g,lastLoginAt:E});return z&&Array.isArray(z)&&(re.providerData=z.map(ne=>({...ne}))),p&&(re._redirectEventId=p),re}static async _fromIdTokenResponse(e,n,s=!1){const o=new _o;o.updateFromServerResponse(n);const u=new Zn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Lh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];be(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?rS(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new _o;m.updateFromIdToken(s);const p=new Zn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new dp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE=new Map;function Xi(i){tr(i instanceof Function,"Expected a class definition");let e=hE.get(i);return e?(tr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,hE.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}sS.type="NONE";const fE=sS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _h(i,e,n){return`firebase:${i}:${e}:${n}`}class vo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=_h(this.userKey,o.apiKey,u),this.fullPersistenceKey=_h("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Uh(this.auth,{idToken:e}).catch(()=>{});return n?Zn._fromGetAccountInfoResponse(this.auth,n,e):null}return Zn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new vo(Xi(fE),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Xi(fE);const f=_h(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let S;if(typeof E=="string"){const x=await Uh(e,{idToken:E}).catch(()=>{});if(!x)break;S=await Zn._fromGetAccountInfoResponse(e,x,E)}else S=Zn._fromJSON(e,E);g!==u&&(m=S),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new vo(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new vo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(uS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(aS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hS(e))return"Blackberry";if(fS(e))return"Webos";if(oS(e))return"Safari";if((e.includes("chrome/")||lS(e))&&!e.includes("edge/"))return"Chrome";if(cS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function aS(i=Jt()){return/firefox\//i.test(i)}function oS(i=Jt()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function lS(i=Jt()){return/crios\//i.test(i)}function uS(i=Jt()){return/iemobile/i.test(i)}function cS(i=Jt()){return/android/i.test(i)}function hS(i=Jt()){return/blackberry/i.test(i)}function fS(i=Jt()){return/webos/i.test(i)}function cg(i=Jt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function pD(i=Jt()){return cg(i)&&!!window.navigator?.standalone}function gD(){return gR()&&document.documentMode===10}function dS(i=Jt()){return cg(i)||cS(i)||fS(i)||hS(i)||/windows phone/i.test(i)||uS(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(i,e=[]){let n;switch(i){case"Browser":n=dE(Jt());break;case"Worker":n=`${dE(Jt())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ha}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _D(i,e={}){return rr(i,"GET","/v2/passwordPolicy",ms(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD=6;class ED{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??vD,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mE(this),this.idTokenSubscription=new mE(this),this.beforeStateQueue=new yD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Jb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Xi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await vo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Uh(this,{idToken:e}),s=await Zn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Tn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Lh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=J2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Tn(this.app))return Promise.reject(Wi(this));const n=e?st(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Tn(this.app)?Promise.reject(Wi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Tn(this.app)?Promise.reject(Wi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _D(this),n=new ED(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new bu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await mD(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Xi(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await vo.create(this,[Xi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Tn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&W2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function pa(i){return st(i)}class mE{constructor(e){this.auth=e,this.observer=null,this.addObserver=AR(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let df={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bD(i){df=i}function pS(i){return df.loadJS(i)}function SD(){return df.recaptchaEnterpriseScript}function AD(){return df.gapiScript}function wD(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class RD{constructor(){this.enterprise=new xD}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class xD{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const CD="recaptcha-enterprise",gS="NO_RECAPTCHA";class ID{constructor(e){this.type=CD,this.auth=pa(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{aD(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new sD(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;uE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(gS)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new RD().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&uE(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=SD();p.length!==0&&(p+=m),pS(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function pE(i,e,n,s=!1,o=!1){const u=new ID(i);let f;if(o)f=gS;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function mp(i,e,n,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await pE(i,e,n,n==="getOobCode");return s(i,u)}else return s(i,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await pE(i,e,n,n==="getOobCode");return s(i,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(i,e){const n=Kh(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(na(u,e??{}))return o;ei(o,"already-initialized")}return n.initialize({options:e})}function ND(i,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Xi);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function OD(i,e,n){const s=pa(i);be(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=yS(e),{host:f,port:m}=kD(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){be(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),be(na(g,s.config.emulator)&&na(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,hs(f)?(Tp(`${u}//${f}${p}`),bp("Auth",!0)):MD()}function yS(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function kD(i){const e=yS(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:gE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:gE(f)}}}function gE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function MD(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Yi("not implemented")}_getIdTokenResponse(e){return Yi("not implemented")}_linkToIdToken(e,n){return Yi("not implemented")}_getReauthenticationResolver(e){return Yi("not implemented")}}async function VD(i,e){return rr(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PD(i,e){return Nu(i,"POST","/v1/accounts:signInWithPassword",ms(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UD(i,e){return Nu(i,"POST","/v1/accounts:signInWithEmailLink",ms(i,e))}async function LD(i,e){return Nu(i,"POST","/v1/accounts:signInWithEmailLink",ms(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu extends hg{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Tu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Tu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mp(e,n,"signInWithPassword",PD);case"emailLink":return UD(e,{email:this._email,oobCode:this._password});default:ei(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mp(e,s,"signUpPassword",VD);case"emailLink":return LD(e,{idToken:n,email:this._email,oobCode:this._password});default:ei(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eo(i,e){return Nu(i,"POST","/v1/accounts:signInWithIdp",ms(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD="http://localhost";class aa extends hg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new aa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ei("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new aa(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Eo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Eo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Eo(e,n)}buildRequest(){const e={requestUri:jD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Su(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function BD(i){const e=Xl(Wl(i)).link,n=e?Xl(Wl(e)).deep_link_id:null,s=Xl(Wl(i)).deep_link_id;return(s?Xl(Wl(s)).link:null)||s||n||e||i}class fg{constructor(e){const n=Xl(Wl(e)),s=n.apiKey??null,o=n.oobCode??null,u=zD(n.mode??null);be(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=BD(e);try{return new fg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(){this.providerId=Uo.PROVIDER_ID}static credential(e,n){return Tu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=fg.parseLink(n);return be(s,"argument-error"),Tu._fromEmailAndCode(e,s.code,s.tenantId)}}Uo.PROVIDER_ID="password";Uo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Uo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou extends _S{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr extends Ou{constructor(){super("facebook.com")}static credential(e){return aa._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hr.credentialFromTaggedObject(e)}static credentialFromError(e){return Hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hr.credential(e.oauthAccessToken)}catch{return null}}}Hr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends Ou{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return aa._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Gr.credentialFromTaggedObject(e)}static credentialFromError(e){return Gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Gr.credential(n,s)}catch{return null}}}Gr.GOOGLE_SIGN_IN_METHOD="google.com";Gr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends Ou{constructor(){super("github.com")}static credential(e){return aa._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Kr.credential(e.oauthAccessToken)}catch{return null}}}Kr.GITHUB_SIGN_IN_METHOD="github.com";Kr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends Ou{constructor(){super("twitter.com")}static credential(e,n){return aa._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Qr.credential(n,s)}catch{return null}}}Qr.TWITTER_SIGN_IN_METHOD="twitter.com";Qr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qD(i,e){return Nu(i,"POST","/v1/accounts:signUp",ms(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Zn._fromIdTokenResponse(e,s,o),f=yE(s);return new oa({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=yE(s);return new oa({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function yE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh extends Ri{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,jh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new jh(e,n,s,o)}}function vS(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?jh._fromErrorAndOperation(i,u,e,s):u})}async function FD(i,e,n=!1){const s=await Co(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return oa._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HD(i,e,n=!1){const{auth:s}=i;if(Tn(s.app))return Promise.reject(Wi(s));const o="reauthenticate";try{const u=await Co(i,vS(s,o,e,i),n);be(u.idToken,s,"internal-error");const f=ug(u.idToken);be(f,s,"internal-error");const{sub:m}=f;return be(i.uid===m,s,"user-mismatch"),oa._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ei(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ES(i,e,n=!1){if(Tn(i.app))return Promise.reject(Wi(i));const s="signIn",o=await vS(i,s,e),u=await oa._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function GD(i,e){return ES(pa(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TS(i){const e=pa(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function KD(i,e,n){if(Tn(i.app))return Promise.reject(Wi(i));const s=pa(i),f=await mp(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",qD).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&TS(i),p}),m=await oa._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function QD(i,e,n){return Tn(i.app)?Promise.reject(Wi(i)):GD(st(i),Uo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&TS(i),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YD(i,e){return rr(i,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XD(i,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=st(i),u={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},f=await Co(s,YD(s.auth,u));s.displayName=f.displayName||null,s.photoURL=f.photoUrl||null;const m=s.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(f)}function WD(i,e,n,s){return st(i).onIdTokenChanged(e,n,s)}function $D(i,e,n){return st(i).beforeAuthStateChanged(e,n)}function ZD(i,e,n,s){return st(i).onAuthStateChanged(e,n,s)}function _E(i){return st(i).signOut()}const zh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(zh,"1"),this.storage.removeItem(zh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD=1e3,eN=10;class SS extends bS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=dS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);gD()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,eN):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},JD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}SS.type="LOCAL";const tN=SS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS extends bS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}AS.type="SESSION";const wS=AS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nN(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new mf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await nN(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=dg("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(S){const x=S;if(x.data.eventId===g)switch(x.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(x.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(){return window}function rN(i){Si().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(){return typeof Si().WorkerGlobalScope<"u"&&typeof Si().importScripts=="function"}async function sN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function aN(){return navigator?.serviceWorker?.controller||null}function oN(){return RS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS="firebaseLocalStorageDb",lN=1,Bh="firebaseLocalStorage",CS="fbase_key";class ku{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function pf(i,e){return i.transaction([Bh],e?"readwrite":"readonly").objectStore(Bh)}function uN(){const i=indexedDB.deleteDatabase(xS);return new ku(i).toPromise()}function pp(){const i=indexedDB.open(xS,lN);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Bh,{keyPath:CS})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Bh)?e(s):(s.close(),await uN(),e(await pp()))})})}async function vE(i,e,n){const s=pf(i,!0).put({[CS]:e,value:n});return new ku(s).toPromise()}async function cN(i,e){const n=pf(i,!1).get(e),s=await new ku(n).toPromise();return s===void 0?null:s.value}function EE(i,e){const n=pf(i,!0).delete(e);return new ku(n).toPromise()}const hN=800,fN=3;class IS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await pp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>fN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return RS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mf._getInstance(oN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await sN(),!this.activeServiceWorker)return;this.sender=new iN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||aN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await pp();return await vE(e,zh,"1"),await EE(e,zh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>vE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>cN(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>EE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=pf(o,!1).getAll();return new ku(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IS.type="LOCAL";const dN=IS;new Du(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(i,e){return e?Xi(e):(be(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg extends hg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Eo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Eo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Eo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function pN(i){return ES(i.auth,new mg(i),i.bypassAuthState)}function gN(i){const{auth:e,user:n}=i;return be(n,e,"internal-error"),HD(n,new mg(i),i.bypassAuthState)}async function yN(i){const{auth:e,user:n}=i;return be(n,e,"internal-error"),FD(n,new mg(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pN;case"linkViaPopup":case"linkViaRedirect":return yN;case"reauthViaPopup":case"reauthViaRedirect":return gN;default:ei(this.auth,"internal-error")}}resolve(e){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N=new Du(2e3,1e4);class po extends DS{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,po.currentPopupAction&&po.currentPopupAction.cancel(),po.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){tr(this.filter.length===1,"Popup operations only handle one event");const e=dg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,po.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_N.get())};e()}}po.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN="pendingRedirect",vh=new Map;class EN extends DS{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=vh.get(this.auth._key());if(!e){try{const s=await TN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}vh.set(this.auth._key(),e)}return this.bypassAuthState||vh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function TN(i,e){const n=AN(e),s=SN(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function bN(i,e){vh.set(i._key(),e)}function SN(i){return Xi(i._redirectPersistence)}function AN(i){return _h(vN,i.config.apiKey,i.name)}async function wN(i,e,n=!1){if(Tn(i.app))return Promise.reject(Wi(i));const s=pa(i),o=mN(s,e),f=await new EN(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN=10*60*1e3;class xN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!CN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!NS(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(bi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=RN&&this.cachedEventUids.clear(),this.cachedEventUids.has(TE(e))}saveEventToCache(e){this.cachedEventUids.add(TE(e)),this.lastProcessedEventTime=Date.now()}}function TE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function NS({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function CN(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return NS(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IN(i,e={}){return rr(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,NN=/^https?/;async function ON(i){if(i.config.emulator)return;const{authorizedDomains:e}=await IN(i);for(const n of e)try{if(kN(n))return}catch{}ei(i,"unauthorized-domain")}function kN(i){const e=fp(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!NN.test(n))return!1;if(DN.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=new Du(3e4,6e4);function bE(){const i=Si().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function VN(i){return new Promise((e,n)=>{function s(){bE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{bE(),n(bi(i,"network-request-failed"))},timeout:MN.get()})}if(Si().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Si().gapi?.load)s();else{const o=wD("iframefcb");return Si()[o]=()=>{gapi.load?s():n(bi(i,"network-request-failed"))},pS(`${AD()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Eh=null,e})}let Eh=null;function PN(i){return Eh=Eh||VN(i),Eh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN=new Du(5e3,15e3),LN="__/auth/iframe",jN="emulator/auth/iframe",zN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},BN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qN(i){const e=i.config;be(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?lg(e,jN):`https://${i.config.authDomain}/${LN}`,s={apiKey:e.apiKey,appName:i.name,v:ha},o=BN.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Su(s).slice(1)}`}async function FN(i){const e=await PN(i),n=Si().gapi;return be(n,i,"internal-error"),e.open({where:document.body,url:qN(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=bi(i,"network-request-failed"),m=Si().setTimeout(()=>{u(f)},UN.get());function p(){Si().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},GN=500,KN=600,QN="_blank",YN="http://localhost";class SE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function XN(i,e,n,s=GN,o=KN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...HN,width:s.toString(),height:o.toString(),top:u,left:f},g=Jt().toLowerCase();n&&(m=lS(g)?QN:n),aS(g)&&(e=e||YN,p.scrollbars="yes");const E=Object.entries(p).reduce((x,[L,z])=>`${x}${L}=${z},`,"");if(pD(g)&&m!=="_self")return WN(e||"",m),new SE(null);const S=window.open(e||"",m,E);be(S,i,"popup-blocked");try{S.focus()}catch{}return new SE(S)}function WN(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N="__/auth/handler",ZN="emulator/auth/handler",JN=encodeURIComponent("fac");async function AE(i,e,n,s,o,u){be(i.config.authDomain,i,"auth-domain-config-required"),be(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:ha,eventId:o};if(e instanceof _S){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",SR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))f[E]=S}if(e instanceof Ou){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(f.scopes=E.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await i._getAppCheckToken(),g=p?`#${JN}=${encodeURIComponent(p)}`:"";return`${eO(i)}?${Su(m).slice(1)}${g}`}function eO({config:i}){return i.emulator?lg(i,ZN):`https://${i.authDomain}/${$N}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km="webStorageSupport";class tO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wS,this._completeRedirectFn=wN,this._overrideRedirectResult=bN}async _openPopup(e,n,s,o){tr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await AE(e,n,s,fp(),o);return XN(e,u,dg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await AE(e,n,s,fp(),o);return rN(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(tr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await FN(e),s=new xN(e);return n.register("authEvent",o=>(be(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(km,{type:km},o=>{const u=o?.[0]?.[km];u!==void 0&&n(!!u),ei(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ON(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return dS()||oS()||cg()}}const nO=tO;var wE="@firebase/auth",RE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rO(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sO(i){ia(new is("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;be(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mS(i)},g=new TD(s,o,u,p);return ND(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ia(new is("auth-internal",e=>{const n=pa(e.getProvider("auth").getImmediate());return(s=>new iO(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),yi(wE,RE,rO(i)),yi(wE,RE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO=5*60,oO=oT("authIdTokenMaxAge")||aO;let xE=null;const lO=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>oO)return;const o=n?.token;xE!==o&&(xE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function uO(i=wp()){const e=Kh(i,"auth");if(e.isInitialized())return e.getImmediate();const n=DD(i,{popupRedirectResolver:nO,persistence:[dN,tN,wS]}),s=oT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=lO(u.toString());$D(n,f,()=>f(n.currentUser)),WD(n,m=>f(m))}}const o=rT("auth");return o&&OD(n,`http://${o}`),n}function cO(){return document.getElementsByTagName("head")?.[0]??document}bD({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=bi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",cO().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sO("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS="firebasestorage.googleapis.com",kS="storageBucket",hO=2*60*1e3,fO=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt extends Ri{constructor(e,n,s=0){super(Mm(e),`Firebase Storage: ${n} (${Mm(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,mt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Mm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var dt;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(dt||(dt={}));function Mm(i){return"storage/"+i}function pg(){const i="An unknown error occurred, please check the error payload for server response.";return new mt(dt.UNKNOWN,i)}function dO(i){return new mt(dt.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function mO(i){return new mt(dt.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function pO(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new mt(dt.UNAUTHENTICATED,i)}function gO(){return new mt(dt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function yO(i){return new mt(dt.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function _O(){return new mt(dt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function vO(){return new mt(dt.CANCELED,"User canceled the upload/download.")}function EO(i){return new mt(dt.INVALID_URL,"Invalid URL '"+i+"'.")}function TO(i){return new mt(dt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function bO(){return new mt(dt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+kS+"' property when initializing the app?")}function SO(){return new mt(dt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function AO(){return new mt(dt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function wO(i){return new mt(dt.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function gp(i){return new mt(dt.INVALID_ARGUMENT,i)}function MS(){return new mt(dt.APP_DELETED,"The Firebase app was deleted.")}function RO(i){return new mt(dt.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function lu(i,e){return new mt(dt.INVALID_FORMAT,"String does not match format '"+i+"': "+e)}function Ql(i){throw new mt(dt.INTERNAL_ERROR,"Internal error: "+i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Sn.makeFromUrl(e,n)}catch{return new Sn(e,"")}if(s.path==="")return s;throw TO(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(oe){oe.path.charAt(oe.path.length-1)==="/"&&(oe.path_=oe.path_.slice(0,-1))}const f="(/(.*))?$",m=new RegExp("^gs://"+o+f,"i"),p={bucket:1,path:3};function g(oe){oe.path_=decodeURIComponent(oe.path)}const E="v[A-Za-z0-9_]+",S=n.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",L=new RegExp(`^https?://${S}/${E}/b/${o}/o${x}`,"i"),z={bucket:1,path:3},Y=n===OS?"(?:storage.googleapis.com|storage.cloud.google.com)":n,P="([^?#]*)",re=new RegExp(`^https?://${Y}/${o}/${P}`,"i"),te=[{regex:m,indices:p,postModify:u},{regex:L,indices:z,postModify:g},{regex:re,indices:{bucket:1,path:2},postModify:g}];for(let oe=0;oe<te.length;oe++){const ue=te[oe],ae=ue.regex.exec(e);if(ae){const D=ae[ue.indices.bucket];let w=ae[ue.indices.path];w||(w=""),s=new Sn(D,w),ue.postModify(s);break}}if(s==null)throw EO(e);return s}}class xO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CO(i,e,n){let s=1,o=null,u=null,f=!1,m=0;function p(){return m===2}let g=!1;function E(...P){g||(g=!0,e.apply(null,P))}function S(P){o=setTimeout(()=>{o=null,i(L,p())},P)}function x(){u&&clearTimeout(u)}function L(P,...re){if(g){x();return}if(P){x(),E.call(null,P,...re);return}if(p()||f){x(),E.call(null,P,...re);return}s<64&&(s*=2);let te;m===1?(m=2,te=0):te=(s+Math.random())*1e3,S(te)}let z=!1;function Y(P){z||(z=!0,x(),!g&&(o!==null?(P||(m=2),clearTimeout(o),S(0)):P||(m=1)))}return S(0),u=setTimeout(()=>{f=!0,Y(!0)},n),Y}function IO(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DO(i){return i!==void 0}function NO(i){return typeof i=="object"&&!Array.isArray(i)}function gg(i){return typeof i=="string"||i instanceof String}function CE(i){return yg()&&i instanceof Blob}function yg(){return typeof Blob<"u"}function IE(i,e,n,s){if(s<e)throw gp(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>n)throw gp(`Invalid value for '${i}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _g(i,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${i}`}function VS(i){const e=encodeURIComponent;let n="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var ta;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(ta||(ta={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(i,e){const n=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e,n,s,o,u,f,m,p,g,E,S,x=!0,L=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=E,this.connectionFactory_=S,this.retry=x,this.isUsingEmulator=L,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((z,Y)=>{this.resolve_=z,this.reject_=Y,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new sh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const f=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const m=u.getErrorCode()===ta.NO_ERROR,p=u.getStatus();if(!m||OO(p,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===ta.ABORT;s(!1,new sh(!1,null,E));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new sh(g,u))})},n=(s,o)=>{const u=this.resolve_,f=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());DO(p)?u(p):u()}catch(p){f(p)}else if(m!==null){const p=pg();p.serverResponse=m.getErrorText(),this.errorCallback_?f(this.errorCallback_(m,p)):f(p)}else if(o.canceled){const p=this.appDelete_?MS():vO();f(p)}else{const p=_O();f(p)}};this.canceled_?n(!1,new sh(!1,null,!0)):this.backoffId_=CO(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&IO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class sh{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function MO(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function VO(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function PO(i,e){e&&(i["X-Firebase-GMPID"]=e)}function UO(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function LO(i,e,n,s,o,u,f=!0,m=!1){const p=VS(i.urlParams),g=i.url+p,E=Object.assign({},i.headers);return PO(E,e),MO(E,n),VO(E,u),UO(E,s),new kO(g,i.method,E,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,f,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jO(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function zO(...i){const e=jO();if(e!==void 0){const n=new e;for(let s=0;s<i.length;s++)n.append(i[s]);return n.getBlob()}else{if(yg())return new Blob(i);throw new mt(dt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function BO(i,e,n){return i.webkitSlice?i.webkitSlice(e,n):i.mozSlice?i.mozSlice(e,n):i.slice?i.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qO(i){if(typeof atob>"u")throw wO("base-64");return atob(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Vm{constructor(e,n){this.data=e,this.contentType=n||null}}function FO(i,e){switch(i){case gi.RAW:return new Vm(PS(e));case gi.BASE64:case gi.BASE64URL:return new Vm(US(i,e));case gi.DATA_URL:return new Vm(GO(e),KO(e))}throw pg()}function PS(i){const e=[];for(let n=0;n<i.length;n++){let s=i.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<i.length-1&&(i.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const u=s,f=i.charCodeAt(++n);s=65536|(u&1023)<<10|f&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function HO(i){let e;try{e=decodeURIComponent(i)}catch{throw lu(gi.DATA_URL,"Malformed data URL.")}return PS(e)}function US(i,e){switch(i){case gi.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw lu(i,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case gi.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw lu(i,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=qO(e)}catch(o){throw o.message.includes("polyfill")?o:lu(i,"Invalid character found")}const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}class LS{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw lu(gi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=QO(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function GO(i){const e=new LS(i);return e.base64?US(gi.BASE64,e.rest):HO(e.rest)}function KO(i){return new LS(i).contentType}function QO(i,e){return i.length>=e.length?i.substring(i.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e,n){let s=0,o="";CE(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(CE(this.data_)){const s=this.data_,o=BO(s,e,n);return o===null?null:new Yr(o)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new Yr(s,!0)}}static getBlob(...e){if(yg()){const n=e.map(s=>s instanceof Yr?s.data_:s);return new Yr(zO.apply(null,n))}else{const n=e.map(f=>gg(f)?FO(gi.RAW,f).data:f.data_);let s=0;n.forEach(f=>{s+=f.byteLength});const o=new Uint8Array(s);let u=0;return n.forEach(f=>{for(let m=0;m<f.length;m++)o[u++]=f[m]}),new Yr(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(i){let e;try{e=JSON.parse(i)}catch{return null}return NO(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YO(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function XO(i,e){const n=e.split("/").filter(s=>s.length>0).join("/");return i.length===0?n:i+"/"+n}function zS(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WO(i,e){return e}class an{constructor(e,n,s,o){this.server=e,this.local=n||e,this.writable=!!s,this.xform=o||WO}}let ah=null;function $O(i){return!gg(i)||i.length<2?i:zS(i)}function BS(){if(ah)return ah;const i=[];i.push(new an("bucket")),i.push(new an("generation")),i.push(new an("metageneration")),i.push(new an("name","fullPath",!0));function e(u,f){return $O(f)}const n=new an("name");n.xform=e,i.push(n);function s(u,f){return f!==void 0?Number(f):f}const o=new an("size");return o.xform=s,i.push(o),i.push(new an("timeCreated")),i.push(new an("updated")),i.push(new an("md5Hash",null,!0)),i.push(new an("cacheControl",null,!0)),i.push(new an("contentDisposition",null,!0)),i.push(new an("contentEncoding",null,!0)),i.push(new an("contentLanguage",null,!0)),i.push(new an("contentType",null,!0)),i.push(new an("metadata","customMetadata",!0)),ah=i,ah}function ZO(i,e){function n(){const s=i.bucket,o=i.fullPath,u=new Sn(s,o);return e._makeStorageReference(u)}Object.defineProperty(i,"ref",{get:n})}function JO(i,e,n){const s={};s.type="file";const o=n.length;for(let u=0;u<o;u++){const f=n[u];s[f.local]=f.xform(s,e[f.server])}return ZO(s,i),s}function qS(i,e,n){const s=jS(e);return s===null?null:JO(i,s,n)}function ek(i,e,n,s){const o=jS(e);if(o===null||!gg(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const f=encodeURIComponent;return u.split(",").map(g=>{const E=i.bucket,S=i.fullPath,x="/b/"+f(E)+"/o/"+f(S),L=_g(x,n,s),z=VS({alt:"media",token:g});return L+z})[0]}function tk(i,e){const n={},s=e.length;for(let o=0;o<s;o++){const u=e[o];u.writable&&(n[u.server]=i[u.local])}return JSON.stringify(n)}class FS{constructor(e,n,s,o){this.url=e,this.method=n,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(i){if(!i)throw pg()}function nk(i,e){function n(s,o){const u=qS(i,o,e);return HS(u!==null),u}return n}function ik(i,e){function n(s,o){const u=qS(i,o,e);return HS(u!==null),ek(u,o,i.host,i._protocol)}return n}function GS(i){function e(n,s){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=gO():o=pO():n.getStatus()===402?o=mO(i.bucket):n.getStatus()===403?o=yO(i.path):o=s,o.status=n.getStatus(),o.serverResponse=s.serverResponse,o}return e}function rk(i){const e=GS(i);function n(s,o){let u=e(s,o);return s.getStatus()===404&&(u=dO(i.path)),u.serverResponse=o.serverResponse,u}return n}function sk(i,e,n){const s=e.fullServerUrl(),o=_g(s,i.host,i._protocol),u="GET",f=i.maxOperationRetryTime,m=new FS(o,u,ik(i,n),f);return m.errorHandler=rk(e),m}function ak(i,e){return i&&i.contentType||e&&e.type()||"application/octet-stream"}function ok(i,e,n){const s=Object.assign({},n);return s.fullPath=i.path,s.size=e.size(),s.contentType||(s.contentType=ak(null,e)),s}function lk(i,e,n,s,o){const u=e.bucketOnlyServerUrl(),f={"X-Goog-Upload-Protocol":"multipart"};function m(){let te="";for(let oe=0;oe<2;oe++)te=te+Math.random().toString().slice(2);return te}const p=m();f["Content-Type"]="multipart/related; boundary="+p;const g=ok(e,s,o),E=tk(g,n),S="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+E+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,x=`\r
--`+p+"--",L=Yr.getBlob(S,s,x);if(L===null)throw SO();const z={name:g.fullPath},Y=_g(u,i.host,i._protocol),P="POST",re=i.maxUploadRetryTime,ne=new FS(Y,P,nk(i,n),re);return ne.urlParams=z,ne.headers=f,ne.body=L.uploadData(),ne.errorHandler=GS(e),ne}class uk{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ta.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ta.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ta.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,o,u){if(this.sent_)throw Ql("cannot .send() more than once");if(hs(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),u!==void 0)for(const f in u)u.hasOwnProperty(f)&&this.xhr_.setRequestHeader(f,u[f].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ql("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ql("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ql("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ql("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class ck extends uk{initXhr(){this.xhr_.responseType="text"}}function KS(){return new ck}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,n){this._service=e,n instanceof Sn?this._location=n:this._location=Sn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new la(e,n)}get root(){const e=new Sn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return zS(this._location.path)}get storage(){return this._service}get parent(){const e=YO(this._location.path);if(e===null)return null;const n=new Sn(this._location.bucket,e);return new la(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw RO(e)}}function hk(i,e,n){i._throwIfRoot("uploadBytes");const s=lk(i.storage,i._location,BS(),new Yr(e,!0),n);return i.storage.makeRequestWithTokens(s,KS).then(o=>({metadata:o,ref:i}))}function fk(i){i._throwIfRoot("getDownloadURL");const e=sk(i.storage,i._location,BS());return i.storage.makeRequestWithTokens(e,KS).then(n=>{if(n===null)throw AO();return n})}function dk(i,e){const n=XO(i._location.path,e),s=new Sn(i._location.bucket,n);return new la(i.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mk(i){return/^[A-Za-z]+:\/\//.test(i)}function pk(i,e){return new la(i,e)}function QS(i,e){if(i instanceof vg){const n=i;if(n._bucket==null)throw bO();const s=new la(n,n._bucket);return e!=null?QS(s,e):s}else return e!==void 0?dk(i,e):i}function gk(i,e){if(e&&mk(e)){if(i instanceof vg)return pk(i,e);throw gp("To use ref(service, url), the first argument must be a Storage instance.")}else return QS(i,e)}function DE(i,e){const n=e?.[kS];return n==null?null:Sn.makeFromBucketSpec(n,i)}function yk(i,e,n,s={}){i.host=`${e}:${n}`;const o=hs(e);o&&(Tp(`https://${i.host}/b`),bp("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(i._overrideAuthToken=typeof u=="string"?u:lT(u,i.app.options.projectId))}class vg{constructor(e,n,s,o,u,f=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=f,this._bucket=null,this._host=OS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=hO,this._maxUploadRetryTime=fO,this._requests=new Set,o!=null?this._bucket=Sn.makeFromBucketSpec(o,this._host):this._bucket=DE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Sn.makeFromBucketSpec(this._url,e):this._bucket=DE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){IE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){IE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Tn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new la(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new xO(MS());{const f=LO(e,this._appId,s,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const NE="@firebase/storage",OE="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS="storage";function XS(i,e,n){return i=st(i),hk(i,e,n)}function WS(i){return i=st(i),fk(i)}function $S(i,e){return i=st(i),gk(i,e)}function _k(i=wp(),e){i=st(i);const s=Kh(i,YS).getImmediate({identifier:e}),o=sT("storage");return o&&vk(s,...o),s}function vk(i,e,n,s={}){yk(i,e,n,s)}function Ek(i,{instanceIdentifier:e}){const n=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new vg(n,s,o,e,ha)}function Tk(){ia(new is(YS,Ek,"PUBLIC").setMultipleInstances(!0)),yi(NE,OE,""),yi(NE,OE,"esm2020")}Tk();const bk={apiKey:"AIzaSyD-7jepN9PAOze4SNQJ4pgYThvfwNylMpE",authDomain:"velas-santamarta.firebaseapp.com",projectId:"velas-santamarta",storageBucket:"velas-santamarta.firebasestorage.app",messagingSenderId:"643690285491",appId:"1:643690285491:web:3bc9600444cf0972ace3c6",measurementId:"G-VW13682S10"},Eg=hT(bk),uu=uO(Eg),jn=N2(Eg),ZS=_k(Eg);function Io(i,...e){const[n,s]=Q.useState([]),[o,u]=Q.useState(!0);return Q.useEffect(()=>{const f=e.length?q2(Mh(jn,i),...e):Mh(jn,i),m=Wb(f,p=>{s(p.docs.map(g=>({id:g.id,...g.data()}))),u(!1)});return()=>m()},[i]),{data:n,loading:o}}const Sk=({product:i})=>{const[e,n]=Q.useState(!1),s=i.images?.length?i.images:i.imageUrl?[i.imageUrl]:[],o=s.length>=2;return T.jsxs("div",{style:{backgroundColor:"var(--vsm-white)",borderRadius:"6px",overflow:"hidden",boxShadow:"0 2px 10px rgba(0,0,0,0.07)"},children:[T.jsxs("div",{style:{position:"relative",aspectRatio:"1",backgroundColor:"#F0EBE3",overflow:"hidden",cursor:o?"pointer":"default"},onMouseEnter:()=>o&&n(!0),onMouseLeave:()=>n(!1),children:[i.stock===0&&T.jsx("span",{style:{position:"absolute",top:"8px",left:"8px",zIndex:2,backgroundColor:"#DC2626",color:"#fff",fontSize:"10px",fontWeight:700,padding:"3px 8px",textTransform:"uppercase",letterSpacing:"0.08em",borderRadius:"2px"},children:"Agotado"}),s.length>0?T.jsxs(T.Fragment,{children:[T.jsx("img",{src:s[0],alt:i.name,style:{position:"absolute",inset:0,width:"100%",height:"100%",objectFit:"cover",opacity:e?0:1,transition:"opacity 0.4s ease"}}),s[1]&&T.jsx("img",{src:s[1],alt:i.name,style:{position:"absolute",inset:0,width:"100%",height:"100%",objectFit:"cover",opacity:e?1:0,transition:"opacity 0.4s ease"}})]}):T.jsx("div",{className:"w-full h-full flex items-center justify-center text-6xl",children:""})]}),T.jsxs("div",{style:{padding:"1rem"},children:[T.jsx("h3",{style:{fontSize:"13px",fontWeight:600,marginBottom:"4px",color:"var(--vsm-black)"},children:i.name}),T.jsx("p",{style:{fontSize:"10px",color:"var(--vsm-gray-mid)",marginBottom:"8px",lineHeight:1.5,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:i.description}),T.jsx("p",{style:{fontSize:"16px",fontWeight:800,color:"var(--vsm-black)",marginBottom:"12px"},children:new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",maximumFractionDigits:0}).format(i.price)}),T.jsx(ir,{to:`/juguetes/${i.id}`,style:{display:"block",textAlign:"center",backgroundColor:i.stock===0?"var(--vsm-gray-mid)":"var(--vsm-brand)",color:"#fff",fontSize:"11px",fontWeight:700,padding:"10px",textTransform:"uppercase",letterSpacing:"0.07em",borderRadius:"4px",textDecoration:"none",pointerEvents:i.stock===0?"none":"auto"},className:"hover:opacity-90 transition-opacity",children:i.stock===0?"Agotado":"Ver producto"})]})]})},Ak=()=>T.jsxs("div",{style:{backgroundColor:"var(--vsm-white)",borderRadius:"6px",overflow:"hidden",boxShadow:"0 2px 10px rgba(0,0,0,0.07)"},children:[T.jsx("div",{style:{aspectRatio:"1",backgroundColor:"var(--vsm-gray)",animation:"pulse 1.5s ease-in-out infinite"}}),T.jsxs("div",{style:{padding:"1rem",display:"flex",flexDirection:"column",gap:"8px"},children:[T.jsx("div",{style:{height:"13px",backgroundColor:"var(--vsm-gray)",borderRadius:"3px",width:"70%",animation:"pulse 1.5s ease-in-out infinite"}}),T.jsx("div",{style:{height:"10px",backgroundColor:"var(--vsm-gray)",borderRadius:"3px",width:"90%",animation:"pulse 1.5s ease-in-out infinite"}}),T.jsx("div",{style:{height:"20px",backgroundColor:"var(--vsm-gray)",borderRadius:"3px",width:"45%",animation:"pulse 1.5s ease-in-out infinite"}})]})]}),wk=()=>{const{data:i,loading:e}=Io("products");return T.jsx("section",{style:{backgroundColor:"var(--vsm-bg)"},className:"py-20 px-8",children:T.jsxs("div",{className:"max-w-7xl mx-auto",children:[T.jsx("h2",{style:{fontWeight:800,fontSize:"1.6rem",color:"var(--vsm-black)",marginBottom:"1.75rem"},children:"Nuestros Productos"}),T.jsx(Vw,{}),e?T.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-5",children:Array.from({length:6}).map((n,s)=>T.jsx(Ak,{},s))}):i.length===0?T.jsx("p",{style:{color:"var(--vsm-gray-mid)",fontSize:"14px"},children:"No hay productos disponibles an."}):T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-5",children:i.map(n=>T.jsx(Sk,{product:n},n.id))}),T.jsx("div",{style:{textAlign:"center",marginTop:"2.5rem"},children:T.jsx(ir,{to:"/juguetes",style:{color:"var(--vsm-brand)",fontWeight:700,fontSize:"13px",textDecoration:"underline",textUnderlineOffset:"4px"},children:"Ver todos los productos "})})]})]})})},Rk=[{icon:"",name:"Velas de Soya"},{icon:"",name:"Velas de Cera de Abeja"},{icon:"",name:"Velas Decorativas"},{icon:"",name:"Velas Aromticas"}],xk=()=>T.jsx("section",{style:{backgroundColor:"var(--vsm-white)"},className:"py-20 px-8",children:T.jsxs("div",{className:"max-w-7xl mx-auto",children:[T.jsx("h2",{style:{fontWeight:800,fontSize:"1.6rem",textAlign:"center",color:"var(--vsm-black)",marginBottom:"1rem"},children:"Tipos de Velas Artesanales"}),T.jsx("p",{style:{color:"var(--vsm-gray-mid)",textAlign:"center",maxWidth:"650px",margin:"0 auto 2.5rem",lineHeight:1.8,fontSize:"14px"},children:"Ofrecemos ms de 6 tipos de velas artesanales con variedad de diseos y ms de 10 aromas exclusivos para crear la experiencia perfecta en tu hogar o como regalo especial."}),T.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-5",children:Rk.map(i=>T.jsxs(ir,{to:"/juguetes",style:{backgroundColor:"var(--vsm-white)",borderRadius:"8px",overflow:"hidden",boxShadow:"0 2px 12px rgba(0,0,0,0.08)",textDecoration:"none"},className:"hover:shadow-md transition-shadow",children:[T.jsx("div",{style:{backgroundColor:"#FBF6F0",aspectRatio:"1",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"3rem"},children:i.icon}),T.jsx("p",{style:{fontWeight:700,fontSize:"13px",padding:"0.75rem",textAlign:"center",color:"var(--vsm-black)"},children:i.name})]},i.name))})]})}),Ck=[{stars:5,text:'"Las velas ms hermosas que he tenido. El aroma a coco me transporta directamente al Caribe. Las recomiendo 100%!"',author:"Mara Martnez, Bogot"},{stars:5,text:'"Compr el pack de lavanda y sndalo para regalar y quedaron fascinados. La presentacin es preciosa y el aroma dura muchsimo."',author:"Andrs Gmez, Medelln"},{stars:5,text:'"Calidad artesanal increble. Se nota que estn hechas con amor y buenos materiales. Ya ped mi tercer pedido."',author:"Luca Herrera, Cali"}],Ik=()=>T.jsx("section",{id:"nosotros",style:{backgroundColor:"var(--vsm-bg)"},className:"py-20 px-8",children:T.jsxs("div",{className:"max-w-7xl mx-auto",children:[T.jsx("h2",{style:{fontWeight:800,fontSize:"1.6rem",textAlign:"center",color:"var(--vsm-black)",marginBottom:"2.5rem"},children:"Lo que dicen nuestros clientes"}),T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:Ck.map((i,e)=>T.jsxs("div",{style:{backgroundColor:"var(--vsm-white)",borderRadius:"8px",padding:"1.5rem",boxShadow:"0 2px 10px rgba(0,0,0,0.06)"},children:[T.jsx("div",{style:{fontSize:"14px",color:"#F5A623",marginBottom:"0.75rem"},children:"".repeat(i.stars)}),T.jsx("p",{style:{color:"var(--vsm-gray-mid)",fontSize:"14px",lineHeight:1.75,marginBottom:"1rem",fontStyle:"italic"},children:i.text}),T.jsxs("p",{style:{fontWeight:700,fontSize:"12px",color:"var(--vsm-black)"},children:[" ",i.author]})]},e))})]})}),Dk=()=>T.jsxs("section",{style:{backgroundColor:"var(--vsm-brand)",color:"#fff"},className:"py-16 px-8 text-center",children:[T.jsx("h2",{style:{fontWeight:800,fontSize:"1.75rem",marginBottom:"0.5rem"},children:"Regstrate y obtn 10% OFF"}),T.jsx("p",{style:{fontSize:"15px",opacity:.85,marginBottom:"2rem"},children:"en tu primera compra"}),T.jsxs("form",{className:"flex flex-col sm:flex-row gap-3 max-w-md mx-auto",onSubmit:i=>i.preventDefault(),children:[T.jsx("input",{type:"email",placeholder:"tu@correo.com",style:{flex:1,padding:"12px 16px",borderRadius:"5px",border:"none",fontSize:"14px",outline:"none",color:"var(--vsm-black)"}}),T.jsx("button",{type:"submit",style:{backgroundColor:"#111",color:"#fff",padding:"12px 24px",borderRadius:"5px",border:"none",fontSize:"12px",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.07em",cursor:"pointer",whiteSpace:"nowrap"},className:"hover:opacity-90 transition-opacity",children:"Obtener mi 10% OFF"})]})]}),kE=()=>T.jsxs("div",{className:"w-full",children:[T.jsx($w,{}),T.jsx(Jw,{}),T.jsx(wk,{}),T.jsx(xk,{}),T.jsx(Ik,{}),T.jsx(Dk,{})]}),ME={width:"100%",padding:"10px 14px",border:"1px solid var(--vsm-gray)",borderRadius:"5px",fontSize:"14px",fontFamily:"inherit",outline:"none",color:"var(--vsm-black)",backgroundColor:"var(--vsm-white)",transition:"border-color 0.2s"},VE={fontSize:"13px",fontWeight:700,color:"var(--vsm-black)",display:"block",marginBottom:"6px"},Nk=()=>{const[i,e]=$n.useState(""),[n,s]=$n.useState(""),[o,u]=$n.useState(null),[f,m]=$n.useState(!1),p=No(),g=async E=>{E.preventDefault(),m(!0);try{await QD(uu,i,n),u(null),p("/Admin")}catch{u("Correo o contrasea incorrectos. Por favor verifica tus datos."),s("")}finally{m(!1)}};return T.jsx("div",{style:{minHeight:"calc(100vh - 96px)",display:"flex",alignItems:"center",justifyContent:"center",padding:"2rem"},className:"w-full",children:T.jsxs("div",{style:{backgroundColor:"var(--vsm-white)",borderRadius:"8px",boxShadow:"0 4px 24px rgba(0,0,0,0.09)",padding:"2.5rem",width:"100%",maxWidth:"420px"},children:[T.jsx("h2",{style:{fontWeight:800,fontSize:"1.6rem",color:"var(--vsm-black)",marginBottom:"0.4rem"},children:"Acceder"}),T.jsxs("p",{style:{color:"var(--vsm-gray-mid)",fontSize:"13px",marginBottom:"2rem"},children:["No tienes cuenta?"," ",T.jsx(ir,{to:"/Register",style:{color:"var(--vsm-brand)",fontWeight:700,textDecoration:"underline",textUnderlineOffset:"3px"},children:"Regstrate aqu"})]}),T.jsxs("form",{onSubmit:g,noValidate:!0,children:[T.jsxs("div",{style:{marginBottom:"1.25rem"},children:[T.jsxs("label",{htmlFor:"email",style:VE,children:["Nombre de usuario o correo electrnico"," ",T.jsx("span",{style:{color:"#DC2626"},children:"*"})]}),T.jsx("input",{type:"email",id:"email",value:i,onChange:E=>e(E.target.value),onFocus:E=>E.currentTarget.style.borderColor="var(--vsm-brand)",onBlur:E=>E.currentTarget.style.borderColor="var(--vsm-gray)",required:!0,style:ME})]}),T.jsxs("div",{style:{marginBottom:"1.25rem"},children:[T.jsxs("label",{htmlFor:"password",style:VE,children:["Contrasea ",T.jsx("span",{style:{color:"#DC2626"},children:"*"})]}),T.jsx("input",{type:"password",id:"password",value:n,onChange:E=>s(E.target.value),onFocus:E=>E.currentTarget.style.borderColor="var(--vsm-brand)",onBlur:E=>E.currentTarget.style.borderColor="var(--vsm-gray)",required:!0,style:ME})]}),T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"1.5rem"},children:[T.jsx("input",{type:"checkbox",id:"remember",style:{width:"15px",height:"15px",accentColor:"var(--vsm-brand)",cursor:"pointer"}}),T.jsx("label",{htmlFor:"remember",style:{fontSize:"13px",color:"var(--vsm-gray-mid)",cursor:"pointer"},children:"Recurdame"})]}),o&&T.jsx("div",{style:{backgroundColor:"#FEF2F2",border:"1px solid #FECACA",borderRadius:"5px",padding:"10px 14px",marginBottom:"1rem"},children:T.jsx("p",{style:{color:"#DC2626",fontSize:"13px",fontWeight:600},children:o})}),T.jsx("button",{type:"submit",disabled:f,style:{width:"100%",backgroundColor:"var(--vsm-brand)",color:"#fff",padding:"12px",borderRadius:"5px",border:"none",fontSize:"13px",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.07em",cursor:f?"not-allowed":"pointer",opacity:f?.75:1,transition:"opacity 0.2s",fontFamily:"inherit"},children:f?"Verificando...":"Acceso"}),T.jsx("p",{style:{textAlign:"center",marginTop:"1rem"},children:T.jsx("a",{href:"#",style:{color:"var(--vsm-gray-mid)",fontSize:"12px",textDecoration:"underline",textUnderlineOffset:"3px"},onClick:E=>E.preventDefault(),children:"Olvidaste la contrasea?"})})]})]})})},oh={width:"100%",padding:"10px 14px",border:"1px solid var(--vsm-gray)",borderRadius:"5px",fontSize:"14px",fontFamily:"inherit",outline:"none",color:"var(--vsm-black)",backgroundColor:"var(--vsm-white)",transition:"border-color 0.2s"},lh={fontSize:"13px",fontWeight:700,color:"var(--vsm-black)",display:"block",marginBottom:"6px"},Ok=()=>{const[i,e]=$n.useState(""),[n,s]=$n.useState(""),[o,u]=$n.useState(""),[f,m]=$n.useState(""),[p,g]=$n.useState(null),[E,S]=$n.useState(!1),x=No(),L=async z=>{if(z.preventDefault(),i.trim().length===0){g("Ingresa tu nombre completo.");return}if(o!==f){g("Las contraseas no coinciden.");return}if(o.length<6){g("La contrasea debe tener al menos 6 caracteres.");return}S(!0);try{const Y=await KD(uu,n,o);await XD(Y.user,{displayName:i.trim()}),g(null),x("/Login")}catch(Y){Y.code==="auth/email-already-in-use"?g("Este correo ya est registrado. Intenta iniciar sesin."):g("Error al crear la cuenta. Por favor intenta de nuevo."),u(""),m("")}finally{S(!1)}};return T.jsx("div",{style:{minHeight:"calc(100vh - 96px)",display:"flex",alignItems:"center",justifyContent:"center",padding:"2rem"},className:"w-full",children:T.jsxs("div",{style:{backgroundColor:"var(--vsm-white)",borderRadius:"8px",boxShadow:"0 4px 24px rgba(0,0,0,0.09)",padding:"2.5rem",width:"100%",maxWidth:"420px"},children:[T.jsx("h2",{style:{fontWeight:800,fontSize:"1.6rem",color:"var(--vsm-black)",marginBottom:"0.4rem"},children:"Crear cuenta"}),T.jsxs("p",{style:{color:"var(--vsm-gray-mid)",fontSize:"13px",marginBottom:"2rem"},children:["Ya tienes cuenta?"," ",T.jsx(ir,{to:"/Login",style:{color:"var(--vsm-brand)",fontWeight:700,textDecoration:"underline",textUnderlineOffset:"3px"},children:"Inicia sesin aqu"})]}),T.jsxs("form",{onSubmit:L,noValidate:!0,children:[T.jsxs("div",{style:{marginBottom:"1.25rem"},children:[T.jsxs("label",{htmlFor:"name",style:lh,children:["Nombre completo ",T.jsx("span",{style:{color:"#DC2626"},children:"*"})]}),T.jsx("input",{type:"text",id:"name",value:i,onChange:z=>e(z.target.value),onFocus:z=>z.currentTarget.style.borderColor="var(--vsm-brand)",onBlur:z=>z.currentTarget.style.borderColor="var(--vsm-gray)",required:!0,style:oh})]}),T.jsxs("div",{style:{marginBottom:"1.25rem"},children:[T.jsxs("label",{htmlFor:"email",style:lh,children:["Correo electrnico ",T.jsx("span",{style:{color:"#DC2626"},children:"*"})]}),T.jsx("input",{type:"email",id:"email",value:n,onChange:z=>s(z.target.value),onFocus:z=>z.currentTarget.style.borderColor="var(--vsm-brand)",onBlur:z=>z.currentTarget.style.borderColor="var(--vsm-gray)",required:!0,style:oh})]}),T.jsxs("div",{style:{marginBottom:"1.25rem"},children:[T.jsxs("label",{htmlFor:"password",style:lh,children:["Contrasea ",T.jsx("span",{style:{color:"#DC2626"},children:"*"})]}),T.jsx("input",{type:"password",id:"password",value:o,onChange:z=>u(z.target.value),onFocus:z=>z.currentTarget.style.borderColor="var(--vsm-brand)",onBlur:z=>z.currentTarget.style.borderColor="var(--vsm-gray)",required:!0,style:oh}),T.jsx("p",{style:{fontSize:"11px",color:"var(--vsm-gray-mid)",marginTop:"5px"},children:"Mnimo 6 caracteres."})]}),T.jsxs("div",{style:{marginBottom:"1.5rem"},children:[T.jsxs("label",{htmlFor:"confirmPassword",style:lh,children:["Confirmar contrasea ",T.jsx("span",{style:{color:"#DC2626"},children:"*"})]}),T.jsx("input",{type:"password",id:"confirmPassword",value:f,onChange:z=>m(z.target.value),onFocus:z=>z.currentTarget.style.borderColor="var(--vsm-brand)",onBlur:z=>z.currentTarget.style.borderColor="var(--vsm-gray)",required:!0,style:oh})]}),T.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"8px",marginBottom:"1.5rem"},children:[T.jsx("input",{type:"checkbox",id:"privacy",required:!0,style:{width:"15px",height:"15px",marginTop:"2px",accentColor:"var(--vsm-brand)",cursor:"pointer",flexShrink:0}}),T.jsxs("label",{htmlFor:"privacy",style:{fontSize:"12px",color:"var(--vsm-gray-mid)",cursor:"pointer",lineHeight:1.6},children:["He ledo y acepto la"," ",T.jsx("a",{href:"#",style:{color:"var(--vsm-brand)",textDecoration:"underline",textUnderlineOffset:"3px"},children:"Poltica de privacidad"})]})]}),p&&T.jsx("div",{style:{backgroundColor:"#FEF2F2",border:"1px solid #FECACA",borderRadius:"5px",padding:"10px 14px",marginBottom:"1rem"},children:T.jsx("p",{style:{color:"#DC2626",fontSize:"13px",fontWeight:600},children:p})}),T.jsx("button",{type:"submit",disabled:E,style:{width:"100%",backgroundColor:"var(--vsm-brand)",color:"#fff",padding:"12px",borderRadius:"5px",border:"none",fontSize:"13px",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.07em",cursor:E?"not-allowed":"pointer",opacity:E?.75:1,transition:"opacity 0.2s",fontFamily:"inherit"},children:E?"Creando cuenta...":"Registrarme"})]})]})})},kk=5*60*1e3,PE=["mousemove","mousedown","keydown","scroll","touchstart","click"],JS=Q.createContext({user:null,loading:!0,logout:async()=>{}}),Mk=({children:i})=>{const[e,n]=Q.useState(null),[s,o]=Q.useState(!0),u=Q.useRef(null),f=async()=>{u.current&&clearTimeout(u.current),await _E(uu)};return Q.useEffect(()=>{const m=ZD(uu,p=>{n(p),o(!1)});return()=>m()},[]),Q.useEffect(()=>{if(!e){u.current&&clearTimeout(u.current);return}const m=()=>{u.current&&clearTimeout(u.current),u.current=setTimeout(()=>_E(uu),kk)};return PE.forEach(p=>window.addEventListener(p,m,{passive:!0})),m(),()=>{PE.forEach(p=>window.removeEventListener(p,m)),u.current&&clearTimeout(u.current)}},[e]),T.jsx(JS.Provider,{value:{user:e,loading:s,logout:f},children:i})},Tg=()=>Q.useContext(JS);function Vk(){const[i,e]=Q.useState(null),[n,s]=Q.useState(!0);return Q.useEffect(()=>{const o=Wb(er(jn,"settings","general"),u=>{u.exists()?e(u.data()):e(null),s(!1)},()=>{e(null),s(!1)});return()=>o()},[]),{settings:i,loading:n}}const e1="/tiendaVirtual/assets/Logo-CuQzCToE.jpeg",Pk=[{to:"/",text:"Inicio"},{to:"/juguetes",text:"+ Productos"},{to:"/#nosotros",text:"Nosotros"},{to:"/contacto",text:"Contacto"}],Uk=()=>{const{user:i,logout:e}=Tg(),n=No(),{settings:s,loading:o}=Vk(),u=s?.logoUrl||e1,f=async()=>{await e(),n("/Login")};return T.jsx("header",{style:{position:"fixed",top:0,width:"100%",zIndex:40},children:T.jsxs("nav",{style:{backgroundColor:"var(--vsm-white)",borderBottom:"1px solid var(--vsm-gray)"},className:"flex justify-between items-center py-3 px-8",children:[T.jsxs(Kl,{to:"/",className:"flex items-center gap-2 hover:opacity-80 transition-opacity",children:[T.jsx("img",{src:u,alt:"Velas Santa Marta",style:{height:"38px",width:"auto",objectFit:"contain"}}),!o&&T.jsx("div",{children:s?.storeName?T.jsx("span",{style:{fontWeight:800,fontSize:"1rem",color:"#111",display:"block",lineHeight:1.2},children:s.storeName}):T.jsx(T.Fragment,{})})]}),T.jsx("ul",{className:"hidden md:flex items-center gap-8",children:Pk.map(m=>T.jsx("li",{children:T.jsx(Kl,{to:m.to,end:m.to==="/",style:({isActive:p})=>({color:"#111",fontWeight:p?700:600,fontSize:"13px",textDecoration:p?"underline":"none",textUnderlineOffset:"5px",textTransform:"uppercase",letterSpacing:"0.05em"}),className:"hover:opacity-60 transition-opacity",children:m.text})},m.to))}),T.jsx("div",{className:"flex items-center gap-4",children:i?T.jsxs(T.Fragment,{children:[T.jsx(Kl,{to:"/Admin",style:{color:"#111",fontSize:"12px",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.05em"},className:"hover:opacity-60 transition-opacity",children:"Admin"}),T.jsx("button",{onClick:f,style:{backgroundColor:"var(--vsm-black)",color:"#fff",fontSize:"11px",fontWeight:700,padding:"8px 16px",textTransform:"uppercase",letterSpacing:"0.05em",borderRadius:"4px",border:"none",cursor:"pointer",fontFamily:"inherit"},className:"hover:opacity-80 transition-opacity",children:"Cerrar sesin"})]}):T.jsxs(T.Fragment,{children:[T.jsx(Kl,{to:"/Login",style:{color:"#111",fontSize:"12px",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.05em"},className:"hover:opacity-60 transition-opacity",children:"Ingresar"}),T.jsx(Kl,{to:"/Register",style:{backgroundColor:"var(--vsm-brand)",color:"#fff",fontSize:"11px",fontWeight:700,padding:"8px 16px",textTransform:"uppercase",letterSpacing:"0.05em",borderRadius:"4px"},className:"hover:opacity-90 transition-opacity",children:"Registro"})]})})]})})},Lk=[{title:"Nuestras Polticas",links:[{label:"Privacidad",path:"/privacidad"},{label:"Trminos de uso",path:"/terminos"},{label:"Devoluciones",path:"/devoluciones"},{label:"Poltica de envo",path:"/envios"}]},{title:"Ms Informacin",links:[{label:"Contacto",path:"/contacto"},{label:"Nuestros aromas",path:"/aromas"},{label:"Cmo cuidar tu vela",path:"/cuidados"},{label:"Preguntas frecuentes",path:"/faq"}]}],jk=()=>T.jsxs("footer",{style:{backgroundColor:"var(--vsm-white)",borderTop:"1px solid var(--vsm-gray)"},className:"py-14",children:[T.jsxs("div",{className:"max-w-7xl mx-auto px-8 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-10",children:[T.jsxs("div",{children:[T.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[T.jsx("img",{src:e1,alt:"Velas Santa Marta",style:{height:"36px",width:"auto",objectFit:"contain"}}),T.jsxs("div",{children:[T.jsx("span",{style:{fontWeight:800,fontSize:"1rem",display:"block",lineHeight:1.1,color:"var(--vsm-black)"},children:"Velas"}),T.jsx("span",{style:{fontWeight:600,fontSize:"0.6rem",color:"var(--vsm-brand)",letterSpacing:"0.12em",textTransform:"uppercase"},children:"Santa Marta"})]})]}),T.jsx("div",{className:"flex gap-3 mt-4",children:[{label:"IG",href:"#"},{label:"TK",href:"#"},{label:"FB",href:"#"},{label:"YT",href:"#"}].map(i=>T.jsx("a",{href:i.href,style:{width:"32px",height:"32px",borderRadius:"50%",backgroundColor:"var(--vsm-brand)",color:"#fff",fontSize:"9px",fontWeight:800,display:"flex",alignItems:"center",justifyContent:"center",textDecoration:"none"},className:"hover:opacity-80 transition-opacity",children:i.label},i.label))})]}),T.jsxs("div",{children:[T.jsx("h3",{style:{fontWeight:800,fontSize:"13px",textTransform:"uppercase",letterSpacing:"0.08em",marginBottom:"1rem",color:"var(--vsm-black)"},children:"Sobre Nosotros"}),T.jsx("p",{style:{color:"var(--vsm-gray-mid)",fontSize:"13px",lineHeight:1.8},children:"Somos una pequea empresa artesanal nacida en Santa Marta, Colombia. Elaboramos velas a mano con cera natural e ingredientes del Caribe colombiano para crear experiencias nicas en tu hogar."})]}),Lk.map(i=>T.jsxs("div",{children:[T.jsx("h3",{style:{fontWeight:800,fontSize:"13px",textTransform:"uppercase",letterSpacing:"0.08em",marginBottom:"1rem",color:"var(--vsm-black)"},children:i.title}),T.jsx("ul",{style:{display:"flex",flexDirection:"column",gap:"0.6rem"},children:i.links.map(e=>T.jsx("li",{children:T.jsx(ir,{to:e.path,style:{color:"var(--vsm-gray-mid)",fontSize:"13px",textDecoration:"none"},className:"hover:text-black transition-colors",children:e.label})},e.label))})]},i.title))]}),T.jsxs("div",{style:{borderTop:"1px solid var(--vsm-gray)",marginTop:"3rem",paddingTop:"1.5rem"},className:"max-w-7xl mx-auto px-8 flex flex-col md:flex-row justify-between items-center gap-2",children:[T.jsx("p",{style:{color:"var(--vsm-gray-mid)",fontSize:"12px"},children:"Copyright  2025 Velas Santa Marta"}),T.jsx("p",{style:{color:"var(--vsm-gray-mid)",fontSize:"12px"},children:"Santa Marta, Magdalena, Colombia"})]})]}),zk="96px",Bk=({children:i,alignRight:e})=>{const s=ca().pathname==="/";return T.jsx("div",{style:{marginTop:zk},className:`flex flex-col ${s?"":e?"items-end px-4":"items-center px-4"} w-full`,children:i})},qk=()=>{const{slug:i}=vw(),[e,n]=Q.useState(null),[s,o]=Q.useState(!0),[u,f]=Q.useState(!1),[m,p]=Q.useState(0),[g,E]=Q.useState(!1),[S,x]=Q.useState(!1);if(Q.useEffect(()=>{i&&(o(!0),f(!1),p(0),Kb(er(jn,"products",i)).then(Y=>{Y.exists()?n({id:Y.id,...Y.data()}):f(!0),o(!1)}).catch(()=>{f(!0),o(!1)}))},[i]),s)return T.jsx("div",{style:{padding:"2rem",color:"var(--vsm-gray-mid)",fontSize:"14px"},children:"Cargando producto..."});if(u||!e)return T.jsx("div",{style:{padding:"2rem",color:"var(--vsm-gray-mid)",fontSize:"14px"},children:"Producto no encontrado."});const L=e.images?.length?e.images:e.imageUrl?[e.imageUrl]:[],z=Y=>{Y!==m&&(E(!0),setTimeout(()=>{p(Y),E(!1)},150))};return T.jsx("div",{style:{backgroundColor:"var(--vsm-white)",borderRadius:"8px",padding:"1.5rem",boxShadow:"0 2px 16px rgba(0,0,0,0.08)",marginBottom:"2rem"},children:T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[T.jsxs("div",{children:[T.jsx("div",{style:{borderRadius:"8px",overflow:"hidden",border:"1px solid var(--vsm-gray)",aspectRatio:"1",backgroundColor:"#F0EBE3",cursor:L.length>0?"zoom-in":"default"},children:L.length>0?T.jsx("img",{src:L[m],alt:e.name,style:{width:"100%",height:"100%",objectFit:"cover",display:"block",opacity:g?0:1,transform:S?"scale(1.08)":"scale(1)",transition:"opacity 0.15s ease, transform 0.35s ease"},onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1)}):T.jsx("div",{className:"w-full h-full flex items-center justify-center",style:{fontSize:"5rem"},children:""})}),L.length>1&&T.jsx("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.75rem",overflowX:"auto",paddingBottom:"4px"},children:L.map((Y,P)=>T.jsx("button",{onClick:()=>z(P),style:{flexShrink:0,width:"64px",height:"64px",borderRadius:"6px",overflow:"hidden",border:P===m?"2px solid var(--vsm-brand)":"2px solid var(--vsm-gray)",padding:0,cursor:"pointer",backgroundColor:"#F0EBE3",transition:"border-color 0.2s",outline:"none"},children:T.jsx("img",{src:Y,alt:`Vista ${P+1}`,style:{width:"100%",height:"100%",objectFit:"cover",display:"block"}})},P))})]}),T.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[T.jsx("h1",{style:{fontSize:"1.5rem",fontWeight:800,color:"var(--vsm-black)",lineHeight:1.2},children:e.name}),T.jsx("p",{style:{fontSize:"1.75rem",fontWeight:800,color:"var(--vsm-brand)"},children:new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",maximumFractionDigits:0}).format(e.price)}),T.jsx("p",{style:{fontSize:"14px",color:"var(--vsm-gray-mid)",lineHeight:1.8},children:e.description}),T.jsx("p",{style:{fontSize:"13px",fontWeight:600,color:e.stock===0?"#DC2626":"#16A34A"},children:e.stock===0?"Sin stock":`${e.stock} disponibles`}),T.jsx("button",{disabled:e.stock===0,style:{marginTop:"auto",backgroundColor:e.stock===0?"var(--vsm-gray)":"var(--vsm-brand)",color:"#fff",border:"none",borderRadius:"5px",padding:"13px 24px",fontSize:"13px",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.07em",cursor:e.stock===0?"not-allowed":"pointer",fontFamily:"inherit"},children:e.stock===0?"Agotado":"Aadir al carrito"})]})]})})},Fk=()=>{const{data:i,loading:e}=Io("products"),{data:n,loading:s}=Io("categories"),o=e||s,u=i.filter(p=>p.stock===0).length,f=T.jsx("div",{style:{backgroundColor:"var(--vsm-gray)",borderRadius:"8px",height:"110px",animation:"pulse 1.5s ease-in-out infinite"}});if(o)return T.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[f,f,f]});const m=[{label:"Total Productos",value:i.length,color:"var(--vsm-brand)"},{label:"Total Categoras",value:n.length,color:"var(--vsm-brand)"},{label:"Sin Stock",value:u,color:"#DC2626"}];return T.jsxs("div",{children:[T.jsx("h2",{style:{fontWeight:800,fontSize:"1.1rem",color:"var(--vsm-black)",marginBottom:"1.25rem"},children:"Dashboard"}),T.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:m.map(p=>T.jsxs("div",{style:{backgroundColor:"var(--vsm-white)",borderRadius:"8px",padding:"1.25rem 1.5rem",borderTop:`3px solid ${p.color}`,boxShadow:"0 2px 8px rgba(0,0,0,0.06)"},children:[T.jsx("p",{style:{fontSize:"13px",color:"var(--vsm-gray-mid)",fontWeight:600,marginBottom:"0.5rem"},children:p.label}),T.jsx("p",{style:{fontSize:"2rem",fontWeight:800,color:p.color,lineHeight:1},children:p.value})]},p.label))})]})},t1=({isOpen:i,onClose:e,children:n,maxWidth:s="560px"})=>(Q.useEffect(()=>{if(!i)return;document.body.style.overflow="hidden";const o=u=>{u.key==="Escape"&&e()};return window.addEventListener("keydown",o),()=>{document.body.style.overflow="",window.removeEventListener("keydown",o)}},[i,e]),i?T.jsx("div",{onClick:e,style:{position:"fixed",inset:0,zIndex:50,backgroundColor:"rgba(0,0,0,0.45)",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem"},children:T.jsxs("div",{onClick:o=>o.stopPropagation(),style:{backgroundColor:"var(--vsm-white)",borderRadius:"8px",padding:"2rem",width:"100%",maxWidth:s,position:"relative",maxHeight:"90vh",overflowY:"auto"},children:[T.jsx("button",{onClick:e,"aria-label":"Cerrar",style:{position:"absolute",top:"1rem",right:"1rem",background:"none",border:"none",cursor:"pointer",fontSize:"1.25rem",color:"var(--vsm-gray-mid)",lineHeight:1,padding:"4px"},children:""}),n]})}):null),n1=()=>()=>{document.dispatchEvent(new MouseEvent("click",{bubbles:!0}))},uh=5,UE={name:"",description:"",price:"",stock:"",categoryId:"",imageUrl:""},oo={width:"100%",padding:"9px 12px",border:"1px solid var(--vsm-gray)",borderRadius:"5px",fontSize:"13px",fontFamily:"inherit",outline:"none",color:"var(--vsm-black)",backgroundColor:"var(--vsm-white)"},lo={fontSize:"12px",fontWeight:700,color:"var(--vsm-black)",display:"block",marginBottom:"5px"},LE={position:"absolute",top:-6,right:-6,width:20,height:20,borderRadius:"50%",backgroundColor:"#DC2626",color:"#fff",border:"none",cursor:"pointer",fontSize:"10px",fontWeight:700,display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"inherit",lineHeight:1,padding:0},Hk=({isOpen:i,onClose:e,product:n,categories:s})=>{const o=n1(),[u,f]=Q.useState(UE),[m,p]=Q.useState([]),[g,E]=Q.useState([]),[S,x]=Q.useState(""),[L,z]=Q.useState(0),[Y,P]=Q.useState(null),[re,ne]=Q.useState(!1);Q.useEffect(()=>{if(i){f(n?{name:n.name,description:n.description,price:n.price,stock:n.stock,categoryId:n.categoryId,imageUrl:n.imageUrl}:UE);const fe=n?.images?.length?n.images:n?.imageUrl?[n.imageUrl]:[];p(fe),E([]),x(""),z(ve=>ve+1),P(null)}},[i,n]);const te=(fe,ve)=>f(K=>({...K,[fe]:ve})),oe=m.length+g.length,ue=oe<uh,ae=()=>{const fe=S.trim();!fe||!ue||(p(ve=>[...ve,fe]),x(""))},D=fe=>p(ve=>ve.filter((K,ie)=>ie!==fe)),w=fe=>E(ve=>ve.filter((K,ie)=>ie!==fe)),R=fe=>{o();const ve=Array.from(fe.target.files??[]);if(!ve.length)return;const K=uh-oe;E(ie=>[...ie,...ve.slice(0,K)]),z(ie=>ie+1)},O=async(fe,ve,K)=>{const ie=fe.name.split(".").pop(),ce=$S(ZS,`products/${ve}/image-${Date.now()}-${K}.${ie}`);return await XS(ce,fe),WS(ce)},N=async fe=>{if(fe.preventDefault(),!u.name.trim()){P("El nombre es obligatorio.");return}ne(!0),P(null);try{const ve={name:u.name.trim(),description:u.description.trim(),price:Number(u.price)||0,stock:Number(u.stock)||0,categoryId:u.categoryId};if(n){const K=[];for(let ce=0;ce<g.length;ce++)try{K.push(await O(g[ce],n.id,ce))}catch{console.warn("Upload failed for file",ce)}const ie=[...m,...K];if(await hp(er(jn,"products",n.id),{...ve,imageUrl:ie[0]??"",images:ie,updatedAt:au()}),K.length<g.length){P("Producto guardado, pero algunas imgenes no pudieron subirse."),ne(!1);return}}else{const K=await Xb(Mh(jn,"products"),{...ve,imageUrl:m[0]??"",images:m,createdAt:au(),updatedAt:au()});if(g.length>0){const ie=[];for(let ce=0;ce<g.length;ce++)try{ie.push(await O(g[ce],K.id,ce))}catch{console.warn("Upload failed for file",ce)}if(ie.length>0){const ce=[...m,...ie];await hp(er(jn,"products",K.id),{imageUrl:ce[0]??"",images:ce})}if(ie.length<g.length){P("Producto creado, pero algunas imgenes no pudieron subirse."),ne(!1);return}}}e()}catch(ve){console.error(ve),P("Error al guardar. Intenta de nuevo.")}finally{ne(!1)}},V=fe=>fe.currentTarget.style.borderColor="var(--vsm-brand)",C=fe=>fe.currentTarget.style.borderColor="var(--vsm-gray)";return T.jsxs(t1,{isOpen:i,onClose:e,maxWidth:"560px",children:[T.jsx("h3",{style:{fontWeight:800,fontSize:"1.1rem",color:"var(--vsm-black)",marginBottom:"1.25rem"},children:n?"Editar producto":"Nuevo producto"}),T.jsx("form",{onSubmit:N,noValidate:!0,children:T.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[T.jsxs("div",{children:[T.jsxs("label",{style:lo,children:["Nombre ",T.jsx("span",{style:{color:"#DC2626"},children:"*"})]}),T.jsx("input",{value:u.name,onChange:fe=>te("name",fe.target.value),style:oo,onFocus:V,onBlur:C})]}),T.jsxs("div",{children:[T.jsx("label",{style:lo,children:"Descripcin"}),T.jsx("textarea",{value:u.description,onChange:fe=>te("description",fe.target.value),rows:3,style:{...oo,resize:"vertical"},onFocus:V,onBlur:C})]}),T.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.75rem"},children:[T.jsxs("div",{children:[T.jsx("label",{style:lo,children:"Precio (COP)"}),T.jsx("input",{type:"number",min:"0",value:u.price,placeholder:"0",onChange:fe=>te("price",fe.target.value===""?"":Number(fe.target.value)),style:oo,onFocus:V,onBlur:C})]}),T.jsxs("div",{children:[T.jsx("label",{style:lo,children:"Stock"}),T.jsx("input",{type:"number",min:"0",value:u.stock,placeholder:"0",onChange:fe=>te("stock",fe.target.value===""?"":Number(fe.target.value)),style:oo,onFocus:V,onBlur:C})]})]}),T.jsxs("div",{children:[T.jsx("label",{style:lo,children:"Categora"}),T.jsxs("select",{value:u.categoryId,onChange:fe=>te("categoryId",fe.target.value),style:{...oo,cursor:"pointer"},onFocus:V,onBlur:C,children:[T.jsx("option",{value:"",children:"Sin categora"}),s.map(fe=>T.jsx("option",{value:fe.id,children:fe.name},fe.id))]})]}),T.jsxs("div",{children:[T.jsxs("label",{style:lo,children:["Imgenes"," ",T.jsxs("span",{style:{color:"var(--vsm-gray-mid)",fontWeight:400},children:["(",oe,"/",uh,")  la primera es la principal"]})]}),oe>0&&T.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"10px",marginBottom:"0.75rem"},children:[m.map((fe,ve)=>T.jsxs("div",{style:{position:"relative",width:72,height:72,flexShrink:0},children:[T.jsx("img",{src:fe,alt:`Imagen ${ve+1}`,style:{width:72,height:72,objectFit:"cover",borderRadius:"5px",border:ve===0?"2px solid var(--vsm-brand)":"1px solid var(--vsm-gray)"}}),ve===0&&T.jsx("span",{style:{position:"absolute",bottom:3,left:3,backgroundColor:"var(--vsm-brand)",color:"#fff",fontSize:"9px",fontWeight:700,padding:"1px 5px",borderRadius:"2px"},children:"Principal"}),T.jsx("button",{type:"button",onClick:()=>D(ve),style:LE,children:""})]},ve)),g.map((fe,ve)=>T.jsxs("div",{style:{position:"relative",width:72,height:72,flexShrink:0},children:[T.jsx("img",{src:URL.createObjectURL(fe),alt:fe.name,style:{width:72,height:72,objectFit:"cover",borderRadius:"5px",border:"2px dashed var(--vsm-brand)"}}),T.jsx("span",{style:{position:"absolute",bottom:3,left:3,backgroundColor:"#F5A623",color:"#fff",fontSize:"9px",fontWeight:700,padding:"1px 5px",borderRadius:"2px"},children:"Por subir"}),T.jsx("button",{type:"button",onClick:()=>w(ve),style:LE,children:""})]},`p-${ve}`))]}),ue&&T.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"0.5rem"},children:[T.jsx("input",{value:S,onChange:fe=>x(fe.target.value),onKeyDown:fe=>{fe.key==="Enter"&&(fe.preventDefault(),ae())},placeholder:"https://... pegar URL de imagen",style:{...oo,flex:1},onFocus:V,onBlur:C}),T.jsx("button",{type:"button",onClick:ae,disabled:!S.trim(),style:{padding:"9px 14px",borderRadius:"5px",border:"none",backgroundColor:S.trim()?"var(--vsm-brand)":"var(--vsm-gray)",color:"#fff",fontSize:"12px",fontWeight:700,cursor:S.trim()?"pointer":"not-allowed",fontFamily:"inherit",whiteSpace:"nowrap"},children:"+ URL"})]}),ue&&T.jsxs("div",{children:[T.jsx("p",{style:{fontSize:"11px",color:"var(--vsm-gray-mid)",marginBottom:"4px"},children:"O subir archivo(s):"}),T.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:R,style:{fontSize:"13px",color:"var(--vsm-gray-mid)"}},L)]}),!ue&&T.jsxs("p",{style:{fontSize:"12px",color:"var(--vsm-gray-mid)",marginTop:"4px"},children:["Mximo de ",uh," imgenes alcanzado."]})]}),Y&&T.jsx("div",{style:{backgroundColor:"#FEF2F2",border:"1px solid #FECACA",borderRadius:"5px",padding:"10px 14px"},children:T.jsx("p",{style:{color:"#DC2626",fontSize:"13px",fontWeight:600},children:Y})}),T.jsxs("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"flex-end",paddingTop:"0.5rem"},children:[T.jsx("button",{type:"button",onClick:e,disabled:re,style:{padding:"9px 20px",borderRadius:"5px",border:"1px solid var(--vsm-gray)",backgroundColor:"var(--vsm-white)",color:"var(--vsm-gray-mid)",fontSize:"13px",fontWeight:600,cursor:"pointer",fontFamily:"inherit"},children:"Cancelar"}),T.jsx("button",{type:"submit",disabled:re,style:{padding:"9px 20px",borderRadius:"5px",border:"none",backgroundColor:"var(--vsm-brand)",color:"#fff",fontSize:"13px",fontWeight:700,cursor:re?"not-allowed":"pointer",opacity:re?.75:1,fontFamily:"inherit"},children:re?"Guardando...":"Guardar"})]})]})})]})},i1=({isOpen:i,onClose:e,onConfirm:n,title:s,message:o,loading:u})=>T.jsxs(t1,{isOpen:i,onClose:e,maxWidth:"420px",children:[T.jsx("h3",{style:{fontWeight:800,fontSize:"1.1rem",color:"var(--vsm-black)",marginBottom:"0.75rem"},children:s}),T.jsx("p",{style:{color:"var(--vsm-gray-mid)",fontSize:"14px",marginBottom:"1.5rem",lineHeight:1.6},children:o}),T.jsxs("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"flex-end"},children:[T.jsx("button",{onClick:e,disabled:u,style:{padding:"9px 20px",borderRadius:"5px",border:"1px solid var(--vsm-gray)",backgroundColor:"var(--vsm-white)",color:"var(--vsm-gray-mid)",fontSize:"13px",fontWeight:600,cursor:u?"not-allowed":"pointer",fontFamily:"inherit"},children:"Cancelar"}),T.jsx("button",{onClick:n,disabled:u,style:{padding:"9px 20px",borderRadius:"5px",border:"none",backgroundColor:"#DC2626",color:"#fff",fontSize:"13px",fontWeight:700,cursor:u?"not-allowed":"pointer",opacity:u?.75:1,fontFamily:"inherit"},children:u?"Eliminando...":"Eliminar"})]})]}),jE={padding:"8px 12px",border:"1px solid var(--vsm-gray)",borderRadius:"5px",fontSize:"13px",fontFamily:"inherit",outline:"none",flex:1},Gk=()=>{const{data:i}=Io("categories",F2("createdAt","asc")),[e,n]=Q.useState(""),[s,o]=Q.useState(null),[u,f]=Q.useState(!1),[m,p]=Q.useState(null),[g,E]=Q.useState(""),[S,x]=Q.useState(null),[L,z]=Q.useState(!1),[Y,P]=Q.useState(null),[re,ne]=Q.useState(!1),te=async()=>{const D=e.trim();if(!D){o("El nombre no puede estar vaco.");return}if(i.some(w=>w.name.toLowerCase()===D.toLowerCase())){o("Ya existe una categora con ese nombre.");return}f(!0),o(null);try{await Xb(Mh(jn,"categories"),{name:D,createdAt:au()}),n("")}catch{o("Error al agregar. Intenta de nuevo.")}finally{f(!1)}},oe=D=>{p(D.id),E(D.name),x(null)},ue=async D=>{const w=g.trim();if(!w){x("El nombre no puede estar vaco.");return}if(i.some(R=>R.id!==D.id&&R.name.toLowerCase()===w.toLowerCase())){x("Ya existe una categora con ese nombre.");return}z(!0),x(null);try{await hp(er(jn,"categories",D.id),{name:w}),p(null)}catch{x("Error al guardar. Intenta de nuevo.")}finally{z(!1)}},ae=async()=>{if(Y){ne(!0);try{await Yb(er(jn,"categories",Y.id)),P(null)}catch{}finally{ne(!1)}}};return T.jsxs("div",{children:[T.jsx("h3",{style:{fontWeight:700,fontSize:"1rem",color:"var(--vsm-black)",marginBottom:"1rem"},children:"Categoras"}),T.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"0.5rem"},children:[T.jsx("input",{value:e,onChange:D=>{n(D.target.value),o(null)},onKeyDown:D=>{D.key==="Enter"&&te()},placeholder:"Nueva categora...",style:jE,onFocus:D=>D.currentTarget.style.borderColor="var(--vsm-brand)",onBlur:D=>D.currentTarget.style.borderColor="var(--vsm-gray)"}),T.jsx("button",{onClick:te,disabled:u,style:{backgroundColor:"var(--vsm-brand)",color:"#fff",border:"none",borderRadius:"5px",padding:"8px 16px",fontSize:"13px",fontWeight:700,cursor:u?"not-allowed":"pointer",fontFamily:"inherit",whiteSpace:"nowrap",opacity:u?.75:1},children:u?"Agregando...":"Agregar"})]}),s&&T.jsx("p",{style:{color:"#DC2626",fontSize:"12px",marginBottom:"0.75rem"},children:s}),i.length===0?T.jsx("p",{style:{color:"var(--vsm-gray-mid)",fontSize:"13px"},children:"No hay categoras an."}):T.jsx("ul",{style:{listStyle:"none",padding:0,margin:0,display:"flex",flexDirection:"column",gap:"0.5rem"},children:i.map(D=>T.jsx("li",{style:{display:"flex",alignItems:"center",gap:"0.5rem",backgroundColor:"var(--vsm-white)",border:"1px solid var(--vsm-gray)",borderRadius:"6px",padding:"8px 12px"},children:m===D.id?T.jsxs(T.Fragment,{children:[T.jsx("input",{value:g,onChange:w=>{E(w.target.value),x(null)},onKeyDown:w=>{w.key==="Enter"&&ue(D)},style:{...jE,flex:1},onFocus:w=>w.currentTarget.style.borderColor="var(--vsm-brand)",onBlur:w=>w.currentTarget.style.borderColor="var(--vsm-gray)",autoFocus:!0}),S&&T.jsx("span",{style:{color:"#DC2626",fontSize:"11px"},children:S}),T.jsx("button",{onClick:()=>ue(D),disabled:L,style:{...ch,backgroundColor:"var(--vsm-brand)",color:"#fff",opacity:L?.75:1},children:L?"...":"Guardar"}),T.jsx("button",{onClick:()=>p(null),style:{...ch,border:"1px solid var(--vsm-gray)",color:"var(--vsm-gray-mid)"},children:"Cancelar"})]}):T.jsxs(T.Fragment,{children:[T.jsx("span",{style:{flex:1,fontSize:"14px",color:"var(--vsm-black)"},children:D.name}),T.jsx("button",{onClick:()=>oe(D),style:{...ch,border:"1px solid var(--vsm-gray)",color:"var(--vsm-gray-mid)"},children:"Editar"}),T.jsx("button",{onClick:()=>P(D),style:{...ch,backgroundColor:"#FEF2F2",color:"#DC2626",border:"1px solid #FECACA"},children:"Eliminar"})]})},D.id))}),T.jsx(i1,{isOpen:!!Y,onClose:()=>P(null),onConfirm:ae,title:"Eliminar categora",message:`Eliminar "${Y?.name}"? Esto no eliminar los productos asociados.`,loading:re})]})},ch={padding:"5px 12px",borderRadius:"4px",border:"none",fontSize:"12px",fontWeight:600,cursor:"pointer",fontFamily:"inherit",whiteSpace:"nowrap"},Pm=10,Kk=()=>{const{data:i}=Io("products"),{data:e}=Io("categories"),[n,s]=Q.useState("productos"),[o,u]=Q.useState(1);Q.useEffect(()=>{u(1)},[i]);const[f,m]=Q.useState(!1),[p,g]=Q.useState(),[E,S]=Q.useState(null),[x,L]=Q.useState(!1),z=Q.useMemo(()=>new Map(e.map(ae=>[ae.id,ae.name])),[e]),Y=ae=>z.get(ae)??"",P=Math.max(1,Math.ceil(i.length/Pm)),re=i.slice((o-1)*Pm,o*Pm),ne=async()=>{if(E){L(!0);try{await Yb(er(jn,"products",E.id)),S(null)}catch{}finally{L(!1)}}},te=()=>{g(void 0),m(!0)},oe=ae=>{g(ae),m(!0)},ue=ae=>({padding:"7px 18px",border:"none",borderBottom:ae?"2px solid var(--vsm-brand)":"2px solid transparent",backgroundColor:"transparent",color:ae?"var(--vsm-brand)":"var(--vsm-gray-mid)",fontWeight:ae?700:600,fontSize:"13px",cursor:"pointer",fontFamily:"inherit"});return T.jsxs("div",{children:[T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[T.jsx("h2",{style:{fontWeight:800,fontSize:"1.1rem",color:"var(--vsm-black)"},children:"Productos"}),n==="productos"&&T.jsx("button",{onClick:te,style:{backgroundColor:"var(--vsm-brand)",color:"#fff",border:"none",borderRadius:"5px",padding:"8px 18px",fontSize:"13px",fontWeight:700,cursor:"pointer",fontFamily:"inherit"},children:"+ Nuevo Producto"})]}),T.jsxs("div",{style:{borderBottom:"1px solid var(--vsm-gray)",marginBottom:"1.25rem",display:"flex"},children:[T.jsx("button",{style:ue(n==="productos"),onClick:()=>s("productos"),children:"Productos"}),T.jsx("button",{style:ue(n==="categorias"),onClick:()=>s("categorias"),children:"Categoras"})]}),n==="categorias"?T.jsx(Gk,{}):T.jsxs(T.Fragment,{children:[i.length===0?T.jsx("p",{style:{color:"var(--vsm-gray-mid)",fontSize:"13px"},children:"No hay productos an. Crea el primero."}):T.jsxs(T.Fragment,{children:[T.jsx("div",{style:{overflowX:"auto"},children:T.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"13px"},children:[T.jsx("thead",{children:T.jsx("tr",{style:{borderBottom:"2px solid var(--vsm-gray)"},children:["Imagen","Nombre","Categora","Precio","Stock","Acciones"].map(ae=>T.jsx("th",{style:{textAlign:"left",padding:"8px 10px",fontWeight:700,color:"var(--vsm-gray-mid)",whiteSpace:"nowrap"},children:ae},ae))})}),T.jsx("tbody",{children:re.map(ae=>T.jsxs("tr",{style:{borderBottom:"1px solid var(--vsm-gray)"},children:[T.jsx("td",{style:{padding:"8px 10px"},children:ae.imageUrl?T.jsx("img",{src:ae.imageUrl,alt:ae.name,style:{width:48,height:48,objectFit:"cover",borderRadius:"4px",border:"1px solid var(--vsm-gray)"}}):T.jsx("span",{style:{fontSize:"1.5rem"},children:""})}),T.jsx("td",{style:{padding:"8px 10px",fontWeight:600,color:"var(--vsm-black)"},children:ae.name}),T.jsx("td",{style:{padding:"8px 10px",color:"var(--vsm-gray-mid)"},children:Y(ae.categoryId)}),T.jsx("td",{style:{padding:"8px 10px",color:"var(--vsm-black)"},children:new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",maximumFractionDigits:0}).format(ae.price)}),T.jsx("td",{style:{padding:"8px 10px",fontWeight:ae.stock===0?700:400,color:ae.stock===0?"#DC2626":"var(--vsm-black)"},children:ae.stock}),T.jsx("td",{style:{padding:"8px 10px"},children:T.jsxs("div",{style:{display:"flex",gap:"0.4rem"},children:[T.jsx("button",{onClick:()=>oe(ae),style:zE("#E8E8E8","#111"),children:"Editar"}),T.jsx("button",{onClick:()=>S(ae),style:zE("#FEF2F2","#DC2626"),children:"Eliminar"})]})})]},ae.id))})]})}),P>1&&T.jsxs("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"flex-end",marginTop:"1rem",alignItems:"center"},children:[T.jsx("button",{onClick:()=>u(ae=>Math.max(1,ae-1)),disabled:o===1,style:BE(o===1),children:" Ant"}),T.jsxs("span",{style:{fontSize:"12px",color:"var(--vsm-gray-mid)"},children:["Pg ",o," / ",P]}),T.jsx("button",{onClick:()=>u(ae=>Math.min(P,ae+1)),disabled:o===P,style:BE(o===P),children:"Sig "})]})]}),T.jsx(Hk,{isOpen:f,onClose:()=>m(!1),product:p,categories:e}),T.jsx(i1,{isOpen:!!E,onClose:()=>S(null),onConfirm:ne,title:"Eliminar producto",message:`Eliminar "${E?.name}"? Esta accin no se puede deshacer.`,loading:x})]})]})},zE=(i,e)=>({padding:"4px 10px",borderRadius:"4px",border:"none",backgroundColor:i,color:e,fontSize:"12px",fontWeight:600,cursor:"pointer",fontFamily:"inherit"}),BE=i=>({padding:"5px 12px",borderRadius:"4px",border:"1px solid var(--vsm-gray)",backgroundColor:i?"var(--vsm-gray)":"var(--vsm-white)",color:i?"var(--vsm-gray-mid)":"var(--vsm-black)",fontSize:"12px",fontWeight:600,cursor:i?"not-allowed":"pointer",fontFamily:"inherit"}),r1=er(jn,"settings","general");async function Qk(){const i=await Kb(r1);return i.exists()?i.data():null}async function Yk(i){const e=i.name.split(".").pop(),n=$S(ZS,`logos/store-logo.${e}`);return await XS(n,i),WS(n)}async function Xk(i,e){await K2(r1,{...i,logoUrl:e,updatedAt:au()},{merge:!0})}const qE={storeName:"",description:"",email:"",phone:"",social:{instagram:"",facebook:"",whatsapp:"",tiktok:""}},Yl={width:"100%",padding:"9px 12px",border:"1px solid var(--vsm-gray)",borderRadius:"5px",fontSize:"13px",fontFamily:"inherit",outline:"none",color:"var(--vsm-black)",backgroundColor:"var(--vsm-white)"},uo={fontSize:"12px",fontWeight:700,color:"var(--vsm-black)",display:"block",marginBottom:"5px"},Wk=()=>{const i=n1(),[e,n]=Q.useState(qE),[s,o]=Q.useState(""),[u,f]=Q.useState(null),[m,p]=Q.useState(null),[g,E]=Q.useState(0),[S,x]=Q.useState(!1),[L,z]=Q.useState(!0),[Y,P]=Q.useState(!1),[re,ne]=Q.useState(null);Q.useEffect(()=>{Qk().then(R=>{R&&(n({storeName:R.storeName??"",description:R.description??"",email:R.email??"",phone:R.phone??"",social:R.social??qE.social}),o(R.logoUrl??"")),z(!1)}).catch(()=>z(!1))},[]);const te=(R,O)=>n(N=>({...N,[R]:O})),oe=(R,O)=>n(N=>({...N,social:{...N.social,[R]:O}})),ue=R=>{i();const O=R.target.files?.[0];O&&(f(O),p(URL.createObjectURL(O)))},ae=async R=>{R.preventDefault(),x(!0),ne(null),P(!1);try{let O=s;u&&(O=await Yk(u),o(O),f(null),p(null),E(N=>N+1)),await Xk(e,O),P(!0),setTimeout(()=>P(!1),3e3)}catch{ne("Error al guardar. Intenta de nuevo.")}finally{x(!1)}},D=R=>R.currentTarget.style.borderColor="var(--vsm-brand)",w=R=>R.currentTarget.style.borderColor="var(--vsm-gray)";return L?T.jsx("div",{style:{color:"var(--vsm-gray-mid)",fontSize:"13px"},children:"Cargando configuracin..."}):T.jsxs("div",{children:[T.jsx("h2",{style:{fontWeight:800,fontSize:"1.1rem",color:"var(--vsm-black)",marginBottom:"1.25rem"},children:"Configuracin de la tienda"}),T.jsx("form",{onSubmit:ae,noValidate:!0,children:T.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.25rem",maxWidth:"540px"},children:[T.jsxs("div",{children:[T.jsx("label",{style:uo,children:"Logo de la tienda"}),T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"0.5rem"},children:[(m||s)&&T.jsx("div",{style:{position:"relative",width:72,height:72},children:T.jsx("img",{src:m??s,alt:"Logo",style:{width:72,height:72,objectFit:"contain",borderRadius:"6px",border:"1px solid var(--vsm-gray)"}})}),T.jsx("input",{type:"file",accept:"image/*",onChange:ue,style:{fontSize:"13px",color:"var(--vsm-gray-mid)"}},g)]}),u&&T.jsxs("p",{style:{fontSize:"12px",color:"var(--vsm-gray-mid)"},children:["Nuevo logo: ",u.name]})]}),T.jsxs("div",{children:[T.jsx("label",{style:uo,children:"Nombre de la tienda"}),T.jsx("input",{value:e.storeName,onChange:R=>te("storeName",R.target.value),style:Yl,onFocus:D,onBlur:w})]}),T.jsxs("div",{children:[T.jsx("label",{style:uo,children:"Descripcin"}),T.jsx("textarea",{value:e.description,onChange:R=>n(O=>({...O,description:R.target.value})),rows:3,style:{...Yl,resize:"vertical"},onFocus:D,onBlur:w})]}),T.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.75rem"},children:[T.jsxs("div",{children:[T.jsx("label",{style:uo,children:"Correo de contacto"}),T.jsx("input",{value:e.email,onChange:R=>te("email",R.target.value),type:"email",style:Yl,onFocus:D,onBlur:w})]}),T.jsxs("div",{children:[T.jsx("label",{style:uo,children:"Telfono / WhatsApp"}),T.jsx("input",{value:e.phone,onChange:R=>te("phone",R.target.value),style:Yl,onFocus:D,onBlur:w})]})]}),T.jsxs("div",{children:[T.jsx("label",{style:{...uo,marginBottom:"0.75rem"},children:"Redes sociales"}),T.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.6rem"},children:["instagram","facebook","whatsapp","tiktok"].map(R=>T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[T.jsx("span",{style:{fontSize:"12px",width:80,color:"var(--vsm-gray-mid)",fontWeight:600,textTransform:"capitalize"},children:R}),T.jsx("input",{value:e.social[R],onChange:O=>oe(R,O.target.value),placeholder:`URL de ${R}`,style:{...Yl,flex:1},onFocus:D,onBlur:w})]},R))})]}),re&&T.jsx("div",{style:{backgroundColor:"#FEF2F2",border:"1px solid #FECACA",borderRadius:"5px",padding:"10px 14px"},children:T.jsx("p",{style:{color:"#DC2626",fontSize:"13px",fontWeight:600},children:re})}),Y&&T.jsx("div",{style:{backgroundColor:"#F0FDF4",border:"1px solid #86EFAC",borderRadius:"5px",padding:"10px 14px"},children:T.jsx("p",{style:{color:"#16A34A",fontSize:"13px",fontWeight:600},children:"Configuracin guardada correctamente."})}),T.jsx("button",{type:"submit",disabled:S,style:{alignSelf:"flex-start",backgroundColor:"var(--vsm-brand)",color:"#fff",border:"none",borderRadius:"5px",padding:"10px 24px",fontSize:"13px",fontWeight:700,cursor:S?"not-allowed":"pointer",opacity:S?.75:1,fontFamily:"inherit"},children:S?"Guardando...":"Guardar cambios"})]})})]})},FE=[{id:"dashboard",label:"Dashboard"},{id:"productos",label:"Productos"},{id:"configuracion",label:"Configuracin"}],$k=()=>{const{user:i,logout:e}=Tg(),n=No(),[s,o]=Q.useState("dashboard"),u=async()=>{await e(),n("/Login")},f=i?.displayName??i?.email??"Admin",m=p=>({display:"block",width:"100%",textAlign:"left",padding:"10px 14px",borderRadius:"6px",border:"none",backgroundColor:s===p.id?"var(--vsm-brand)":"transparent",color:s===p.id?"#fff":"var(--vsm-gray-mid)",fontWeight:s===p.id?700:600,fontSize:"13px",cursor:"pointer",fontFamily:"inherit",transition:"background-color 0.15s, color 0.15s"});return T.jsxs("div",{style:{minHeight:"calc(100vh - 96px)",padding:"2rem 1rem"},className:"max-w-6xl w-full mx-auto",children:[T.jsxs("header",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",paddingBottom:"1.25rem",borderBottom:"1px solid var(--vsm-gray)",flexWrap:"wrap",gap:"1rem"},children:[T.jsxs("div",{children:[T.jsx("h1",{style:{fontWeight:800,fontSize:"1.4rem",color:"var(--vsm-black)"},children:"Panel de Administracin"}),T.jsxs("p",{style:{color:"var(--vsm-gray-mid)",fontSize:"13px",marginTop:"4px"},children:["Hola, ",T.jsx("strong",{style:{color:"var(--vsm-black)"},children:f})]})]}),T.jsx("button",{onClick:u,style:{backgroundColor:"var(--vsm-black)",color:"#fff",padding:"10px 20px",borderRadius:"5px",border:"none",fontSize:"12px",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.07em",cursor:"pointer",fontFamily:"inherit",whiteSpace:"nowrap"},className:"hover:opacity-80 transition-opacity",children:"Cerrar sesin"})]}),T.jsxs("div",{style:{display:"flex",gap:"1.5rem",marginTop:"1.5rem",flexWrap:"wrap"},children:[T.jsx("nav",{className:"hidden md:flex",style:{flexDirection:"column",width:200,flexShrink:0,gap:"0.25rem"},children:FE.map(p=>T.jsx("button",{onClick:()=>o(p.id),style:m(p),children:p.label},p.id))}),T.jsx("nav",{className:"flex md:hidden",style:{width:"100%",borderBottom:"1px solid var(--vsm-gray)",paddingBottom:"0.5rem",gap:"0.25rem"},children:FE.map(p=>T.jsx("button",{onClick:()=>o(p.id),style:{flex:1,padding:"8px 4px",borderRadius:"5px",border:"none",backgroundColor:s===p.id?"var(--vsm-brand)":"transparent",color:s===p.id?"#fff":"var(--vsm-gray-mid)",fontWeight:s===p.id?700:600,fontSize:"12px",cursor:"pointer",fontFamily:"inherit"},children:p.label},p.id))}),T.jsxs("main",{style:{flex:1,minWidth:0},children:[s==="dashboard"&&T.jsx(Fk,{}),s==="productos"&&T.jsx(Kk,{}),s==="configuracion"&&T.jsx(Wk,{})]})]})]})},Zk=({children:i})=>{const{user:e,loading:n}=Tg();return n?T.jsx("p",{children:"cargando..."}):e?T.jsx(T.Fragment,{children:i}):T.jsx(Mw,{to:"/Login"})};function Jk(){return T.jsxs(Gw,{children:[T.jsx(Uk,{}),T.jsx(Bk,{children:T.jsxs(Uw,{children:[T.jsx(Fr,{path:"/",element:T.jsx(kE,{})}),T.jsx(Fr,{path:"/juguetes",element:T.jsx(kE,{}),children:T.jsx(Fr,{path:":slug",element:T.jsx(qk,{})})}),T.jsx(Fr,{path:"/Login",element:T.jsx(Nk,{})}),T.jsx(Fr,{path:"/Register",element:T.jsx(Ok,{})}),T.jsx(Fr,{path:"/Admin",element:T.jsx(Zk,{children:T.jsx($k,{})})}),T.jsx(Fr,{path:"*",element:T.jsx("p",{children:"Not Found"})})]})}),T.jsx(jk,{})]})}FA.createRoot(document.getElementById("root")).render(T.jsx(Q.StrictMode,{children:T.jsx(Mk,{children:T.jsx(Jk,{})})}));
